(()=>{"use strict";function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var e=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,i;return n=e,(i=[{key:"load",value:function(t,e){var n=document.createElement("img");n.src="assets/Lander.png",n.width=250,t.appendChild(n);var i=document.createElement("h1");i.innerText="Lunar Lander",t.appendChild(i);var r=document.createElement("a");r.href="#",r.addEventListener("click",(function(){e.router.requestTransition("play",{level:1})})),r.innerText="Play",t.appendChild(r);var o=document.createElement("a");o.href="#",o.addEventListener("click",(function(){e.router.requestTransition("controls")})),o.innerText="Controls",t.appendChild(o);var a=document.createElement("a");a.href="#",a.addEventListener("click",(function(){e.router.requestTransition("scores")})),a.innerText="High Scores",t.appendChild(a);var s=document.createElement("a");s.href="#",s.addEventListener("click",(function(){e.router.requestTransition("credits")})),s.innerText="Credits",t.appendChild(s)}},{key:"init",value:function(t){t.localState=null}},{key:"canTransition",value:function(t){return!0}}])&&t(n.prototype,i),e}();function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,"_x",0),i(this,"_y",0),this._x=e,this._y=n}var e,r,o;return e=t,o=[{key:"random",value:function(){return new t(Math.random(),Math.random()).normalize()}},{key:"distance",value:function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}}],(r=[{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"sqrMagnitude",value:function(){return Math.pow(this.x,2)+Math.pow(this.y,2)}},{key:"magnitude",value:function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}},{key:"normalize",value:function(){var e=this.magnitude();return new t(this.x/e,this.y/e)}},{key:"scale",value:function(e){return new t(this.x*e,this.y*e)}},{key:"add",value:function(e){return new t(this.x+e.x,this.y+e.y)}},{key:"rotate",value:function(e){var n=e*Math.PI/180;return new t(this.x*Math.cos(n)-Math.sin(n)*this.y,this.x*Math.sin(n)+this.y*Math.cos(n))}},{key:"toString",value:function(){return"Vector2(x: ".concat(this.x,", y: ").concat(this.y,")")}}])&&n(e.prototype,r),o&&n(e,o),t}();i(r,"ZERO",new r(0,0));const o=r;function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;e.ready&&(t.save(),t.translate(n.x,n.y),t.rotate(r*Math.PI/180),t.translate(-n.x,-n.y),t.drawImage(e.texture,n.x-i.x/2,n.y-i.y/2,i.x,i.y),t.restore())}var l=function(){function t(e,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,"size",void 0),s(this,"el",void 0),s(this,"ready",!1),this.el=new Image,this.el.src=e,this.el.addEventListener("load",(function(){i.ready=!0}))}var e,n;return e=t,(n=[{key:"texture",get:function(){return this.el}}])&&a(e.prototype,n),t}();function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=function(){function t(){c(this,t),d(this,"particles",void 0),this.particles=[]}return f(t,[{key:"update",value:function(t,e){this.particles=this.particles.filter((function(n){return n.update(t,e),n.remainingTime>0}))}},{key:"add",value:function(t){this.particles.push(t)}}]),t}(),v=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;c(this,t),d(this,"position",void 0),d(this,"_rate",.1),d(this,"_elapsed",0),d(this,"_count",10),d(this,"_container",void 0),d(this,"_particleGenerator",void 0),d(this,"_predicate",void 0),this._container=new y,this._particleGenerator=e,this._predicate=n,this._count=r,this._rate=i}return f(t,[{key:"draw",value:function(t,e,n){this._container.particles.forEach((function(i){i.draw(t,e,n)}))}},{key:"update",value:function(t,e){if(this._predicate(e)&&(this._elapsed+=t,this._elapsed>this._rate)){this._elapsed-=this._rate;for(var n=0;n<this._count;n++)this._container.add(new p(this.position,this._particleGenerator.velocity(e),this._particleGenerator.lifetime(e),this._particleGenerator.rotation(e),this._particleGenerator.texture(e),this._particleGenerator.size(e)))}this._container.update(t,e)}}]),t}(),p=function(){function t(e,n,i,r,o,a){c(this,t),d(this,"_center",void 0),d(this,"_direction",void 0),d(this,"_velocity",void 0),d(this,"_lifetime",void 0),d(this,"_rotation",void 0),d(this,"_elapsedLifetime",void 0),d(this,"_texture",void 0),d(this,"_size",void 0),this._center=e,this._velocity=n,this._lifetime=i,this._rotation=r,this._texture=o,this._size=a,this._elapsedLifetime=0}return f(t,[{key:"draw",value:function(t,e,n){t.globalAlpha=1-this._elapsedLifetime/this._lifetime,u(t,this._texture,n.translate(this._center),n.translate(this._size),this._rotation),t.globalAlpha=1}},{key:"velocity",get:function(){return this._velocity}},{key:"direction",get:function(){return this._direction}},{key:"center",get:function(){return this._center}},{key:"remainingTime",get:function(){return this._lifetime-this._elapsedLifetime}},{key:"update",value:function(t,e){this._elapsedLifetime+=t,this._center=this._center.add(this._velocity.scale(t))}}]),t}();function g(t,e,n){var i=new o(n.x-e.x,n.y-e.y),r=new o(e.x-t.center.x,e.y-t.center.y),a=-2*(i.x*r.x+i.y*r.y),s=2*(i.x*i.x+i.y*i.y),u=Math.sqrt(a*a-2*s*(r.x*r.x+r.y*r.y-t.radius*t.radius));if(isNaN(u))return!1;var l=(a-u)/s,c=(a+u)/s;return l<=1&&l>=0||c<=1&&c>=0}function m(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var w=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"gaussian",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,e=0,n=0;n<t;n++)e+=Math.random();return e/t-.5}}])&&m(e.prototype,n),t}());function b(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),_(this,"_center",void 0),_(this,"_radius",void 0),this._center=e,this._radius=n}var e,n;return e=t,(n=[{key:"center",get:function(){return this._center}},{key:"radius",get:function(){return this._radius}}])&&b(e.prototype,n),t}();function x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function T(t,e,n){return e&&S(t.prototype,e),n&&S(t,n),t}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var P=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;x(this,t),E(this,"_rotationOffset",void 0),E(this,"tex",new l("assets/Smoke.png",new o(32,32))),E(this,"_size",new o(.425,.425)),this._rotationOffset=e}return T(t,[{key:"texture",value:function(t){return this.tex}},{key:"size",value:function(t){return this._size}},{key:"velocity",value:function(t){var e=t.localState.lander.rotationVector,n=100*w.gaussian(12);return(e=e.rotate(n+this._rotationOffset)).scale(-5*w.gaussian(12))}},{key:"lifetime",value:function(t){return 5+w.gaussian(12)}},{key:"rotation",value:function(t){return 0}}]),t}(),C=function(){function t(){x(this,t),E(this,"tex",new l("assets/Fire.png",new o(32,32))),E(this,"_size",new o(.425,.425))}return T(t,[{key:"texture",value:function(t){return this.tex}},{key:"size",value:function(t){return this._size}},{key:"velocity",value:function(t){var e=t.localState.lander.rotationVector,n=360*Math.random();return(e=e.rotate(n)).scale(-20*w.gaussian(12))}},{key:"lifetime",value:function(t){return 2+w.gaussian(12)}},{key:"rotation",value:function(t){return 0}}]),t}(),z=function(){function t(e,n,i){var r=this;x(this,t),E(this,"size",void 0),E(this,"texture",void 0),E(this,"_frozen",void 0),E(this,"thrustEmitter",void 0),E(this,"leftRotationEmitter",void 0),E(this,"rightRotationEmitter",void 0),E(this,"explosionEmitter",void 0),E(this,"_position",void 0),E(this,"_velocity",void 0),E(this,"_rotationVector",void 0),E(this,"_rotation",void 0),E(this,"_explosionCount",0),E(this,"_isExploding",!1),E(this,"fuel",100),E(this,"crashed",!1),E(this,"thrusting",!1),E(this,"turningLeft",!1),E(this,"turningRight",!1),this.texture=n,this.size=i,this._frozen=!1,this._position=e,this._velocity=new o(0,0),this._rotationVector=new o(0,-1),this._rotation=0,this.thrustEmitter=new v(new P,(function(t){return t.localState.lander.thrusting&&t.localState.lander.fuel>0&&!r._frozen}),.03,5),this.leftRotationEmitter=new v(new P(90),(function(t){return t.localState.lander.turningLeft&&t.localState.lander.fuel>0&&!r._frozen}),.03,3),this.rightRotationEmitter=new v(new P(-90),(function(t){return t.localState.lander.turningRight&&t.localState.lander.fuel>0&&!r._frozen}),.03,3),this.explosionEmitter=new v(new C,(function(t){return r._isExploding}),.03,200),this.positionEmitters()}return T(t,[{key:"draw",value:function(t,e,n){e.localState.lander.crashed||u(t,this.texture,n.translate(this._position),n.translate(this.size),this._rotation),this.thrustEmitter.draw(t,e,n),this.leftRotationEmitter.draw(t,e,n),this.rightRotationEmitter.draw(t,e,n),this.explosionEmitter.draw(t,e,n)}},{key:"debugDraw",value:function(t,e,n){t.beginPath(),t.strokeStyle="#ffffff";var i=n.translate(this._position);t.arc(i.x,i.y,n.translate(new o(4,0)).x,0,2*Math.PI),t.stroke();var r=n.translate(this._position),a=n.translate(this._rotationVector.scale(5));t.beginPath(),this._rotation%360<5&&this._rotation%360>-5?t.strokeStyle="#00ff00":t.strokeStyle="#ff0000",t.lineTo(r.x,r.y),t.lineTo(r.x+a.x,r.y+a.y),t.stroke();var s=n.translate(this._velocity.normalize().scale(5));t.beginPath(),this._velocity.sqrMagnitude()<4?t.strokeStyle="#0000ff":t.strokeStyle="#ff0000",t.lineTo(r.x,r.y),t.lineTo(r.x+s.x,r.y+s.y),t.stroke()}},{key:"positionEmitters",value:function(){this.thrustEmitter.position=this._position.add(this._rotationVector.scale(-1.5)),this.leftRotationEmitter.position=this._position.add(this._rotationVector.rotate(70).scale(-1.75)),this.rightRotationEmitter.position=this._position.add(this._rotationVector.rotate(-70).scale(-1.75)),this.explosionEmitter.position=this._position}},{key:"update",value:function(t,e){if(this._isExploding&&(console.log("Explosion"),this._explosionCount++),this._explosionCount>5&&(this._isExploding=!1,this._explosionCount=0),this.thrustEmitter.update(t,e),this.leftRotationEmitter.update(t,e),this.rightRotationEmitter.update(t,e),this.explosionEmitter.update(t,e),!this._frozen){this.turningLeft&&this.fuel>0&&this.rotate(t,e,-1),this.turningRight&&this.fuel>0&&this.rotate(t,e,1),this._velocity=this._velocity.add(e.config.gravity.scale(t)),this.thrusting&&this.fuel>0&&(this._velocity=this._velocity.add(this._rotationVector.scale(t*e.config.thrustCoefficient)),this.fuel-=e.config.fuelConsumption*t),this.fuel<0&&(this.fuel=0,e.commands.execute("fuelExpired",e)),this._position=this._position.add(this._velocity.scale(t)),this.positionEmitters();for(var n=0;n<e.localState.terrain.points.length-1;n++)if(g(new k(this._position,2),e.localState.terrain.points[n],e.localState.terrain.points[n+1])){if(this.velocity.sqrMagnitude()<=4&&(this.rotation<5||this.rotation>355))for(var i=0;i<e.localState.safeZones.length;i++)if(e.localState.terrain.points[n]==e.localState.safeZones[i][0]&&e.localState.terrain.points[n+1]==e.localState.safeZones[i][1])return void e.commands.execute("safeLanding",e);e.commands.execute("crashLanding",e),this._isExploding=!0}(this.position.x>e.config.worldSize.x+10||this.position.x<-10||this.position.y>e.config.worldSize.y+10)&&(e.commands.execute("crashLanding",e),this._isExploding=!0)}}},{key:"rotate",value:function(t,e,n){this.fuel-=e.config.fuelConsumption*t*.5,this._rotation+=n*e.config.theta*t,this._rotationVector=this._rotationVector.rotate(n*e.config.theta*t)}},{key:"velocity",get:function(){return this._velocity}},{key:"rotation",get:function(){return(this._rotation%360+360)%360}},{key:"rotationVector",get:function(){return this._rotationVector}},{key:"position",get:function(){return this._position}},{key:"freeze",value:function(){this._frozen=!0,this._velocity=o.ZERO}},{key:"frozen",get:function(){return this._frozen}}]),t}();function O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function R(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return M(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var V=function(){function t(e,n,i,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100;O(this,t),R(this,"points",void 0),this.points=[i,r];for(var s=0;s<e;s++){var u=this.points.length;n/=2;for(var l=0;l<u-1;l++){var c=new o((this.points[2*l].x+this.points[2*l+1].x)/2,(this.points[2*l].y+this.points[2*l+1].y)/2);c=c.add(new o(0,w.gaussian(12)*n)),c=new o(c.x,Math.min(c.y,a)),this.points.splice(2*l+1,0,c)}}}var e,n;return e=t,(n=[{key:"insertSafeZone",value:function(t,e,n){for(var i=t+n/2,r=i+(e-n/2-i)*Math.random(),a=0,s=this.points[0];s.x<r;)s=this.points[++a];var u=s;a++,s=this.points[a];for(var l=0;s.x<r+n;)l=s.x,this.points.splice(a,1),s=this.points[a];return this.points[a]=new o(l,u.y),[u,this.points[a]]}}])&&L(e.prototype,n),t}();function A(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var D=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),q(this,"scaleX",void 0),q(this,"scaleY",void 0),this.scaleX=e,this.scaleY=n,this.translate=this.translate.bind(this),this.translateValueX=this.translateValueX.bind(this),this.translateValueY=this.translateValueY.bind(this)}var e,n;return e=t,(n=[{key:"translate",value:function(t){return new o(t.x*this.scaleX,t.y*this.scaleY)}},{key:"translateValueX",value:function(t){return t*this.scaleX}},{key:"translateValueY",value:function(t){return t*this.scaleY}}])&&A(e.prototype,n),t}();function F(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function I(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function U(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Y(t,e,n){return(Y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=B(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function G(t,e){return!e||"object"!==K(e)&&"function"!=typeof e?H(t):e}function H(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function W(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var N=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(s,t);var e,n,i,r,a=(i=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=B(i);if(r){var n=B(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return G(this,t)});function s(){var t;U(this,s);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return W(H(t=a.call.apply(a,[this].concat(n))),"landerTexture",new l("assets/Lander.png",new o(500,500))),W(H(t),"fuelPosition",new o(5,5)),W(H(t),"anglePosition",new o(5,7.5)),W(H(t),"velocityPosition",new o(5,10)),t}return e=s,(n=[{key:"preLoad",value:function(t,e){Y(B(s.prototype),"setBounds",this).call(this,e.config.screenRatio,e.config.worldSize)}},{key:"postInit",value:function(t){var e=void 0!==t.router.transitionData?t.router.transitionData.level:1,n=new z(new o(t.config.worldSize.x/2,0),this.landerTexture,new o(5,5));this.drawables.push(n),this.ticking.push(n);for(var i=new V(8,500,new o(0,2*t.config.worldSize.y/3),new o(t.config.worldSize.x,2*t.config.worldSize.y/3),t.config.worldSize.y-10),r=[],a=3-e,s=(t.config.worldSize.x-10-10)/a,u=0;u<a;u++)r.push(i.insertSafeZone(10+s*u,10+s*(u+1),7.5*a));t.localState={safeZones:r,lander:n,terrain:i,running:!0}}},{key:"canTransition",value:function(t){return!0}},{key:"loop",value:function(t){var e=this;return function n(i){var r=i-e.lastTime;e.lastTime=i,e.update(r/1e3,t),e.draw(t),t.localState.running&&requestAnimationFrame(n)}}},{key:"update",value:function(t,e){for(var n=0;n<this.ticking.length;n++)this.ticking[n].update(t,e)}},{key:"draw",value:function(t){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),function(t,e,n){t.beginPath(),t.lineTo(n.translateValueX(0),n.translateValueY(e.config.worldSize.y));var i=t.createLinearGradient(0,0,0,1e3);i.addColorStop(0,"#ffffff"),i.addColorStop(1,"#777777");for(var r=1;r<e.localState.terrain.points.length;r++){var o=n.translate(e.localState.terrain.points[r]);t.lineTo(o.x,o.y)}t.lineTo(n.translateValueX(e.config.worldSize.x),n.translateValueY(e.config.worldSize.y)),t.fillStyle=i,t.fill();for(var a=0;a<e.localState.safeZones.length;a++){t.strokeStyle="#f69205",t.lineWidth=n.translateValueY(.5),t.beginPath();var s=j(e.localState.safeZones[a].map(n.translate),2),u=s[0],l=s[1];t.lineTo(u.x,u.y),t.lineTo(l.x,l.y),t.stroke()}}(this.context,t,this.vcs);for(var e=0;e<this.drawables.length;e++)this.drawables[e].draw(this.context,t,this.vcs);this.drawText(this.context,t)}},{key:"drawText",value:function(t,e){var n=this.vcs.translateValueX(2);t.font="".concat(n,"px Arial");var i=e.localState.lander.fuel;t.fillStyle=i>0?"#00ff00":"#ffffff";var r=this.vcs.translate(this.fuelPosition);t.fillText("Fuel: ".concat(i.toFixed(2),"L"),r.x,r.y);var o=e.localState.lander.rotation;t.fillStyle=o<5||o>355?"#00ff00":"#ffffff";var a=this.vcs.translate(this.anglePosition);t.fillText("Angle: ".concat(o.toFixed(2),"°"),a.x,a.y);var s=e.localState.lander.velocity.magnitude();t.fillStyle=s<2?"#00ff00":"#ffffff";var u=this.vcs.translate(this.velocityPosition);t.fillText("Velocity: ".concat(s.toFixed(2)," m/s"),u.x,u.y),t.fillStyle="#ffffff"}}])&&X(e.prototype,n),s}(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),I(this,"canvas",void 0),I(this,"context",void 0),I(this,"vcs",new D(0,0)),I(this,"drawables",[]),I(this,"ticking",[]),I(this,"lastTime",0),I(this,"screenRatio",void 0),I(this,"worldSize",void 0)}var e,n;return e=t,(n=[{key:"setBounds",value:function(t,e){this.screenRatio=t,this.worldSize=e}},{key:"load",value:function(t,e){this.preLoad(t,e);var n=document.createElement("canvas");this.canvas=n,n.width=this.worldSize.x,n.height=this.worldSize.y,n.id="canvas",t.appendChild(n),this.context=n.getContext("2d"),this.postLoad(t,e)}},{key:"preLoad",value:function(t,e){}},{key:"postLoad",value:function(t,e){}},{key:"init",value:function(t){var e=this;this.preInit(t),this.drawables=[],this.ticking=[],this.postInit(t),this.lastTime=performance.now(),requestAnimationFrame(this.loop(t)),window.addEventListener("resize",(function(){return e.resize()})),this.resize()}},{key:"preInit",value:function(t){}},{key:"postInit",value:function(t){}},{key:"resize",value:function(){window.innerWidth/this.screenRatio.x<window.innerHeight/this.screenRatio.y?(this.canvas.width=window.innerWidth,this.canvas.height=window.innerWidth*this.screenRatio.y/this.screenRatio.x):(this.canvas.width=window.innerHeight*this.screenRatio.x/this.screenRatio.y,this.canvas.height=window.innerHeight),this.vcs=new D(this.canvas.width/this.worldSize.x,this.canvas.height/this.worldSize.y)}}])&&F(e.prototype,n),t}());function $(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function J(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Q=function(){function t(e,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),J(this,"el",void 0),J(this,"ready",!1),J(this,"continue",!1),J(this,"loop",!1),J(this,"_playing",!1),J(this,"cutoff",0),this.el=new Audio(e),this.el.addEventListener("load",(function(){i.ready=!0})),n&&(this.loop=!0,this.cutoff=n)}var e,n;return e=t,(n=[{key:"play",value:function(){var t=this;this.el.play(),this.continue=!0,this._playing=!0,this.loop?setTimeout((function(){t.continue&&(t.el.currentTime=0,t.playRec())}),1e3*this.cutoff):setTimeout((function(){return t._playing=!1}),1e3*this.el.duration)}},{key:"playRec",value:function(){var t=this;setTimeout((function(){t.continue&&(t.el.currentTime=0,t.playRec())}),1e3*this.cutoff)}},{key:"stop",value:function(){this.el.pause(),this.continue=!1,this._playing=!1,this.el.currentTime=0}},{key:"playing",get:function(){return this._playing}}])&&$(e.prototype,n),t}();function tt(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return et(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function et(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function it(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function rt(t,e,n){return e&&it(t.prototype,e),n&&it(t,n),t}function ot(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var at=function(){function t(){nt(this,t),ot(this,"_wasPressed",!1),ot(this,"_lastPressed",Date.now()),ot(this,"_onStateChanged",new Set),ot(this,"_onKeyUp",new Set),ot(this,"_onKeyDown",new Set)}return rt(t,[{key:"update",value:function(t,e){if(this._wasPressed!=t){var n;n=t?this._onKeyDown:this._onKeyUp;var i,r=Date.now(),o=tt(n);try{for(o.s();!(i=o.n()).done;)(0,i.value)(t,r-this._lastPressed,e)}catch(t){o.e(t)}finally{o.f()}var a,s=tt(this._onStateChanged);try{for(s.s();!(a=s.n()).done;)(0,a.value)(t,r-this._lastPressed,e)}catch(t){s.e(t)}finally{s.f()}this._lastPressed=r,this._wasPressed=!this._wasPressed}}},{key:"addUp",value:function(t){this._onKeyUp.add(t)}},{key:"addDown",value:function(t){this._onKeyDown.add(t)}},{key:"addChanged",value:function(t){this._onStateChanged.add(t)}}]),t}(),st=function(){function t(){nt(this,t),ot(this,"handlers",void 0),ot(this,"descriptions",void 0),window.addEventListener("keydown",this.updateDown.bind(this)),window.addEventListener("keyup",this.updateUp.bind(this)),this.handlers=new Map}return rt(t,[{key:"registerHandler",value:function(t,e){var n;this.handlers.has(t)?console.warn("Key handler registered twice for keyCode ".concat(t)):(this.handlers.set(t,new at),null===(n=this.descriptions)||void 0===n||n.set(t,e))}},{key:"bindUp",value:function(t,e){this.handlers.get(t).addUp(e)}},{key:"bindDown",value:function(t,e){this.handlers.get(t).addDown(e)}},{key:"bindChanged",value:function(t,e){this.handlers.get(t).addChanged(e)}},{key:"updateDown",value:function(t){this.handlers.has(t.key)&&(t.preventDefault(),this.handlers.get(t.key).update(!0,{alt:t.altKey,shift:t.shiftKey,ctrl:t.ctrlKey}))}},{key:"updateUp",value:function(t){this.handlers.has(t.key)&&(t.preventDefault(),this.handlers.get(t.key).update(!1,{alt:t.altKey,shift:t.shiftKey,ctrl:t.ctrlKey}))}},{key:"clear",value:function(){this.handlers=new Map}},{key:"remove",value:function(t){this.handlers.delete(t)}}]),t}();function ut(t,e,n,i,r){t.registerHandler(i,n),e.has("begin".concat(n))&&t.bindDown(i,(function(){return e.execute("begin".concat(n),r)})),e.has("end".concat(n))&&t.bindUp(i,(function(){return e.execute("end".concat(n),r)})),e.has("toggle".concat(n))&&t.bindChanged(i,(function(){return e.execute("toggle".concat(n),r)}))}function lt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ct(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ht(t,e,n){return e&&ct(t.prototype,e),n&&ct(t,n),t}function ft(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var dt=function(){function t(e,n){lt(this,t),ft(this,"_name",void 0),ft(this,"_action",void 0),this._name=e,this._action=n}return ht(t,[{key:"name",get:function(){return this._name}},{key:"invoke",value:function(t){this._action(t)}}]),t}(),yt=function(){function t(){lt(this,t),ft(this,"commands",void 0),this.commands=new Map}return ht(t,[{key:"createCommand",value:function(t,e){this.commands.set(t,new dt(t,e))}},{key:"has",value:function(t){return this.commands.has(t)}},{key:"execute",value:function(t,e){this.commands.has(t)?this.commands.get(t).invoke(e):console.warn("Attempting to invoke non-existent command ".concat(t))}}]),t}();function vt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var pt,gt,mt,wt,bt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"load",value:function(t,e){var n=document.createElement("img");n.src="assets/Lander.png",n.width=250,t.appendChild(n);var i=document.createElement("p");i.innerText="Lunar Lander Clone by Hunter Henrichsen";var r=document.createElement("p");r.innerText="Montserrat Font from Google Fonts",t.appendChild(i),t.appendChild(r);var o=document.createElement("a");o.href="#",o.addEventListener("click",(function(){e.router.requestTransition("home")})),o.innerText="Back",t.appendChild(o)}},{key:"init",value:function(t){t.localState=null}},{key:"canTransition",value:function(t){return!0}}])&&vt(e.prototype,n),t}();(gt=new o(4/3,1),mt=gt.scale(100),(wt={commands:void 0,localState:null,keys:void 0,config:{fuelConsumption:20,thrustCoefficient:10,theta:90,gravity:new o(0,1),worldSize:mt,screenRatio:gt},sounds:{mainThruster:new Q("assets/mainthruster.wav",4),subThruster:new Q("assets/subthruster.wav",4),explosion:new Q("assets/explosion.wav"),landing:new Q("assets/landing.wav"),noFuel:new Q("assets/nofuel.wav",1)},router:{currentPage:void 0,transitionData:{},requestTransition:function(t,e){if(void 0!==this.router.pages[t]&&(void 0===this.router.currentPage||this.router.currentPage.canTransition(t))){this.router.currentPage=this.router.pages[t],this.router.transitionData=e;var n=document.getElementById("main");n.innerHTML="",n.classList.forEach((function(t){return n.classList.remove(t)})),n.classList.add(t),this.router.currentPage.load(n,this),this.localState=null,this.router.currentPage.init(this)}},pages:{home:new e,play:new N,credits:new bt}}}).router.requestTransition=wt.router.requestTransition.bind(wt),wt.commands=((pt=new yt).createCommand("beginThrust",(function(t){t.localState.lander.frozen||(t.localState.lander.thrusting=!0,t.localState.lander.fuel>0?t.sounds.mainThruster.play():t.sounds.noFuel.play())})),pt.createCommand("endThrust",(function(t){t.localState.lander.thrusting=!1,t.sounds.mainThruster.stop(),t.sounds.noFuel.stop()})),pt.createCommand("fuelExpired",(function(t){t.localState.lander.frozen||(t.sounds.mainThruster.playing&&(t.sounds.mainThruster.stop(),t.sounds.noFuel.play()),t.sounds.subThruster.playing&&(t.sounds.subThruster.stop(),t.sounds.noFuel.play()))})),pt.createCommand("beginTurnLeft",(function(t){t.localState.lander.frozen||(t.localState.lander.turningLeft=!0,t.localState.lander.fuel>0?t.sounds.subThruster.play():t.sounds.noFuel.play())})),pt.createCommand("endTurnLeft",(function(t){t.localState.lander.frozen||(t.sounds.subThruster.stop(),t.sounds.noFuel.stop(),t.localState.lander.turningLeft=!1)})),pt.createCommand("beginTurnRight",(function(t){t.localState.lander.frozen||(t.localState.lander.fuel>0?t.sounds.subThruster.play():t.sounds.noFuel.play(),t.localState.lander.turningRight=!0)})),pt.createCommand("endTurnRight",(function(t){t.localState.lander.frozen||(t.sounds.subThruster.stop(),t.sounds.noFuel.stop(),t.localState.lander.turningRight=!1)})),pt.createCommand("safeLanding",(function(t){t.sounds.landing.play(),t.localState.lander.freeze(),setTimeout((function(){t.localState.running=!1,t.router.requestTransition("play",{level:2})}),3e3)})),pt.createCommand("crashLanding",(function(t){t.sounds.mainThruster.stop(),t.sounds.subThruster.stop(),t.sounds.noFuel.stop(),t.sounds.explosion.play(),t.localState.lander.crashed=!0,t.localState.lander.freeze(),setTimeout((function(){t.localState.running=!1,t.router.requestTransition("home")}),3e3)})),pt),wt.keys=function(t){var e=new st;return ut(e,t.commands,"Thrust","ArrowUp",t),ut(e,t.commands,"TurnLeft","ArrowLeft",t),ut(e,t.commands,"TurnRight","ArrowRight",t),e}(wt),wt).router.requestTransition("home")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sdW5hcmxhbmRlci8uL3NyYy9wYWdlcy9NYWluTWVudS50cyIsIndlYnBhY2s6Ly9sdW5hcmxhbmRlci8uL3NyYy9jb3JlL2dlb21ldHJ5L1ZlY3RvcjIudHMiLCJ3ZWJwYWNrOi8vbHVuYXJsYW5kZXIvLi9zcmMvY29yZS9yZW5kZXJpbmcvVGV4dHVyZS50cyIsIndlYnBhY2s6Ly9sdW5hcmxhbmRlci8uL3NyYy9jb3JlL3JlbmRlcmluZy9QYXJ0aWNsZS50cyIsIndlYnBhY2s6Ly9sdW5hcmxhbmRlci8uL3NyYy9jb3JlL2dlb21ldHJ5L0NvbGxpc2lvbi50cyIsIndlYnBhY2s6Ly9sdW5hcmxhbmRlci8uL3NyYy9jb3JlL1JhbmRvbS50cyIsIndlYnBhY2s6Ly9sdW5hcmxhbmRlci8uL3NyYy9jb3JlL2dlb21ldHJ5L0NpcmNsZS50cyIsIndlYnBhY2s6Ly9sdW5hcmxhbmRlci8uL3NyYy9jb250ZW50L0xhbmRlci50cyIsIndlYnBhY2s6Ly9sdW5hcmxhbmRlci8uL3NyYy9jb250ZW50L1RlcnJhaW4udHMiLCJ3ZWJwYWNrOi8vbHVuYXJsYW5kZXIvLi9zcmMvY29yZS9yZW5kZXJpbmcvVmlydHVhbENvb3JkaW5hdGUudHMiLCJ3ZWJwYWNrOi8vbHVuYXJsYW5kZXIvLi9zcmMvcGFnZXMvUGxheVBhZ2UudHMiLCJ3ZWJwYWNrOi8vbHVuYXJsYW5kZXIvLi9zcmMvY29yZS9tZW51cy9HYW1lUGFnZS50cyIsIndlYnBhY2s6Ly9sdW5hcmxhbmRlci8uL3NyYy9jb3JlL1NvdW5kRWZmZWN0LnRzIiwid2VicGFjazovL2x1bmFybGFuZGVyLy4vc3JjL2NvcmUvS2V5TWFuYWdlci50cyIsIndlYnBhY2s6Ly9sdW5hcmxhbmRlci8uL3NyYy9jb3JlL0NvbW1hbmQudHMiLCJ3ZWJwYWNrOi8vbHVuYXJsYW5kZXIvLi9zcmMvcGFnZXMvQ3JlZGl0c1BhZ2UudHMiLCJ3ZWJwYWNrOi8vbHVuYXJsYW5kZXIvLi9zcmMvY29udGVudC9Db21tYW5kcy50cyIsIndlYnBhY2s6Ly9sdW5hcmxhbmRlci8uL3NyYy9pbml0LnRzIiwid2VicGFjazovL2x1bmFybGFuZGVyLy4vc3JjL2NvbnRlbnQvRGVmYXVsdEtleXMudHMiLCJ3ZWJwYWNrOi8vbHVuYXJsYW5kZXIvLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiTWFpbk1lbnUiLCJiYXNlIiwic3RhdGUiLCJpbWciLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzcmMiLCJ3aWR0aCIsImFwcGVuZENoaWxkIiwiaGVhZGVyIiwiaW5uZXJUZXh0IiwicGxheSIsImhyZWYiLCJhZGRFdmVudExpc3RlbmVyIiwicm91dGVyIiwicmVxdWVzdFRyYW5zaXRpb24iLCJsZXZlbCIsImNvbnRyb2xzIiwic2NvcmVzIiwiY3JlZGl0cyIsImdsb2JhbFN0YXRlIiwibG9jYWxTdGF0ZSIsIl8iLCJWZWN0b3IyIiwieCIsInkiLCJ0aGlzIiwiX3giLCJfeSIsIk1hdGgiLCJyYW5kb20iLCJub3JtYWxpemUiLCJwb3MxIiwicG9zMiIsInNxcnQiLCJwb3ciLCJtYWduaXR1ZGUiLCJzY2FsYXIiLCJvdGhlciIsImRlZ3JlZXMiLCJyYWQiLCJQSSIsImNvcyIsInNpbiIsImRyYXdUZXh0dXJlIiwiY29udGV4dCIsInRleHR1cmUiLCJwb3NpdGlvbiIsInNpemUiLCJyb3RhdGlvbiIsInJlYWR5Iiwic2F2ZSIsInRyYW5zbGF0ZSIsInJvdGF0ZSIsImRyYXdJbWFnZSIsInJlc3RvcmUiLCJUZXh0dXJlIiwiZWwiLCJJbWFnZSIsIlBhcnRpY2xlQ29udGFpbmVyIiwicGFydGljbGVzIiwiZGVsdGEiLCJmaWx0ZXIiLCJwIiwidXBkYXRlIiwicmVtYWluaW5nVGltZSIsInBhcnRpY2xlIiwicHVzaCIsIlBhcnRpY2xlRW1pdHRlciIsImdlbmVyYXRvciIsInByZWRpY2F0ZSIsInJhdGUiLCJjb3VudCIsIl9jb250YWluZXIiLCJfcGFydGljbGVHZW5lcmF0b3IiLCJfcHJlZGljYXRlIiwiX2NvdW50IiwiX3JhdGUiLCJjb29yZGluYXRlcyIsImZvckVhY2giLCJkcmF3IiwiX2VsYXBzZWQiLCJpIiwiYWRkIiwiUGFydGljbGVFZmZlY3QiLCJ2ZWxvY2l0eSIsImxpZmV0aW1lIiwiY2VudGVyIiwiX2NlbnRlciIsIl92ZWxvY2l0eSIsIl9saWZldGltZSIsIl9yb3RhdGlvbiIsIl90ZXh0dXJlIiwiX3NpemUiLCJfZWxhcHNlZExpZmV0aW1lIiwiZ2xvYmFsQWxwaGEiLCJfZGlyZWN0aW9uIiwic2NhbGUiLCJpc0NvbGxpZGluZyIsImNpcmNsZSIsInB0MSIsInB0MiIsInYxIiwidjIiLCJiIiwiYyIsImQiLCJyYWRpdXMiLCJpc05hTiIsInUxIiwidTIiLCJyYW5kIiwiQ2lyY2xlIiwiX3JhZGl1cyIsIlRocnVzdEdlbmVyYXRvciIsInJvdGF0aW9uT2Zmc2V0IiwiX3JvdGF0aW9uT2Zmc2V0IiwidGV4IiwidiIsImxhbmRlciIsInJvdGF0aW9uVmVjdG9yIiwiZ2F1c3NpYW4iLCJFeHBsb3Npb25HZW5lcmF0b3IiLCJMYW5kZXIiLCJfZnJvemVuIiwiX3Bvc2l0aW9uIiwiX3JvdGF0aW9uVmVjdG9yIiwidGhydXN0RW1pdHRlciIsInRocnVzdGluZyIsImZ1ZWwiLCJsZWZ0Um90YXRpb25FbWl0dGVyIiwidHVybmluZ0xlZnQiLCJyaWdodFJvdGF0aW9uRW1pdHRlciIsInR1cm5pbmdSaWdodCIsImV4cGxvc2lvbkVtaXR0ZXIiLCJfaXNFeHBsb2RpbmciLCJwb3NpdGlvbkVtaXR0ZXJzIiwiY3Jhc2hlZCIsImJlZ2luUGF0aCIsInN0cm9rZVN0eWxlIiwiY2lyY2xlcG9zIiwiYXJjIiwic3Ryb2tlIiwiYWRqUG9zIiwiYWRqVmVjIiwibGluZVRvIiwic3FyTWFnbml0dWRlIiwiY29uc29sZSIsImxvZyIsIl9leHBsb3Npb25Db3VudCIsImNvbmZpZyIsImdyYXZpdHkiLCJ0aHJ1c3RDb2VmZmljaWVudCIsImZ1ZWxDb25zdW1wdGlvbiIsImNvbW1hbmRzIiwiZXhlY3V0ZSIsInRlcnJhaW4iLCJwb2ludHMiLCJsZW5ndGgiLCJqIiwic2FmZVpvbmVzIiwid29ybGRTaXplIiwiZGlyZWN0aW9uIiwidGhldGEiLCJUZXJyYWluIiwiaXRlcmF0aW9ucyIsInJvdWdobmVzcyIsInAxIiwicDIiLCJtaW4iLCJzYXZlZExlbmd0aCIsIm1pZCIsInNwbGljZSIsIm1pblgiLCJtYXhYIiwidGFyZ2V0WE1pbiIsIm9mZnNldCIsInBvaW50Iiwic2F2ZWQiLCJWaXJ0dWFsQ29vcmRpbmF0ZVN5c3RlbSIsInNjYWxlWCIsInNjYWxlWSIsImJpbmQiLCJ0cmFuc2xhdGVWYWx1ZVgiLCJ0cmFuc2xhdGVWYWx1ZVkiLCJQbGF5UGFnZSIsImVsZW1lbnQiLCJzY3JlZW5SYXRpbyIsImRpZmZpY3VsdHkiLCJ1bmRlZmluZWQiLCJ0cmFuc2l0aW9uRGF0YSIsImxhbmRlclRleHR1cmUiLCJkcmF3YWJsZXMiLCJ0aWNraW5nIiwidmFsaWRQb3J0aW9ucyIsImluc2VydFNhZmVab25lIiwicnVubmluZyIsIm5leHRQYWdlIiwiZm4iLCJjdXJyZW50VGltZSIsImxhc3RUaW1lIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2xlYXJSZWN0IiwiY2FudmFzIiwiaGVpZ2h0IiwiY3R4IiwidmNzIiwiZ3JkIiwiY3JlYXRlTGluZWFyR3JhZGllbnQiLCJhZGRDb2xvclN0b3AiLCJwdCIsImZpbGxTdHlsZSIsImZpbGwiLCJsaW5lV2lkdGgiLCJtYXAiLCJkcmF3VGVycmFpbiIsImRyYXdUZXh0IiwiZm9udFNpemUiLCJmb250IiwiYWRqdXN0ZWRGdWVsUG9zaXRpb24iLCJmdWVsUG9zaXRpb24iLCJmaWxsVGV4dCIsInRvRml4ZWQiLCJhbmdsZSIsImFkanVzdGVkQW5nbGVQb3NpdGlvbiIsImFuZ2xlUG9zaXRpb24iLCJtYWduIiwiYWRqdXN0ZWRWZWxvY2l0eVBvc2l0aW9uIiwidmVsb2NpdHlQb3NpdGlvbiIsInByZUxvYWQiLCJpZCIsImdldENvbnRleHQiLCJwb3N0TG9hZCIsInByZUluaXQiLCJwb3N0SW5pdCIsInBlcmZvcm1hbmNlIiwibm93IiwibG9vcCIsIndpbmRvdyIsInJlc2l6ZSIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsIlNvdW5kRWZmZWN0Iiwic291cmNlIiwiY3V0b2ZmIiwiQXVkaW8iLCJfcGxheWluZyIsInNldFRpbWVvdXQiLCJwbGF5UmVjIiwiZHVyYXRpb24iLCJwYXVzZSIsIktleUhhbmRsZXIiLCJEYXRlIiwiU2V0IiwicHJlc3NlZCIsIm1vZGlmaWVycyIsIl93YXNQcmVzc2VkIiwic2V0IiwiX29uS2V5RG93biIsIl9vbktleVVwIiwicmVzIiwiX2xhc3RQcmVzc2VkIiwiX29uU3RhdGVDaGFuZ2VkIiwiYWN0aW9uIiwiS2V5TWFuYWdlciIsInVwZGF0ZURvd24iLCJ1cGRhdGVVcCIsImhhbmRsZXJzIiwiTWFwIiwia2V5Q29kZSIsImRlc2NyaXB0aW9uIiwiaGFzIiwid2FybiIsImRlc2NyaXB0aW9ucyIsInVwZGF0ZUZuIiwiZ2V0IiwiYWRkVXAiLCJhZGREb3duIiwiYWRkQ2hhbmdlZCIsImV2ZW50Iiwia2V5IiwicHJldmVudERlZmF1bHQiLCJhbHQiLCJhbHRLZXkiLCJzaGlmdCIsInNoaWZ0S2V5IiwiY3RybCIsImN0cmxLZXkiLCJrZXljb2RlIiwibWFwVG9Db21tYW5kcyIsImtleU1hbmFnZXIiLCJjb21tYW5kTmFtZSIsImtleU5hbWUiLCJyZWdpc3RlckhhbmRsZXIiLCJiaW5kRG93biIsImJpbmRVcCIsImJpbmRDaGFuZ2VkIiwiQ29tbWFuZCIsIm5hbWUiLCJfbmFtZSIsIl9hY3Rpb24iLCJDb21tYW5kU2VydmljZSIsImludm9rZSIsInJhdGlvIiwiQ3JlZGl0c1BhZ2UiLCJhdXRob3IiLCJob21lIiwia2V5cyIsInNvdW5kcyIsIm1haW5UaHJ1c3RlciIsInN1YlRocnVzdGVyIiwiZXhwbG9zaW9uIiwibGFuZGluZyIsIm5vRnVlbCIsImN1cnJlbnRQYWdlIiwiZGF0YSIsInBhZ2VzIiwiY2FuVHJhbnNpdGlvbiIsImdldEVsZW1lbnRCeUlkIiwiaW5uZXJIVE1MIiwiY2xhc3NMaXN0IiwiaXQiLCJyZW1vdmUiLCJsb2FkIiwiaW5pdCIsImNyZWF0ZUNvbW1hbmQiLCJmcm96ZW4iLCJzdG9wIiwicGxheWluZyIsImZyZWV6ZSIsImJ1aWxkRGVmYXVsdEtleXMiXSwibWFwcGluZ3MiOiJ5TEFHTyxJQUFNQSxFQUFiLHlCLDRGQUFBLFMsUUFBQSxPLEVBQUEsRyxFQUFBLG1CQUNJLFNBQUtDLEVBQW1CQyxHQUNwQixJQUFNQyxFQUFNQyxTQUFTQyxjQUFjLE9BQ25DRixFQUFJRyxJQUFNLG9CQUNWSCxFQUFJSSxNQUFRLElBQ1pOLEVBQUtPLFlBQVlMLEdBRWpCLElBQU1NLEVBQVNMLFNBQVNDLGNBQWMsTUFDdENJLEVBQU9DLFVBQVksZUFDbkJULEVBQUtPLFlBQVlDLEdBRWpCLElBQU1FLEVBQU9QLFNBQVNDLGNBQWMsS0FDcENNLEVBQUtDLEtBQU8sSUFDWkQsRUFBS0UsaUJBQWlCLFNBQVMsV0FDM0JYLEVBQU1ZLE9BQU9DLGtCQUFrQixPQUFRLENBQUVDLE1BQU8sT0FFcERMLEVBQUtELFVBQVksT0FDakJULEVBQUtPLFlBQVlHLEdBRWpCLElBQU1NLEVBQVdiLFNBQVNDLGNBQWMsS0FDeENZLEVBQVNMLEtBQU8sSUFDaEJLLEVBQVNKLGlCQUFpQixTQUFTLFdBQy9CWCxFQUFNWSxPQUFPQyxrQkFBa0IsZUFFbkNFLEVBQVNQLFVBQVksV0FDckJULEVBQUtPLFlBQVlTLEdBRWpCLElBQU1DLEVBQVNkLFNBQVNDLGNBQWMsS0FDdENhLEVBQU9OLEtBQU8sSUFDZE0sRUFBT0wsaUJBQWlCLFNBQVMsV0FDN0JYLEVBQU1ZLE9BQU9DLGtCQUFrQixhQUVuQ0csRUFBT1IsVUFBWSxjQUNuQlQsRUFBS08sWUFBWVUsR0FFakIsSUFBTUMsRUFBVWYsU0FBU0MsY0FBYyxLQUN2Q2MsRUFBUVAsS0FBTyxJQUNmTyxFQUFRTixpQkFBaUIsU0FBUyxXQUM5QlgsRUFBTVksT0FBT0Msa0JBQWtCLGNBRW5DSSxFQUFRVCxVQUFZLFVBQ3BCVCxFQUFLTyxZQUFZVyxLQXpDekIsa0JBNENJLFNBQUtD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UixHQUFja0IsRUFBTWpULEVBQU13SixTQUFVLFdBQVksWUFBYXhKLEdBQzdEK1IsR0FBY2tCLEVBQU1qVCxFQUFNd0osU0FBVSxZQUFhLGFBQWN4SixHQUN4RGlULEVEaURNdUIsQ0FBaUJ4VSxJQUN2QkEsSUV4REdZLE9BQU9DLGtCQUFrQixTIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2UgfSBmcm9tIFwiLi4vY29yZS9tZW51cy9QYWdlXCI7XG5pbXBvcnQgeyBHbG9iYWxTdGF0ZSB9IGZyb20gXCIuLi9jb250ZW50L1N0YXRlXCI7XG5cbmV4cG9ydCBjbGFzcyBNYWluTWVudSBpbXBsZW1lbnRzIFBhZ2U8R2xvYmFsU3RhdGU8dW5rbm93bj4+IHtcbiAgICBsb2FkKGJhc2U6IEhUTUxFbGVtZW50LCBzdGF0ZTogR2xvYmFsU3RhdGU8dW5rbm93bj4pOiB2b2lkIHtcbiAgICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgIGltZy5zcmMgPSAnYXNzZXRzL0xhbmRlci5wbmcnO1xuICAgICAgICBpbWcud2lkdGggPSAyNTA7XG4gICAgICAgIGJhc2UuYXBwZW5kQ2hpbGQoaW1nKTtcblxuICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMScpO1xuICAgICAgICBoZWFkZXIuaW5uZXJUZXh0ID0gJ0x1bmFyIExhbmRlcic7XG4gICAgICAgIGJhc2UuYXBwZW5kQ2hpbGQoaGVhZGVyKTtcblxuICAgICAgICBjb25zdCBwbGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICBwbGF5LmhyZWYgPSBcIiNcIjtcbiAgICAgICAgcGxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHN0YXRlLnJvdXRlci5yZXF1ZXN0VHJhbnNpdGlvbigncGxheScsIHsgbGV2ZWw6IDEgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIHBsYXkuaW5uZXJUZXh0ID0gXCJQbGF5XCI7XG4gICAgICAgIGJhc2UuYXBwZW5kQ2hpbGQocGxheSk7XG5cbiAgICAgICAgY29uc3QgY29udHJvbHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIGNvbnRyb2xzLmhyZWYgPSBcIiNcIjtcbiAgICAgICAgY29udHJvbHMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5yb3V0ZXIucmVxdWVzdFRyYW5zaXRpb24oJ2NvbnRyb2xzJyk7XG4gICAgICAgIH0pXG4gICAgICAgIGNvbnRyb2xzLmlubmVyVGV4dCA9IFwiQ29udHJvbHNcIjtcbiAgICAgICAgYmFzZS5hcHBlbmRDaGlsZChjb250cm9scyk7XG5cbiAgICAgICAgY29uc3Qgc2NvcmVzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICBzY29yZXMuaHJlZiA9IFwiI1wiO1xuICAgICAgICBzY29yZXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5yb3V0ZXIucmVxdWVzdFRyYW5zaXRpb24oJ3Njb3JlcycpO1xuICAgICAgICB9KVxuICAgICAgICBzY29yZXMuaW5uZXJUZXh0ID0gXCJIaWdoIFNjb3Jlc1wiO1xuICAgICAgICBiYXNlLmFwcGVuZENoaWxkKHNjb3Jlcyk7XG5cbiAgICAgICAgY29uc3QgY3JlZGl0cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgY3JlZGl0cy5ocmVmID0gXCIjXCI7XG4gICAgICAgIGNyZWRpdHMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5yb3V0ZXIucmVxdWVzdFRyYW5zaXRpb24oJ2NyZWRpdHMnKTtcbiAgICAgICAgfSlcbiAgICAgICAgY3JlZGl0cy5pbm5lclRleHQgPSBcIkNyZWRpdHNcIjtcbiAgICAgICAgYmFzZS5hcHBlbmRDaGlsZChjcmVkaXRzKTtcbiAgICB9XG5cbiAgICBpbml0KGdsb2JhbFN0YXRlOiBHbG9iYWxTdGF0ZTx1bmtub3duPik6IHZvaWQge1xuICAgICAgICBnbG9iYWxTdGF0ZS5sb2NhbFN0YXRlID0gbnVsbDtcbiAgICB9XG5cbiAgICBjYW5UcmFuc2l0aW9uKF86IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbn0iLCJleHBvcnQgY2xhc3MgVmVjdG9yMiB7XG4gIHN0YXRpYyBaRVJPOiBWZWN0b3IyID0gbmV3IFZlY3RvcjIoMCwgMCk7XG5cbiAgcHJpdmF0ZSBfeCA9IDA7XG4gIHByaXZhdGUgX3kgPSAwO1xuXG4gIHN0YXRpYyByYW5kb20oKTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKE1hdGgucmFuZG9tKCksIE1hdGgucmFuZG9tKCkpLm5vcm1hbGl6ZSgpO1xuICB9XG5cbiAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICB0aGlzLl94ID0geDtcbiAgICB0aGlzLl95ID0geTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgZGlzdGFuY2UocG9zMTogVmVjdG9yMiwgcG9zMjogVmVjdG9yMikge1xuICAgIHJldHVybiBNYXRoLnNxcnQoXG4gICAgICBNYXRoLnBvdyhwb3MxLnggLSBwb3MyLngsIDIpICsgTWF0aC5wb3cocG9zMS55IC0gcG9zMi55LCAyKVxuICAgICk7XG4gIH1cblxuICBnZXQgeCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl94O1xuICB9XG5cbiAgZ2V0IHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5feTtcbiAgfVxuXG4gIHNxck1hZ25pdHVkZSgpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLnBvdyh0aGlzLngsIDIpICsgTWF0aC5wb3codGhpcy55LCAyKTtcbiAgfVxuXG4gIG1hZ25pdHVkZSgpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3codGhpcy54LCAyKSArIE1hdGgucG93KHRoaXMueSwgMikpO1xuICB9XG5cbiAgbm9ybWFsaXplKCk6IFZlY3RvcjIge1xuICAgIGNvbnN0IG1hZ25pdHVkZSA9IHRoaXMubWFnbml0dWRlKCk7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKHRoaXMueCAvIG1hZ25pdHVkZSwgdGhpcy55IC8gbWFnbml0dWRlKTtcbiAgfVxuXG4gIHNjYWxlKHNjYWxhcjogbnVtYmVyKTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKHRoaXMueCAqIHNjYWxhciwgdGhpcy55ICogc2NhbGFyKTtcbiAgfVxuXG4gIGFkZChvdGhlcjogVmVjdG9yMik6IFZlY3RvcjIge1xuICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLnggKyBvdGhlci54LCB0aGlzLnkgKyBvdGhlci55KTtcbiAgfVxuXG4gIHJvdGF0ZShkZWdyZWVzOiBudW1iZXIpOiBWZWN0b3IyIHtcbiAgICBjb25zdCByYWQgPSAoZGVncmVlcyAqIE1hdGguUEkpIC8gMTgwO1xuICAgIGNvbnN0IHZhbCA9IG5ldyBWZWN0b3IyKFxuICAgICAgdGhpcy54ICogTWF0aC5jb3MocmFkKSAtIE1hdGguc2luKHJhZCkgKiB0aGlzLnksXG4gICAgICB0aGlzLnggKiBNYXRoLnNpbihyYWQpICsgdGhpcy55ICogTWF0aC5jb3MocmFkKVxuICAgICk7XG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuXG4gIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGBWZWN0b3IyKHg6ICR7dGhpcy54fSwgeTogJHt0aGlzLnl9KWA7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmVjdG9yMjtcbiIsImltcG9ydCBWZWN0b3IyIGZyb20gXCIuLi9nZW9tZXRyeS9WZWN0b3IyXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBkcmF3VGV4dHVyZShcbiAgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxuICB0ZXh0dXJlOiBUZXh0dXJlLFxuICBwb3NpdGlvbjogVmVjdG9yMixcbiAgc2l6ZTogVmVjdG9yMixcbiAgcm90YXRpb24gPSAwXG4pOiB2b2lkIHtcbiAgaWYgKCF0ZXh0dXJlLnJlYWR5KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnRleHQuc2F2ZSgpO1xuICBjb250ZXh0LnRyYW5zbGF0ZShwb3NpdGlvbi54LCBwb3NpdGlvbi55KTtcbiAgY29udGV4dC5yb3RhdGUoKHJvdGF0aW9uICogTWF0aC5QSSkgLyAxODApO1xuICBjb250ZXh0LnRyYW5zbGF0ZSgtcG9zaXRpb24ueCwgLXBvc2l0aW9uLnkpO1xuICBjb250ZXh0LmRyYXdJbWFnZShcbiAgICB0ZXh0dXJlLnRleHR1cmUsXG4gICAgcG9zaXRpb24ueCAtIHNpemUueCAvIDIsXG4gICAgcG9zaXRpb24ueSAtIHNpemUueSAvIDIsXG4gICAgc2l6ZS54LFxuICAgIHNpemUueVxuICApO1xuICBjb250ZXh0LnJlc3RvcmUoKTtcbn1cblxuZXhwb3J0IGNsYXNzIFRleHR1cmUge1xuICBzaXplOiBWZWN0b3IyO1xuICBlbDogSFRNTEltYWdlRWxlbWVudDtcbiAgcmVhZHkgPSBmYWxzZTtcbiAgY29uc3RydWN0b3IodGV4dHVyZTogc3RyaW5nLCBzaXplOiBWZWN0b3IyKSB7XG4gICAgdGhpcy5lbCA9IG5ldyBJbWFnZSgpO1xuICAgIHRoaXMuZWwuc3JjID0gdGV4dHVyZTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgICAgIHRoaXMucmVhZHkgPSB0cnVlO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0IHRleHR1cmUoKTogQ2FudmFzSW1hZ2VTb3VyY2Uge1xuICAgIHJldHVybiB0aGlzLmVsO1xuICB9XG59XG4iLCJpbXBvcnQgVGlja2luZyBmcm9tIFwiLi4vVGlja2luZ1wiO1xuaW1wb3J0IFZlY3RvcjIgZnJvbSBcIi4uL2dlb21ldHJ5L1ZlY3RvcjJcIjtcbmltcG9ydCBEcmF3YWJsZSBmcm9tIFwiLi9EcmF3YWJsZVwiO1xuaW1wb3J0IHsgUHJlZGljYXRlIH0gZnJvbSBcIi4uL1ByZWRpY2F0ZVwiO1xuaW1wb3J0IHsgZHJhd1RleHR1cmUsIFRleHR1cmUgfSBmcm9tIFwiLi9UZXh0dXJlXCI7XG5pbXBvcnQgeyBDb29yZGluYXRlVHJhbnNsYXRhYmxlIH0gZnJvbSBcIi4vVmlydHVhbENvb3JkaW5hdGVcIjtcblxuZXhwb3J0IGNsYXNzIFBhcnRpY2xlQ29udGFpbmVyPFQ+IGltcGxlbWVudHMgVGlja2luZzxUPiB7XG4gIHBhcnRpY2xlczogQXJyYXk8UGFydGljbGVFZmZlY3Q8VD4+O1xuICB1cGRhdGUoZGVsdGE6IG51bWJlciwgc3RhdGU6IFQpOiB2b2lkIHtcbiAgICAvLyBUT0RPOiBDaGVjayBvbiB0aGUgZWZmaWNpZW5jeSBvZiB0aGlzLlxuICAgIHRoaXMucGFydGljbGVzID0gdGhpcy5wYXJ0aWNsZXMuZmlsdGVyKChwKSA9PiB7XG4gICAgICBwLnVwZGF0ZShkZWx0YSwgc3RhdGUpO1xuICAgICAgcmV0dXJuIHAucmVtYWluaW5nVGltZSA+IDA7XG4gICAgfSk7XG4gIH1cbiAgYWRkKHBhcnRpY2xlOiBQYXJ0aWNsZUVmZmVjdDxUPik6IHZvaWQge1xuICAgIHRoaXMucGFydGljbGVzLnB1c2gocGFydGljbGUpO1xuICB9XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5wYXJ0aWNsZXMgPSBbXTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGFydGljbGVFbWl0dGVyPFQ+IGltcGxlbWVudHMgVGlja2luZzxUPiwgRHJhd2FibGU8VD4ge1xuICBwb3NpdGlvbjogVmVjdG9yMjtcbiAgcHJpdmF0ZSBfcmF0ZSA9IDAuMTtcbiAgcHJpdmF0ZSBfZWxhcHNlZCA9IDA7XG4gIHByaXZhdGUgX2NvdW50ID0gMTA7XG4gIHByaXZhdGUgX2NvbnRhaW5lcjogUGFydGljbGVDb250YWluZXI8VD47XG4gIHByaXZhdGUgX3BhcnRpY2xlR2VuZXJhdG9yOiBQYXJ0aWNsZUdlbmVyYXRvcjxUPjtcbiAgcHJpdmF0ZSBfcHJlZGljYXRlOiBQcmVkaWNhdGU8VD47XG5cbiAgY29uc3RydWN0b3IoXG4gICAgZ2VuZXJhdG9yOiBQYXJ0aWNsZUdlbmVyYXRvcjxUPixcbiAgICBwcmVkaWNhdGU6IFByZWRpY2F0ZTxUPixcbiAgICByYXRlID0gMC4xLFxuICAgIGNvdW50ID0gMTBcbiAgKSB7XG4gICAgdGhpcy5fY29udGFpbmVyID0gbmV3IFBhcnRpY2xlQ29udGFpbmVyPFQ+KCk7XG4gICAgdGhpcy5fcGFydGljbGVHZW5lcmF0b3IgPSBnZW5lcmF0b3I7XG4gICAgdGhpcy5fcHJlZGljYXRlID0gcHJlZGljYXRlO1xuICAgIHRoaXMuX2NvdW50ID0gY291bnQ7XG4gICAgdGhpcy5fcmF0ZSA9IHJhdGU7XG4gIH1cbiAgZHJhdyhcbiAgICBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXG4gICAgc3RhdGU6IFQsXG4gICAgY29vcmRpbmF0ZXM/OiBDb29yZGluYXRlVHJhbnNsYXRhYmxlXG4gICk6IHZvaWQge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wYXJ0aWNsZXMuZm9yRWFjaCgocCkgPT4ge1xuICAgICAgcC5kcmF3KGNvbnRleHQsIHN0YXRlLCBjb29yZGluYXRlcyk7XG4gICAgfSk7XG4gIH1cblxuICB1cGRhdGUoZGVsdGE6IG51bWJlciwgc3RhdGU6IFQpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fcHJlZGljYXRlKHN0YXRlKSkge1xuICAgICAgdGhpcy5fZWxhcHNlZCArPSBkZWx0YTtcbiAgICAgIGlmICh0aGlzLl9lbGFwc2VkID4gdGhpcy5fcmF0ZSkge1xuICAgICAgICB0aGlzLl9lbGFwc2VkIC09IHRoaXMuX3JhdGU7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fY291bnQ7IGkrKykge1xuICAgICAgICAgIHRoaXMuX2NvbnRhaW5lci5hZGQoXG4gICAgICAgICAgICBuZXcgUGFydGljbGVFZmZlY3Q8VD4oXG4gICAgICAgICAgICAgIHRoaXMucG9zaXRpb24sXG4gICAgICAgICAgICAgIHRoaXMuX3BhcnRpY2xlR2VuZXJhdG9yLnZlbG9jaXR5KHN0YXRlKSxcbiAgICAgICAgICAgICAgdGhpcy5fcGFydGljbGVHZW5lcmF0b3IubGlmZXRpbWUoc3RhdGUpLFxuICAgICAgICAgICAgICB0aGlzLl9wYXJ0aWNsZUdlbmVyYXRvci5yb3RhdGlvbihzdGF0ZSksXG4gICAgICAgICAgICAgIHRoaXMuX3BhcnRpY2xlR2VuZXJhdG9yLnRleHR1cmUoc3RhdGUpLFxuICAgICAgICAgICAgICB0aGlzLl9wYXJ0aWNsZUdlbmVyYXRvci5zaXplKHN0YXRlKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fY29udGFpbmVyLnVwZGF0ZShkZWx0YSwgc3RhdGUpO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFydGljbGVHZW5lcmF0b3I8VD4ge1xuICB0ZXh0dXJlKHN0YXRlOiBUKTogVGV4dHVyZTtcbiAgc2l6ZShzdGF0ZTogVCk6IFZlY3RvcjI7XG4gIHZlbG9jaXR5KHN0YXRlOiBUKTogVmVjdG9yMjtcbiAgbGlmZXRpbWUoc3RhdGU6IFQpOiBudW1iZXI7XG4gIHJvdGF0aW9uKHN0YXRlOiBUKTogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgUGFydGljbGVFZmZlY3Q8VD4gaW1wbGVtZW50cyBEcmF3YWJsZTxUPiwgVGlja2luZzxUPiB7XG4gIHByaXZhdGUgX2NlbnRlcjogVmVjdG9yMjtcbiAgcHJpdmF0ZSBfZGlyZWN0aW9uOiBWZWN0b3IyO1xuICBwcml2YXRlIF92ZWxvY2l0eTogVmVjdG9yMjtcbiAgcHJpdmF0ZSBfbGlmZXRpbWU6IG51bWJlcjtcbiAgcHJpdmF0ZSBfcm90YXRpb246IG51bWJlcjtcbiAgcHJpdmF0ZSBfZWxhcHNlZExpZmV0aW1lOiBudW1iZXI7XG4gIHByaXZhdGUgX3RleHR1cmU6IFRleHR1cmU7XG4gIHByaXZhdGUgX3NpemU6IFZlY3RvcjI7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGNlbnRlcjogVmVjdG9yMixcbiAgICB2ZWxvY2l0eTogVmVjdG9yMixcbiAgICBsaWZldGltZTogbnVtYmVyLFxuICAgIHJvdGF0aW9uOiBudW1iZXIsXG4gICAgdGV4dHVyZTogVGV4dHVyZSxcbiAgICBzaXplOiBWZWN0b3IyXG4gICkge1xuICAgIHRoaXMuX2NlbnRlciA9IGNlbnRlcjtcbiAgICB0aGlzLl92ZWxvY2l0eSA9IHZlbG9jaXR5O1xuICAgIHRoaXMuX2xpZmV0aW1lID0gbGlmZXRpbWU7XG4gICAgdGhpcy5fcm90YXRpb24gPSByb3RhdGlvbjtcbiAgICB0aGlzLl90ZXh0dXJlID0gdGV4dHVyZTtcbiAgICB0aGlzLl9zaXplID0gc2l6ZTtcbiAgICB0aGlzLl9lbGFwc2VkTGlmZXRpbWUgPSAwO1xuICB9XG5cbiAgZHJhdyhcbiAgICBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXG4gICAgc3RhdGU6IFQsXG4gICAgY29vcmRpbmF0ZXM6IENvb3JkaW5hdGVUcmFuc2xhdGFibGVcbiAgKTogdm9pZCB7XG4gICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IDEgLSB0aGlzLl9lbGFwc2VkTGlmZXRpbWUgLyB0aGlzLl9saWZldGltZTtcbiAgICBkcmF3VGV4dHVyZShcbiAgICAgIGNvbnRleHQsXG4gICAgICB0aGlzLl90ZXh0dXJlLFxuICAgICAgY29vcmRpbmF0ZXMudHJhbnNsYXRlKHRoaXMuX2NlbnRlciksXG4gICAgICBjb29yZGluYXRlcy50cmFuc2xhdGUodGhpcy5fc2l6ZSksXG4gICAgICB0aGlzLl9yb3RhdGlvblxuICAgICk7XG4gICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IDE7XG4gIH1cblxuICBwdWJsaWMgZ2V0IHZlbG9jaXR5KCk6IFZlY3RvcjIge1xuICAgIHJldHVybiB0aGlzLl92ZWxvY2l0eTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgZGlyZWN0aW9uKCk6IFZlY3RvcjIge1xuICAgIHJldHVybiB0aGlzLl9kaXJlY3Rpb247XG4gIH1cblxuICBwdWJsaWMgZ2V0IGNlbnRlcigpOiBWZWN0b3IyIHtcbiAgICByZXR1cm4gdGhpcy5fY2VudGVyO1xuICB9XG5cbiAgcHVibGljIGdldCByZW1haW5pbmdUaW1lKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX2xpZmV0aW1lIC0gdGhpcy5fZWxhcHNlZExpZmV0aW1lO1xuICB9XG5cbiAgcHVibGljIHVwZGF0ZShkZWx0YTogbnVtYmVyLCBfOiBUKSB7XG4gICAgdGhpcy5fZWxhcHNlZExpZmV0aW1lICs9IGRlbHRhO1xuICAgIHRoaXMuX2NlbnRlciA9IHRoaXMuX2NlbnRlci5hZGQodGhpcy5fdmVsb2NpdHkuc2NhbGUoZGVsdGEpKTtcbiAgfVxufVxuIiwiaW1wb3J0IFZlY3RvcjIgZnJvbSBcIi4vVmVjdG9yMlwiO1xuaW1wb3J0IENpcmNsZSBmcm9tIFwiLi9DaXJjbGVcIjtcblxuLyoqXG4gKiBMaW5lLUNpcmNsZSBJbnRlcnNlY3Rpb25cbiAqIEBzb3VyY2UgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzcyMjQ5MTIvY2lyY2xlLWxpbmUtc2VnbWVudC1jb2xsaXNpb25cbiAqXG4gKiBAcGFyYW0gY2lyY2xlIFRoZSBjaXJjbGUgdG8gdGVzdCBmb3IgaW50ZXJzZWN0aW9uLlxuICogQHBhcmFtIHB0MSBUaGUgZmlyc3QgcG9pbnQgb2YgdGhlIGxpbmUuXG4gKiBAcGFyYW0gcHQyIFRoZSBzZWNvbmQgcG9pbnQgb2YgdGhlIGxpbmUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbGxpZGluZyhcbiAgY2lyY2xlOiBDaXJjbGUsXG4gIHB0MTogVmVjdG9yMixcbiAgcHQyOiBWZWN0b3IyXG4pOiBib29sZWFuIHtcbiAgY29uc3QgdjEgPSBuZXcgVmVjdG9yMihwdDIueCAtIHB0MS54LCBwdDIueSAtIHB0MS55KTtcbiAgY29uc3QgdjIgPSBuZXcgVmVjdG9yMihwdDEueCAtIGNpcmNsZS5jZW50ZXIueCwgcHQxLnkgLSBjaXJjbGUuY2VudGVyLnkpO1xuICBjb25zdCBiID0gLTIgKiAodjEueCAqIHYyLnggKyB2MS55ICogdjIueSk7XG4gIGNvbnN0IGMgPSAyICogKHYxLnggKiB2MS54ICsgdjEueSAqIHYxLnkpO1xuICBjb25zdCBkID0gTWF0aC5zcXJ0KFxuICAgIGIgKiBiIC0gMiAqIGMgKiAodjIueCAqIHYyLnggKyB2Mi55ICogdjIueSAtIGNpcmNsZS5yYWRpdXMgKiBjaXJjbGUucmFkaXVzKVxuICApO1xuICBpZiAoaXNOYU4oZCkpIHtcbiAgICAvLyBubyBpbnRlcmNlcHRcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gVGhlc2UgcmVwcmVzZW50IHRoZSB1bml0IGRpc3RhbmNlIG9mIHBvaW50IG9uZSBhbmQgdHdvIG9uIHRoZSBsaW5lXG4gIGNvbnN0IHUxID0gKGIgLSBkKSAvIGM7XG4gIGNvbnN0IHUyID0gKGIgKyBkKSAvIGM7XG4gIGlmICh1MSA8PSAxICYmIHUxID49IDApIHtcbiAgICAvLyBJZiBwb2ludCBvbiB0aGUgbGluZSBzZWdtZW50XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHUyIDw9IDEgJiYgdTIgPj0gMCkge1xuICAgIC8vIElmIHBvaW50IG9uIHRoZSBsaW5lIHNlZ21lbnRcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG4iLCJjbGFzcyBSYW5kb20ge1xuICBnYXVzc2lhbihjb3VudCA9IDYpOiBudW1iZXIge1xuICAgIGxldCByYW5kID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgcmFuZCArPSBNYXRoLnJhbmRvbSgpO1xuICAgIH1cblxuICAgIHJldHVybiByYW5kIC8gY291bnQgLSAwLjU7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHJhbmRvbSA9IG5ldyBSYW5kb20oKTtcbiIsImltcG9ydCBWZWN0b3IyIGZyb20gXCIuL1ZlY3RvcjJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2lyY2xlIHtcbiAgcHJpdmF0ZSBfY2VudGVyOiBWZWN0b3IyO1xuICBwcml2YXRlIF9yYWRpdXM6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihjZW50ZXI6IFZlY3RvcjIsIHJhZGl1czogbnVtYmVyKSB7XG4gICAgdGhpcy5fY2VudGVyID0gY2VudGVyO1xuICAgIHRoaXMuX3JhZGl1cyA9IHJhZGl1cztcbiAgfVxuXG4gIHB1YmxpYyBnZXQgY2VudGVyKCk6IFZlY3RvcjIge1xuICAgIHJldHVybiB0aGlzLl9jZW50ZXI7XG4gIH1cblxuICBwdWJsaWMgZ2V0IHJhZGl1cygpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9yYWRpdXM7XG4gIH1cbn1cbiIsImltcG9ydCBWZWN0b3IyIGZyb20gXCIuLi9jb3JlL2dlb21ldHJ5L1ZlY3RvcjJcIjtcbmltcG9ydCBEcmF3YWJsZSBmcm9tIFwiLi4vY29yZS9yZW5kZXJpbmcvRHJhd2FibGVcIjtcbmltcG9ydCBUaWNraW5nIGZyb20gXCIuLi9jb3JlL1RpY2tpbmdcIjtcbmltcG9ydCB7IENvb3JkaW5hdGVUcmFuc2xhdGFibGUgfSBmcm9tIFwiLi4vY29yZS9yZW5kZXJpbmcvVmlydHVhbENvb3JkaW5hdGVcIjtcbmltcG9ydCB7IGRyYXdUZXh0dXJlLCBUZXh0dXJlIH0gZnJvbSBcIi4uL2NvcmUvcmVuZGVyaW5nL1RleHR1cmVcIjtcbmltcG9ydCB7IEdsb2JhbFN0YXRlLCBQbGF5U3RhdGUgfSBmcm9tIFwiLi9TdGF0ZVwiO1xuaW1wb3J0IHsgUGFydGljbGVFbWl0dGVyLCBQYXJ0aWNsZUdlbmVyYXRvciB9IGZyb20gXCIuLi9jb3JlL3JlbmRlcmluZy9QYXJ0aWNsZVwiO1xuaW1wb3J0IHsgaXNDb2xsaWRpbmcgfSBmcm9tIFwiLi4vY29yZS9nZW9tZXRyeS9Db2xsaXNpb25cIjtcbmltcG9ydCB7IHJhbmRvbSB9IGZyb20gXCIuLi9jb3JlL1JhbmRvbVwiO1xuaW1wb3J0IENpcmNsZSBmcm9tIFwiLi4vY29yZS9nZW9tZXRyeS9DaXJjbGVcIjtcblxuY2xhc3MgVGhydXN0R2VuZXJhdG9yIGltcGxlbWVudHMgUGFydGljbGVHZW5lcmF0b3I8R2xvYmFsU3RhdGU8UGxheVN0YXRlPj4ge1xuICBwcml2YXRlIF9yb3RhdGlvbk9mZnNldDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKHJvdGF0aW9uT2Zmc2V0ID0gMCkge1xuICAgIHRoaXMuX3JvdGF0aW9uT2Zmc2V0ID0gcm90YXRpb25PZmZzZXQ7XG4gIH1cblxuICBwcml2YXRlIHRleDogVGV4dHVyZSA9IG5ldyBUZXh0dXJlKFwiYXNzZXRzL1Ntb2tlLnBuZ1wiLCBuZXcgVmVjdG9yMigzMiwgMzIpKTtcbiAgcHJpdmF0ZSBfc2l6ZTogVmVjdG9yMiA9IG5ldyBWZWN0b3IyKDAuNDI1LCAwLjQyNSk7XG4gIHRleHR1cmUoXzogR2xvYmFsU3RhdGU8UGxheVN0YXRlPik6IFRleHR1cmUge1xuICAgIHJldHVybiB0aGlzLnRleDtcbiAgfVxuICBzaXplKHN0YXRlOiBHbG9iYWxTdGF0ZTxQbGF5U3RhdGU+KTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIHRoaXMuX3NpemU7XG4gIH1cbiAgdmVsb2NpdHkoc3RhdGU6IEdsb2JhbFN0YXRlPFBsYXlTdGF0ZT4pOiBWZWN0b3IyIHtcbiAgICBsZXQgdiA9IHN0YXRlLmxvY2FsU3RhdGUubGFuZGVyLnJvdGF0aW9uVmVjdG9yO1xuICAgIGNvbnN0IHJvdGF0aW9uID0gcmFuZG9tLmdhdXNzaWFuKDEyKSAqIDEwMDtcbiAgICB2ID0gdi5yb3RhdGUocm90YXRpb24gKyB0aGlzLl9yb3RhdGlvbk9mZnNldCk7XG4gICAgdiA9IHYuc2NhbGUoLTUgKiByYW5kb20uZ2F1c3NpYW4oMTIpKTtcbiAgICByZXR1cm4gdjtcbiAgfVxuICBsaWZldGltZShzdGF0ZTogR2xvYmFsU3RhdGU8UGxheVN0YXRlPik6IG51bWJlciB7XG4gICAgcmV0dXJuIDUgKyByYW5kb20uZ2F1c3NpYW4oMTIpO1xuICB9XG4gIHJvdGF0aW9uKHN0YXRlOiBHbG9iYWxTdGF0ZTxQbGF5U3RhdGU+KTogbnVtYmVyIHtcbiAgICByZXR1cm4gMDtcbiAgfVxufVxuY2xhc3MgRXhwbG9zaW9uR2VuZXJhdG9yIGltcGxlbWVudHMgUGFydGljbGVHZW5lcmF0b3I8R2xvYmFsU3RhdGU8UGxheVN0YXRlPj4ge1xuICBwcml2YXRlIHRleDogVGV4dHVyZSA9IG5ldyBUZXh0dXJlKFwiYXNzZXRzL0ZpcmUucG5nXCIsIG5ldyBWZWN0b3IyKDMyLCAzMikpO1xuICBwcml2YXRlIF9zaXplOiBWZWN0b3IyID0gbmV3IFZlY3RvcjIoMC40MjUsIDAuNDI1KTtcbiAgdGV4dHVyZShfOiBHbG9iYWxTdGF0ZTxQbGF5U3RhdGU+KTogVGV4dHVyZSB7XG4gICAgcmV0dXJuIHRoaXMudGV4O1xuICB9XG4gIHNpemUoc3RhdGU6IEdsb2JhbFN0YXRlPFBsYXlTdGF0ZT4pOiBWZWN0b3IyIHtcbiAgICByZXR1cm4gdGhpcy5fc2l6ZTtcbiAgfVxuICB2ZWxvY2l0eShzdGF0ZTogR2xvYmFsU3RhdGU8UGxheVN0YXRlPik6IFZlY3RvcjIge1xuICAgIGxldCB2ID0gc3RhdGUubG9jYWxTdGF0ZS5sYW5kZXIucm90YXRpb25WZWN0b3I7XG4gICAgY29uc3Qgcm90YXRpb24gPSBNYXRoLnJhbmRvbSgpICogMzYwO1xuICAgIHYgPSB2LnJvdGF0ZShyb3RhdGlvbik7XG4gICAgdiA9IHYuc2NhbGUoLTIwICogcmFuZG9tLmdhdXNzaWFuKDEyKSk7XG4gICAgcmV0dXJuIHY7XG4gIH1cbiAgbGlmZXRpbWUoc3RhdGU6IEdsb2JhbFN0YXRlPFBsYXlTdGF0ZT4pOiBudW1iZXIge1xuICAgIHJldHVybiAyICsgcmFuZG9tLmdhdXNzaWFuKDEyKTtcbiAgfVxuICByb3RhdGlvbihzdGF0ZTogR2xvYmFsU3RhdGU8UGxheVN0YXRlPik6IG51bWJlciB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExhbmRlclxuICBpbXBsZW1lbnRzIERyYXdhYmxlPEdsb2JhbFN0YXRlPFBsYXlTdGF0ZT4+LCBUaWNraW5nPEdsb2JhbFN0YXRlPFBsYXlTdGF0ZT4+IHtcbiAgcHJpdmF0ZSBzaXplOiBWZWN0b3IyO1xuICBwcml2YXRlIHRleHR1cmU6IFRleHR1cmU7XG4gIHByaXZhdGUgX2Zyb3plbjogYm9vbGVhbjtcbiAgcHJpdmF0ZSB0aHJ1c3RFbWl0dGVyOiBQYXJ0aWNsZUVtaXR0ZXI8R2xvYmFsU3RhdGU8UGxheVN0YXRlPj47XG4gIHByaXZhdGUgbGVmdFJvdGF0aW9uRW1pdHRlcjogUGFydGljbGVFbWl0dGVyPEdsb2JhbFN0YXRlPFBsYXlTdGF0ZT4+O1xuICBwcml2YXRlIHJpZ2h0Um90YXRpb25FbWl0dGVyOiBQYXJ0aWNsZUVtaXR0ZXI8R2xvYmFsU3RhdGU8UGxheVN0YXRlPj47XG4gIHByaXZhdGUgZXhwbG9zaW9uRW1pdHRlcjogUGFydGljbGVFbWl0dGVyPEdsb2JhbFN0YXRlPFBsYXlTdGF0ZT4+O1xuICBwcml2YXRlIF9wb3NpdGlvbjogVmVjdG9yMjtcbiAgcHJpdmF0ZSBfdmVsb2NpdHk6IFZlY3RvcjI7XG4gIHByaXZhdGUgX3JvdGF0aW9uVmVjdG9yOiBWZWN0b3IyO1xuICBwcml2YXRlIF9yb3RhdGlvbjogbnVtYmVyO1xuICBwcml2YXRlIF9leHBsb3Npb25Db3VudCA9IDA7XG4gIHByaXZhdGUgX2lzRXhwbG9kaW5nID0gZmFsc2U7XG5cbiAgZnVlbCA9IDEwMDtcbiAgY3Jhc2hlZCA9IGZhbHNlO1xuICB0aHJ1c3RpbmcgPSBmYWxzZTtcbiAgdHVybmluZ0xlZnQgPSBmYWxzZTtcbiAgdHVybmluZ1JpZ2h0ID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IocG9zaXRpb246IFZlY3RvcjIsIHRleHR1cmU6IFRleHR1cmUsIHNpemU6IFZlY3RvcjIpIHtcbiAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlO1xuICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgdGhpcy5fZnJvemVuID0gZmFsc2U7XG4gICAgdGhpcy5fcG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICB0aGlzLl92ZWxvY2l0eSA9IG5ldyBWZWN0b3IyKDAsIDApO1xuICAgIHRoaXMuX3JvdGF0aW9uVmVjdG9yID0gbmV3IFZlY3RvcjIoMCwgLTEpO1xuICAgIHRoaXMuX3JvdGF0aW9uID0gMDtcbiAgICB0aGlzLnRocnVzdEVtaXR0ZXIgPSBuZXcgUGFydGljbGVFbWl0dGVyKFxuICAgICAgbmV3IFRocnVzdEdlbmVyYXRvcigpLFxuICAgICAgKHN0YXRlKSA9PlxuICAgICAgICBzdGF0ZS5sb2NhbFN0YXRlLmxhbmRlci50aHJ1c3RpbmcgJiZcbiAgICAgICAgc3RhdGUubG9jYWxTdGF0ZS5sYW5kZXIuZnVlbCA+IDAgJiZcbiAgICAgICAgIXRoaXMuX2Zyb3plbixcbiAgICAgIDAuMDMsXG4gICAgICA1XG4gICAgKTtcbiAgICB0aGlzLmxlZnRSb3RhdGlvbkVtaXR0ZXIgPSBuZXcgUGFydGljbGVFbWl0dGVyKFxuICAgICAgbmV3IFRocnVzdEdlbmVyYXRvcig5MCksXG4gICAgICAoc3RhdGUpID0+XG4gICAgICAgIHN0YXRlLmxvY2FsU3RhdGUubGFuZGVyLnR1cm5pbmdMZWZ0ICYmXG4gICAgICAgIHN0YXRlLmxvY2FsU3RhdGUubGFuZGVyLmZ1ZWwgPiAwICYmXG4gICAgICAgICF0aGlzLl9mcm96ZW4sXG4gICAgICAwLjAzLFxuICAgICAgM1xuICAgICk7XG4gICAgdGhpcy5yaWdodFJvdGF0aW9uRW1pdHRlciA9IG5ldyBQYXJ0aWNsZUVtaXR0ZXIoXG4gICAgICBuZXcgVGhydXN0R2VuZXJhdG9yKC05MCksXG4gICAgICAoc3RhdGUpID0+XG4gICAgICAgIHN0YXRlLmxvY2FsU3RhdGUubGFuZGVyLnR1cm5pbmdSaWdodCAmJlxuICAgICAgICBzdGF0ZS5sb2NhbFN0YXRlLmxhbmRlci5mdWVsID4gMCAmJlxuICAgICAgICAhdGhpcy5fZnJvemVuLFxuICAgICAgMC4wMyxcbiAgICAgIDNcbiAgICApO1xuICAgIHRoaXMuZXhwbG9zaW9uRW1pdHRlciA9IG5ldyBQYXJ0aWNsZUVtaXR0ZXIoXG4gICAgICBuZXcgRXhwbG9zaW9uR2VuZXJhdG9yKCksXG4gICAgICAoc3RhdGUpID0+IHRoaXMuX2lzRXhwbG9kaW5nLFxuICAgICAgMC4wMyxcbiAgICAgIDIwMFxuICAgICk7XG4gICAgdGhpcy5wb3NpdGlvbkVtaXR0ZXJzKCk7XG4gIH1cblxuICBkcmF3KFxuICAgIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgICBzdGF0ZTogR2xvYmFsU3RhdGU8UGxheVN0YXRlPixcbiAgICBjb29yZGluYXRlczogQ29vcmRpbmF0ZVRyYW5zbGF0YWJsZVxuICApIHtcbiAgICBpZiAoIXN0YXRlLmxvY2FsU3RhdGUubGFuZGVyLmNyYXNoZWQpIHtcbiAgICAgIGRyYXdUZXh0dXJlKFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICB0aGlzLnRleHR1cmUsXG4gICAgICAgIGNvb3JkaW5hdGVzLnRyYW5zbGF0ZSh0aGlzLl9wb3NpdGlvbiksXG4gICAgICAgIGNvb3JkaW5hdGVzLnRyYW5zbGF0ZSh0aGlzLnNpemUpLFxuICAgICAgICB0aGlzLl9yb3RhdGlvblxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy50aHJ1c3RFbWl0dGVyLmRyYXcoY29udGV4dCwgc3RhdGUsIGNvb3JkaW5hdGVzKTtcbiAgICB0aGlzLmxlZnRSb3RhdGlvbkVtaXR0ZXIuZHJhdyhjb250ZXh0LCBzdGF0ZSwgY29vcmRpbmF0ZXMpO1xuICAgIHRoaXMucmlnaHRSb3RhdGlvbkVtaXR0ZXIuZHJhdyhjb250ZXh0LCBzdGF0ZSwgY29vcmRpbmF0ZXMpO1xuICAgIHRoaXMuZXhwbG9zaW9uRW1pdHRlci5kcmF3KGNvbnRleHQsIHN0YXRlLCBjb29yZGluYXRlcyk7XG4gICAgLy8gdGhpcy5kZWJ1Z0RyYXcoY29udGV4dCwgc3RhdGUsIGNvb3JkaW5hdGVzKTtcbiAgfVxuXG4gIHByaXZhdGUgZGVidWdEcmF3KFxuICAgIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgICBzdGF0ZTogR2xvYmFsU3RhdGU8UGxheVN0YXRlPixcbiAgICBjb29yZGluYXRlczogQ29vcmRpbmF0ZVRyYW5zbGF0YWJsZVxuICApIHtcbiAgICAvLyBEZWJ1ZyBjb2xsaXNpb25cbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBcIiNmZmZmZmZcIjtcbiAgICBjb25zdCBjaXJjbGVwb3MgPSBjb29yZGluYXRlcy50cmFuc2xhdGUodGhpcy5fcG9zaXRpb24pO1xuICAgIGNvbnRleHQuYXJjKFxuICAgICAgY2lyY2xlcG9zLngsXG4gICAgICBjaXJjbGVwb3MueSxcbiAgICAgIGNvb3JkaW5hdGVzLnRyYW5zbGF0ZShuZXcgVmVjdG9yMig0LCAwKSkueCxcbiAgICAgIDAsXG4gICAgICBNYXRoLlBJICogMlxuICAgICk7XG4gICAgY29udGV4dC5zdHJva2UoKTtcbiAgICBjb25zdCBhZGpQb3MgPSBjb29yZGluYXRlcy50cmFuc2xhdGUodGhpcy5fcG9zaXRpb24pO1xuXG4gICAgLy8gRGVidWcgcm90YXRpb25cbiAgICBjb25zdCBhZGpWZWMgPSBjb29yZGluYXRlcy50cmFuc2xhdGUodGhpcy5fcm90YXRpb25WZWN0b3Iuc2NhbGUoNSkpO1xuICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgaWYgKHRoaXMuX3JvdGF0aW9uICUgMzYwIDwgNSAmJiB0aGlzLl9yb3RhdGlvbiAlIDM2MCA+IC01KSB7XG4gICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gXCIjMDBmZjAwXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBcIiNmZjAwMDBcIjtcbiAgICB9XG4gICAgY29udGV4dC5saW5lVG8oYWRqUG9zLngsIGFkalBvcy55KTtcbiAgICBjb250ZXh0LmxpbmVUbyhhZGpQb3MueCArIGFkalZlYy54LCBhZGpQb3MueSArIGFkalZlYy55KTtcbiAgICBjb250ZXh0LnN0cm9rZSgpO1xuXG4gICAgLy8gRGVidWcgdmVsb2NpdHlcbiAgICBjb25zdCB2ZWxvY2l0eSA9IGNvb3JkaW5hdGVzLnRyYW5zbGF0ZSh0aGlzLl92ZWxvY2l0eS5ub3JtYWxpemUoKS5zY2FsZSg1KSk7XG4gICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICBpZiAodGhpcy5fdmVsb2NpdHkuc3FyTWFnbml0dWRlKCkgPCA0KSB7XG4gICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gXCIjMDAwMGZmXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBcIiNmZjAwMDBcIjtcbiAgICB9XG4gICAgY29udGV4dC5saW5lVG8oYWRqUG9zLngsIGFkalBvcy55KTtcbiAgICBjb250ZXh0LmxpbmVUbyhhZGpQb3MueCArIHZlbG9jaXR5LngsIGFkalBvcy55ICsgdmVsb2NpdHkueSk7XG4gICAgY29udGV4dC5zdHJva2UoKTtcbiAgfVxuXG4gIHBvc2l0aW9uRW1pdHRlcnMoKTogdm9pZCB7XG4gICAgdGhpcy50aHJ1c3RFbWl0dGVyLnBvc2l0aW9uID0gdGhpcy5fcG9zaXRpb24uYWRkKFxuICAgICAgdGhpcy5fcm90YXRpb25WZWN0b3Iuc2NhbGUoLTEuNSlcbiAgICApO1xuICAgIHRoaXMubGVmdFJvdGF0aW9uRW1pdHRlci5wb3NpdGlvbiA9IHRoaXMuX3Bvc2l0aW9uLmFkZChcbiAgICAgIHRoaXMuX3JvdGF0aW9uVmVjdG9yLnJvdGF0ZSg3MCkuc2NhbGUoLTEuNzUpXG4gICAgKTtcbiAgICB0aGlzLnJpZ2h0Um90YXRpb25FbWl0dGVyLnBvc2l0aW9uID0gdGhpcy5fcG9zaXRpb24uYWRkKFxuICAgICAgdGhpcy5fcm90YXRpb25WZWN0b3Iucm90YXRlKC03MCkuc2NhbGUoLTEuNzUpXG4gICAgKTtcbiAgICB0aGlzLmV4cGxvc2lvbkVtaXR0ZXIucG9zaXRpb24gPSB0aGlzLl9wb3NpdGlvbjtcbiAgfVxuXG4gIHVwZGF0ZShkZWx0YTogbnVtYmVyLCBzdGF0ZTogR2xvYmFsU3RhdGU8UGxheVN0YXRlPik6IHZvaWQge1xuICAgIGlmICh0aGlzLl9pc0V4cGxvZGluZykge1xuICAgICAgY29uc29sZS5sb2coXCJFeHBsb3Npb25cIik7XG4gICAgICB0aGlzLl9leHBsb3Npb25Db3VudCsrO1xuICAgIH1cbiAgICBpZiAodGhpcy5fZXhwbG9zaW9uQ291bnQgPiA1KSB7XG4gICAgICB0aGlzLl9pc0V4cGxvZGluZyA9IGZhbHNlO1xuICAgICAgdGhpcy5fZXhwbG9zaW9uQ291bnQgPSAwO1xuICAgIH1cbiAgICB0aGlzLnRocnVzdEVtaXR0ZXIudXBkYXRlKGRlbHRhLCBzdGF0ZSk7XG4gICAgdGhpcy5sZWZ0Um90YXRpb25FbWl0dGVyLnVwZGF0ZShkZWx0YSwgc3RhdGUpO1xuICAgIHRoaXMucmlnaHRSb3RhdGlvbkVtaXR0ZXIudXBkYXRlKGRlbHRhLCBzdGF0ZSk7XG4gICAgdGhpcy5leHBsb3Npb25FbWl0dGVyLnVwZGF0ZShkZWx0YSwgc3RhdGUpO1xuICAgIGlmICghdGhpcy5fZnJvemVuKSB7XG4gICAgICBpZiAodGhpcy50dXJuaW5nTGVmdCAmJiB0aGlzLmZ1ZWwgPiAwKSB7XG4gICAgICAgIHRoaXMucm90YXRlKGRlbHRhLCBzdGF0ZSwgLTEpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMudHVybmluZ1JpZ2h0ICYmIHRoaXMuZnVlbCA+IDApIHtcbiAgICAgICAgdGhpcy5yb3RhdGUoZGVsdGEsIHN0YXRlLCAxKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3ZlbG9jaXR5ID0gdGhpcy5fdmVsb2NpdHkuYWRkKHN0YXRlLmNvbmZpZy5ncmF2aXR5LnNjYWxlKGRlbHRhKSk7XG4gICAgICBpZiAodGhpcy50aHJ1c3RpbmcgJiYgdGhpcy5mdWVsID4gMCkge1xuICAgICAgICB0aGlzLl92ZWxvY2l0eSA9IHRoaXMuX3ZlbG9jaXR5LmFkZChcbiAgICAgICAgICB0aGlzLl9yb3RhdGlvblZlY3Rvci5zY2FsZShkZWx0YSAqIHN0YXRlLmNvbmZpZy50aHJ1c3RDb2VmZmljaWVudClcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5mdWVsIC09IHN0YXRlLmNvbmZpZy5mdWVsQ29uc3VtcHRpb24gKiBkZWx0YTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmZ1ZWwgPCAwKSB7XG4gICAgICAgIHRoaXMuZnVlbCA9IDA7XG4gICAgICAgIHN0YXRlLmNvbW1hbmRzLmV4ZWN1dGUoXCJmdWVsRXhwaXJlZFwiLCBzdGF0ZSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9wb3NpdGlvbiA9IHRoaXMuX3Bvc2l0aW9uLmFkZCh0aGlzLl92ZWxvY2l0eS5zY2FsZShkZWx0YSkpO1xuICAgICAgdGhpcy5wb3NpdGlvbkVtaXR0ZXJzKCk7XG4gICAgICAvLyB0aGlzLnRocnVzdEVtaXR0ZXIudXBkYXRlKGRlbHRhLCBzdGF0ZSk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YXRlLmxvY2FsU3RhdGUudGVycmFpbi5wb2ludHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBpc0NvbGxpZGluZyhcbiAgICAgICAgICAgIG5ldyBDaXJjbGUodGhpcy5fcG9zaXRpb24sIDIpLFxuICAgICAgICAgICAgc3RhdGUubG9jYWxTdGF0ZS50ZXJyYWluLnBvaW50c1tpXSxcbiAgICAgICAgICAgIHN0YXRlLmxvY2FsU3RhdGUudGVycmFpbi5wb2ludHNbaSArIDFdXG4gICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLnZlbG9jaXR5LnNxck1hZ25pdHVkZSgpIDw9IDQgJiZcbiAgICAgICAgICAgICh0aGlzLnJvdGF0aW9uIDwgNSB8fCB0aGlzLnJvdGF0aW9uID4gMzU1KVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzdGF0ZS5sb2NhbFN0YXRlLnNhZmVab25lcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgc3RhdGUubG9jYWxTdGF0ZS50ZXJyYWluLnBvaW50c1tpXSA9PVxuICAgICAgICAgICAgICAgICAgc3RhdGUubG9jYWxTdGF0ZS5zYWZlWm9uZXNbal1bMF0gJiZcbiAgICAgICAgICAgICAgICBzdGF0ZS5sb2NhbFN0YXRlLnRlcnJhaW4ucG9pbnRzW2kgKyAxXSA9PVxuICAgICAgICAgICAgICAgICAgc3RhdGUubG9jYWxTdGF0ZS5zYWZlWm9uZXNbal1bMV1cbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuY29tbWFuZHMuZXhlY3V0ZShcInNhZmVMYW5kaW5nXCIsIHN0YXRlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgc3RhdGUuY29tbWFuZHMuZXhlY3V0ZShcImNyYXNoTGFuZGluZ1wiLCBzdGF0ZSk7XG4gICAgICAgICAgdGhpcy5faXNFeHBsb2RpbmcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5wb3NpdGlvbi54ID4gc3RhdGUuY29uZmlnLndvcmxkU2l6ZS54ICsgMTAgfHxcbiAgICAgICAgdGhpcy5wb3NpdGlvbi54IDwgLTEwIHx8XG4gICAgICAgIHRoaXMucG9zaXRpb24ueSA+IHN0YXRlLmNvbmZpZy53b3JsZFNpemUueSArIDEwXG4gICAgICApIHtcbiAgICAgICAgc3RhdGUuY29tbWFuZHMuZXhlY3V0ZShcImNyYXNoTGFuZGluZ1wiLCBzdGF0ZSk7XG4gICAgICAgIHRoaXMuX2lzRXhwbG9kaW5nID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJvdGF0ZShcbiAgICBkZWx0YTogbnVtYmVyLFxuICAgIHN0YXRlOiBHbG9iYWxTdGF0ZTxQbGF5U3RhdGU+LFxuICAgIGRpcmVjdGlvbjogbnVtYmVyXG4gICkge1xuICAgIHRoaXMuZnVlbCAtPSBzdGF0ZS5jb25maWcuZnVlbENvbnN1bXB0aW9uICogZGVsdGEgKiAwLjU7XG4gICAgdGhpcy5fcm90YXRpb24gKz0gZGlyZWN0aW9uICogc3RhdGUuY29uZmlnLnRoZXRhICogZGVsdGE7XG4gICAgdGhpcy5fcm90YXRpb25WZWN0b3IgPSB0aGlzLl9yb3RhdGlvblZlY3Rvci5yb3RhdGUoXG4gICAgICBkaXJlY3Rpb24gKiBzdGF0ZS5jb25maWcudGhldGEgKiBkZWx0YVxuICAgICk7XG4gIH1cblxuICBnZXQgdmVsb2NpdHkoKTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIHRoaXMuX3ZlbG9jaXR5O1xuICB9XG5cbiAgZ2V0IHJvdGF0aW9uKCk6IG51bWJlciB7XG4gICAgcmV0dXJuICgodGhpcy5fcm90YXRpb24gJSAzNjApICsgMzYwKSAlIDM2MDtcbiAgfVxuXG4gIGdldCByb3RhdGlvblZlY3RvcigpOiBWZWN0b3IyIHtcbiAgICByZXR1cm4gdGhpcy5fcm90YXRpb25WZWN0b3I7XG4gIH1cblxuICBnZXQgcG9zaXRpb24oKTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uO1xuICB9XG5cbiAgcHVibGljIGZyZWV6ZSgpIHtcbiAgICB0aGlzLl9mcm96ZW4gPSB0cnVlO1xuICAgIHRoaXMuX3ZlbG9jaXR5ID0gVmVjdG9yMi5aRVJPO1xuICB9XG5cbiAgcHVibGljIGdldCBmcm96ZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Zyb3plbjtcbiAgfVxufVxuIiwiaW1wb3J0IFZlY3RvcjIgZnJvbSBcIi4uL2NvcmUvZ2VvbWV0cnkvVmVjdG9yMlwiO1xuaW1wb3J0IHsgcmFuZG9tIH0gZnJvbSBcIi4uL2NvcmUvUmFuZG9tXCI7XG5pbXBvcnQgeyBDb29yZGluYXRlVHJhbnNsYXRhYmxlIH0gZnJvbSBcIi4uL2NvcmUvcmVuZGVyaW5nL1ZpcnR1YWxDb29yZGluYXRlXCI7XG5pbXBvcnQgeyBHbG9iYWxTdGF0ZSwgUGxheVN0YXRlIH0gZnJvbSBcIi4vU3RhdGVcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdUZXJyYWluKFxuICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgc3RhdGU6IEdsb2JhbFN0YXRlPFBsYXlTdGF0ZT4sXG4gIHZjczogQ29vcmRpbmF0ZVRyYW5zbGF0YWJsZVxuKTogdm9pZCB7XG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgY3R4LmxpbmVUbyhcbiAgICB2Y3MudHJhbnNsYXRlVmFsdWVYKDApLFxuICAgIHZjcy50cmFuc2xhdGVWYWx1ZVkoc3RhdGUuY29uZmlnLndvcmxkU2l6ZS55KVxuICApO1xuXG4gIGNvbnN0IGdyZCA9IGN0eC5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLCAwLCAwLCAxMDAwKTtcbiAgZ3JkLmFkZENvbG9yU3RvcCgwLCBcIiNmZmZmZmZcIik7XG4gIGdyZC5hZGRDb2xvclN0b3AoMSwgXCIjNzc3Nzc3XCIpO1xuXG4gIGZvciAobGV0IGkgPSAxOyBpIDwgc3RhdGUubG9jYWxTdGF0ZS50ZXJyYWluLnBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHB0ID0gdmNzLnRyYW5zbGF0ZShzdGF0ZS5sb2NhbFN0YXRlLnRlcnJhaW4ucG9pbnRzW2ldKTtcbiAgICBjdHgubGluZVRvKHB0LngsIHB0LnkpO1xuICB9XG4gIGN0eC5saW5lVG8oXG4gICAgdmNzLnRyYW5zbGF0ZVZhbHVlWChzdGF0ZS5jb25maWcud29ybGRTaXplLngpLFxuICAgIHZjcy50cmFuc2xhdGVWYWx1ZVkoc3RhdGUuY29uZmlnLndvcmxkU2l6ZS55KVxuICApO1xuICBjdHguZmlsbFN0eWxlID0gZ3JkO1xuICBjdHguZmlsbCgpO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhdGUubG9jYWxTdGF0ZS5zYWZlWm9uZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBcIiNmNjkyMDVcIjtcbiAgICBjdHgubGluZVdpZHRoID0gdmNzLnRyYW5zbGF0ZVZhbHVlWSgwLjUpO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjb25zdCBbcHQxLCBwdDJdID0gc3RhdGUubG9jYWxTdGF0ZS5zYWZlWm9uZXNbaV0ubWFwKHZjcy50cmFuc2xhdGUpO1xuICAgIGN0eC5saW5lVG8ocHQxLngsIHB0MS55KTtcbiAgICBjdHgubGluZVRvKHB0Mi54LCBwdDIueSk7XG4gICAgY3R4LnN0cm9rZSgpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUZXJyYWluIHtcbiAgcG9pbnRzOiBBcnJheTxWZWN0b3IyPjtcbiAgY29uc3RydWN0b3IoaXRlcmF0aW9uczogbnVtYmVyLCByb3VnaG5lc3M6IG51bWJlciwgcDE6IFZlY3RvcjIsIHAyOiBWZWN0b3IyLCBtaW4gPSAxMDApIHtcbiAgICB0aGlzLnBvaW50cyA9IFtwMSwgcDJdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlcmF0aW9uczsgaSsrKSB7XG4gICAgICBjb25zdCBzYXZlZExlbmd0aCA9IHRoaXMucG9pbnRzLmxlbmd0aDtcbiAgICAgIHJvdWdobmVzcyAvPSAyO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzYXZlZExlbmd0aCAtIDE7IGorKykge1xuICAgICAgICBsZXQgbWlkID0gbmV3IFZlY3RvcjIoXG4gICAgICAgICAgKHRoaXMucG9pbnRzW2ogKiAyXS54ICsgdGhpcy5wb2ludHNbaiAqIDIgKyAxXS54KSAvIDIsXG4gICAgICAgICAgKHRoaXMucG9pbnRzW2ogKiAyXS55ICsgdGhpcy5wb2ludHNbaiAqIDIgKyAxXS55KSAvIDJcbiAgICAgICAgKTtcbiAgICAgICAgbWlkID0gbWlkLmFkZChuZXcgVmVjdG9yMigwLCByYW5kb20uZ2F1c3NpYW4oMTIpICogcm91Z2huZXNzKSk7XG4gICAgICAgIG1pZCA9IG5ldyBWZWN0b3IyKG1pZC54LCBNYXRoLm1pbihtaWQueSwgbWluKSk7XG4gICAgICAgIHRoaXMucG9pbnRzLnNwbGljZShqICogMiArIDEsIDAsIG1pZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaW5zZXJ0U2FmZVpvbmUobWluWDogbnVtYmVyLCBtYXhYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIpOiBBcnJheTxWZWN0b3IyPiB7XG4gICAgY29uc3QgdGFyZ2V0WE1pbiA9IG1pblggKyB3aWR0aCAvIDI7XG4gICAgY29uc3QgdGFyZ2V0WE1heCA9IG1heFggLSB3aWR0aCAvIDI7XG4gICAgY29uc3QgZGlmZiA9IHRhcmdldFhNYXggLSB0YXJnZXRYTWluO1xuICAgIGNvbnN0IG9mZnNldCA9IHRhcmdldFhNaW4gKyBkaWZmICogTWF0aC5yYW5kb20oKTtcbiAgICBsZXQgaSA9IDA7XG4gICAgbGV0IHBvaW50ID0gdGhpcy5wb2ludHNbMF07XG4gICAgd2hpbGUgKHBvaW50LnggPCBvZmZzZXQpIHtcbiAgICAgIHBvaW50ID0gdGhpcy5wb2ludHNbKytpXTtcbiAgICB9XG4gICAgY29uc3Qgc2F2ZWQgPSBwb2ludDtcbiAgICBpKys7XG4gICAgcG9pbnQgPSB0aGlzLnBvaW50c1tpXTtcbiAgICBsZXQgeCA9IDA7XG4gICAgd2hpbGUgKHBvaW50LnggPCBvZmZzZXQgKyB3aWR0aCkge1xuICAgICAgeCA9IHBvaW50Lng7XG4gICAgICB0aGlzLnBvaW50cy5zcGxpY2UoaSwgMSk7XG4gICAgICBwb2ludCA9IHRoaXMucG9pbnRzW2ldO1xuICAgIH1cbiAgICB0aGlzLnBvaW50c1tpXSA9IG5ldyBWZWN0b3IyKHgsIHNhdmVkLnkpO1xuICAgIHJldHVybiBbc2F2ZWQsIHRoaXMucG9pbnRzW2ldXTtcbiAgfVxufVxuIiwiaW1wb3J0IFZlY3RvcjIgZnJvbSBcIi4uL2dlb21ldHJ5L1ZlY3RvcjJcIjtcblxuZXhwb3J0IGNsYXNzIFZpcnR1YWxDb29yZGluYXRlU3lzdGVtIHtcbiAgcHJpdmF0ZSBzY2FsZVg6IG51bWJlcjtcbiAgcHJpdmF0ZSBzY2FsZVk6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihzY2FsZVg6IG51bWJlciwgc2NhbGVZOiBudW1iZXIpIHtcbiAgICB0aGlzLnNjYWxlWCA9IHNjYWxlWDtcbiAgICB0aGlzLnNjYWxlWSA9IHNjYWxlWTtcbiAgICB0aGlzLnRyYW5zbGF0ZSA9IHRoaXMudHJhbnNsYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy50cmFuc2xhdGVWYWx1ZVggPSB0aGlzLnRyYW5zbGF0ZVZhbHVlWC5iaW5kKHRoaXMpO1xuICAgIHRoaXMudHJhbnNsYXRlVmFsdWVZID0gdGhpcy50cmFuc2xhdGVWYWx1ZVkuYmluZCh0aGlzKTtcbiAgfVxuXG4gIHRyYW5zbGF0ZSh2MTogVmVjdG9yMik6IFZlY3RvcjIge1xuICAgIHJldHVybiBuZXcgVmVjdG9yMih2MS54ICogdGhpcy5zY2FsZVgsIHYxLnkgKiB0aGlzLnNjYWxlWSk7XG4gIH1cblxuICB0cmFuc2xhdGVWYWx1ZVgocDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gcCAqIHRoaXMuc2NhbGVYO1xuICB9XG5cbiAgdHJhbnNsYXRlVmFsdWVZKHA6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIHAgKiB0aGlzLnNjYWxlWTtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvb3JkaW5hdGVUcmFuc2xhdGFibGUge1xuICB0cmFuc2xhdGUodjE6IFZlY3RvcjIpOiBWZWN0b3IyO1xuICB0cmFuc2xhdGVWYWx1ZVgocDogbnVtYmVyKTogbnVtYmVyO1xuICB0cmFuc2xhdGVWYWx1ZVkocDogbnVtYmVyKTogbnVtYmVyO1xufVxuIiwiaW1wb3J0IHsgTGFuZGVyIH0gZnJvbSAnLi4vY29udGVudC9MYW5kZXInXG5pbXBvcnQgeyBHbG9iYWxTdGF0ZSwgUGxheVN0YXRlIH0gZnJvbSAnLi4vY29udGVudC9TdGF0ZSdcbmltcG9ydCB7IGRyYXdUZXJyYWluLCBUZXJyYWluIH0gZnJvbSAnLi4vY29udGVudC9UZXJyYWluJ1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4uL2NvcmUvcmVuZGVyaW5nL1RleHR1cmUnXG5pbXBvcnQgVmVjdG9yMiBmcm9tICcuLi9jb3JlL2dlb21ldHJ5L1ZlY3RvcjInXG5pbXBvcnQgeyBHYW1lUGFnZSB9IGZyb20gJy4uL2NvcmUvbWVudXMvR2FtZVBhZ2UnXG5cbmV4cG9ydCBjbGFzcyBQbGF5UGFnZSBleHRlbmRzIEdhbWVQYWdlPEdsb2JhbFN0YXRlPFBsYXlTdGF0ZT4+IHtcblxuICBwcml2YXRlIGxhbmRlclRleHR1cmUgPSBuZXcgVGV4dHVyZShcbiAgICAnYXNzZXRzL0xhbmRlci5wbmcnLFxuICAgIG5ldyBWZWN0b3IyKDUwMCwgNTAwKVxuICApXG5cbiAgcHJpdmF0ZSBmdWVsUG9zaXRpb24gPSBuZXcgVmVjdG9yMig1LCA1KVxuICBwcml2YXRlIGFuZ2xlUG9zaXRpb24gPSBuZXcgVmVjdG9yMig1LCA3LjUpXG4gIHByaXZhdGUgdmVsb2NpdHlQb3NpdGlvbiA9IG5ldyBWZWN0b3IyKDUsIDEwKVxuXG4gIHByb3RlY3RlZCBwcmVMb2FkKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBzdGF0ZTogR2xvYmFsU3RhdGU8dW5rbm93bj4pOiB2b2lkIHtcbiAgICBzdXBlci5zZXRCb3VuZHMoc3RhdGUuY29uZmlnLnNjcmVlblJhdGlvLCBzdGF0ZS5jb25maWcud29ybGRTaXplKTtcbiAgfVxuXG4gIHBvc3RJbml0IChzdGF0ZTogR2xvYmFsU3RhdGU8dW5rbm93bj4pOiB2b2lkIHtcbiAgICBjb25zdCBkaWZmaWN1bHR5ID1cbiAgICAgIHN0YXRlLnJvdXRlci50cmFuc2l0aW9uRGF0YSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gKHN0YXRlLnJvdXRlci50cmFuc2l0aW9uRGF0YS5sZXZlbCBhcyBudW1iZXIpXG4gICAgICAgIDogMVxuICAgIGNvbnN0IGxhbmRlciA9IG5ldyBMYW5kZXIoXG4gICAgICBuZXcgVmVjdG9yMihzdGF0ZS5jb25maWcud29ybGRTaXplLnggLyAyLCAwKSxcbiAgICAgIHRoaXMubGFuZGVyVGV4dHVyZSxcbiAgICAgIG5ldyBWZWN0b3IyKDUsIDUpXG4gICAgKVxuICAgIHRoaXMuZHJhd2FibGVzLnB1c2gobGFuZGVyKVxuICAgIHRoaXMudGlja2luZy5wdXNoKGxhbmRlcilcbiAgICBjb25zdCB0ZXJyYWluID0gbmV3IFRlcnJhaW4oXG4gICAgICA4LFxuICAgICAgNTAwLFxuICAgICAgbmV3IFZlY3RvcjIoMCwgKHN0YXRlLmNvbmZpZy53b3JsZFNpemUueSAqIDIpIC8gMyksXG4gICAgICBuZXcgVmVjdG9yMihzdGF0ZS5jb25maWcud29ybGRTaXplLngsIChzdGF0ZS5jb25maWcud29ybGRTaXplLnkgKiAyKSAvIDMpLFxuICAgICAgc3RhdGUuY29uZmlnLndvcmxkU2l6ZS55IC0gMTBcbiAgICApXG4gICAgY29uc3Qgc2FmZVpvbmVzOiBBcnJheTxBcnJheTxWZWN0b3IyPj4gPSBbXVxuICAgIGNvbnN0IGNvdW50ID0gMyAtIGRpZmZpY3VsdHlcbiAgICBjb25zdCBtaW4gPSAxMFxuICAgIGNvbnN0IG1heCA9IHN0YXRlLmNvbmZpZy53b3JsZFNpemUueCAtIDEwXG4gICAgY29uc3QgdmFsaWRQb3J0aW9ucyA9IChtYXggLSBtaW4pIC8gY291bnRcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgIHNhZmVab25lcy5wdXNoKFxuICAgICAgICB0ZXJyYWluLmluc2VydFNhZmVab25lKFxuICAgICAgICAgIG1pbiArIHZhbGlkUG9ydGlvbnMgKiBpLFxuICAgICAgICAgIG1pbiArIHZhbGlkUG9ydGlvbnMgKiAoaSArIDEpLFxuICAgICAgICAgIGNvdW50ICogNy41XG4gICAgICAgIClcbiAgICAgIClcbiAgICB9XG5cbiAgICBzdGF0ZS5sb2NhbFN0YXRlID0ge1xuICAgICAgc2FmZVpvbmVzLFxuICAgICAgbGFuZGVyLFxuICAgICAgdGVycmFpbixcbiAgICAgIHJ1bm5pbmc6IHRydWVcbiAgICB9XG4gIH1cblxuICBjYW5UcmFuc2l0aW9uIChuZXh0UGFnZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICAvLyBHYW1lIGxvb3BcbiAgcHVibGljIGxvb3AgKHN0YXRlOiBHbG9iYWxTdGF0ZTxQbGF5U3RhdGU+KTogRnJhbWVSZXF1ZXN0Q2FsbGJhY2sge1xuICAgIGNvbnN0IGZuID0gKGN1cnJlbnRUaW1lOiBudW1iZXIpID0+IHtcbiAgICAgIGNvbnN0IGRlbHRhID0gY3VycmVudFRpbWUgLSB0aGlzLmxhc3RUaW1lXG4gICAgICB0aGlzLmxhc3RUaW1lID0gY3VycmVudFRpbWVcblxuICAgICAgdGhpcy51cGRhdGUoZGVsdGEgLyAxMDAwLCBzdGF0ZSlcbiAgICAgIHRoaXMuZHJhdyhzdGF0ZSlcblxuICAgICAgaWYgKHN0YXRlLmxvY2FsU3RhdGUucnVubmluZykge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZm4pXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmblxuICB9XG5cbiAgcHVibGljIHVwZGF0ZSAoZGVsdGE6IG51bWJlciwgc3RhdGU6IEdsb2JhbFN0YXRlPFBsYXlTdGF0ZT4pIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudGlja2luZy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy50aWNraW5nW2ldLnVwZGF0ZShkZWx0YSwgc3RhdGUpXG4gICAgfVxuICB9XG5cbiAgcHVibGljIGRyYXcgKHN0YXRlOiBHbG9iYWxTdGF0ZTxQbGF5U3RhdGU+KSB7XG4gICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KVxuICAgIGRyYXdUZXJyYWluKHRoaXMuY29udGV4dCwgc3RhdGUsIHRoaXMudmNzKVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kcmF3YWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuZHJhd2FibGVzW2ldLmRyYXcodGhpcy5jb250ZXh0LCBzdGF0ZSwgdGhpcy52Y3MpXG4gICAgfVxuICAgIHRoaXMuZHJhd1RleHQodGhpcy5jb250ZXh0LCBzdGF0ZSlcbiAgfVxuXG4gIHB1YmxpYyBkcmF3VGV4dCAoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBzdGF0ZTogR2xvYmFsU3RhdGU8UGxheVN0YXRlPikge1xuICAgIGNvbnN0IGZvbnRTaXplID0gdGhpcy52Y3MudHJhbnNsYXRlVmFsdWVYKDIpXG4gICAgY29udGV4dC5mb250ID0gYCR7Zm9udFNpemV9cHggQXJpYWxgXG5cbiAgICAvLyBGdWVsXG4gICAgY29uc3QgZnVlbCA9IHN0YXRlLmxvY2FsU3RhdGUubGFuZGVyLmZ1ZWxcbiAgICBpZiAoZnVlbCA+IDApIHtcbiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyMwMGZmMDAnXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyNmZmZmZmYnXG4gICAgfVxuICAgIGNvbnN0IGFkanVzdGVkRnVlbFBvc2l0aW9uID0gdGhpcy52Y3MudHJhbnNsYXRlKHRoaXMuZnVlbFBvc2l0aW9uKVxuICAgIGNvbnRleHQuZmlsbFRleHQoXG4gICAgICBgRnVlbDogJHtmdWVsLnRvRml4ZWQoMil9TGAsXG4gICAgICBhZGp1c3RlZEZ1ZWxQb3NpdGlvbi54LFxuICAgICAgYWRqdXN0ZWRGdWVsUG9zaXRpb24ueVxuICAgIClcblxuICAgIC8vIEFuZ2xlXG4gICAgY29uc3QgYW5nbGUgPSBzdGF0ZS5sb2NhbFN0YXRlLmxhbmRlci5yb3RhdGlvblxuICAgIGlmIChhbmdsZSA8IDUgfHwgYW5nbGUgPiAzNTUpIHtcbiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyMwMGZmMDAnXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyNmZmZmZmYnXG4gICAgfVxuICAgIGNvbnN0IGFkanVzdGVkQW5nbGVQb3NpdGlvbiA9IHRoaXMudmNzLnRyYW5zbGF0ZSh0aGlzLmFuZ2xlUG9zaXRpb24pXG4gICAgY29udGV4dC5maWxsVGV4dChcbiAgICAgIGBBbmdsZTogJHthbmdsZS50b0ZpeGVkKDIpfcKwYCxcbiAgICAgIGFkanVzdGVkQW5nbGVQb3NpdGlvbi54LFxuICAgICAgYWRqdXN0ZWRBbmdsZVBvc2l0aW9uLnlcbiAgICApXG5cbiAgICAvLyBWZWxvY2l0eVxuICAgIGNvbnN0IG1hZ24gPSBzdGF0ZS5sb2NhbFN0YXRlLmxhbmRlci52ZWxvY2l0eS5tYWduaXR1ZGUoKVxuICAgIGlmIChtYWduIDwgMikge1xuICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnIzAwZmYwMCdcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnI2ZmZmZmZidcbiAgICB9XG4gICAgY29uc3QgYWRqdXN0ZWRWZWxvY2l0eVBvc2l0aW9uID0gdGhpcy52Y3MudHJhbnNsYXRlKHRoaXMudmVsb2NpdHlQb3NpdGlvbilcbiAgICBjb250ZXh0LmZpbGxUZXh0KFxuICAgICAgYFZlbG9jaXR5OiAke21hZ24udG9GaXhlZCgyKX0gbS9zYCxcbiAgICAgIGFkanVzdGVkVmVsb2NpdHlQb3NpdGlvbi54LFxuICAgICAgYWRqdXN0ZWRWZWxvY2l0eVBvc2l0aW9uLnlcbiAgICApXG4gICAgY29udGV4dC5maWxsU3R5bGUgPSAnI2ZmZmZmZidcbiAgfVxufVxuIiwiaW1wb3J0IHsgR2xvYmFsU3RhdGUgfSBmcm9tIFwiLi4vLi4vY29udGVudC9TdGF0ZVwiXG5pbXBvcnQgVmVjdG9yMiBmcm9tIFwiLi4vZ2VvbWV0cnkvVmVjdG9yMlwiXG5pbXBvcnQgRHJhd2FibGUgZnJvbSBcIi4uL3JlbmRlcmluZy9EcmF3YWJsZVwiXG5pbXBvcnQgeyBWaXJ0dWFsQ29vcmRpbmF0ZVN5c3RlbSB9IGZyb20gXCIuLi9yZW5kZXJpbmcvVmlydHVhbENvb3JkaW5hdGVcIlxuaW1wb3J0IFRpY2tpbmcgZnJvbSBcIi4uL1RpY2tpbmdcIlxuaW1wb3J0IHsgUGFnZSB9IGZyb20gXCIuL1BhZ2VcIlxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgR2FtZVBhZ2U8VD4gaW1wbGVtZW50cyBQYWdlPFQ+IHtcbiAgcHJvdGVjdGVkIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnRcbiAgcHJvdGVjdGVkIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRFxuXG4gIHByb3RlY3RlZCB2Y3MgPSBuZXcgVmlydHVhbENvb3JkaW5hdGVTeXN0ZW0oMCwgMClcbiAgcHJvdGVjdGVkIGRyYXdhYmxlcyA9IFtdIGFzIEFycmF5PERyYXdhYmxlPFQ+PlxuICBwcm90ZWN0ZWQgdGlja2luZyA9IFtdIGFzIEFycmF5PFRpY2tpbmc8VD4+XG5cbiAgcHJvdGVjdGVkIGxhc3RUaW1lID0gMDtcblxuICBwcml2YXRlIHNjcmVlblJhdGlvOiBWZWN0b3IyO1xuICBwcml2YXRlIHdvcmxkU2l6ZTogVmVjdG9yMjtcblxuICBwcm90ZWN0ZWQgc2V0Qm91bmRzKHNjcmVlblJhdGlvOiBWZWN0b3IyLCB3b3JsZFNpemU6IFZlY3RvcjIpIHtcbiAgICB0aGlzLnNjcmVlblJhdGlvID0gc2NyZWVuUmF0aW87XG4gICAgdGhpcy53b3JsZFNpemUgPSB3b3JsZFNpemU7XG4gIH1cblxuICBsb2FkKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBzdGF0ZTogVCk6IHZvaWQge1xuICAgIHRoaXMucHJlTG9hZChlbGVtZW50LCBzdGF0ZSlcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxuICAgIHRoaXMuY2FudmFzID0gY2FudmFzXG4gICAgY2FudmFzLndpZHRoID0gdGhpcy53b3JsZFNpemUueFxuICAgIGNhbnZhcy5oZWlnaHQgPSB0aGlzLndvcmxkU2l6ZS55XG4gICAgY2FudmFzLmlkID0gJ2NhbnZhcydcblxuICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoY2FudmFzKVxuICAgIHRoaXMuY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpXG4gICAgdGhpcy5wb3N0TG9hZChlbGVtZW50LCBzdGF0ZSlcbiAgfVxuXG4gIHByb3RlY3RlZCBwcmVMb2FkKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBzdGF0ZTogVCk6IHZvaWQge1xuICAgICAgcmV0dXJuO1xuICB9O1xuICBwcm90ZWN0ZWQgcG9zdExvYWQoZWxlbWVudDogSFRNTEVsZW1lbnQsIHN0YXRlOiBUKTogdm9pZCB7XG4gICAgICByZXR1cm47XG4gIH07XG5cbiAgaW5pdChzdGF0ZTogVCk6IHZvaWQge1xuICAgIHRoaXMucHJlSW5pdChzdGF0ZSk7XG4gICAgdGhpcy5kcmF3YWJsZXMgPSBbXTtcbiAgICB0aGlzLnRpY2tpbmcgPSBbXTtcbiAgICB0aGlzLnBvc3RJbml0KHN0YXRlKTtcblxuICAgIHRoaXMubGFzdFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5sb29wKHN0YXRlIGFzIFQpKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB0aGlzLnJlc2l6ZSgpKVxuICAgIHRoaXMucmVzaXplKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgcHJlSW5pdChzdGF0ZTogVCk6IHZvaWQge1xuICAgICAgcmV0dXJuO1xuICB9O1xuICBwcm90ZWN0ZWQgcG9zdEluaXQoc3RhdGU6IFQpOiB2b2lkIHtcbiAgICAgIHJldHVybjtcbiAgfTtcblxuICAvLyBSZXNpemVcbiAgcmVzaXplICgpIHtcbiAgICBpZiAoXG4gICAgICB3aW5kb3cuaW5uZXJXaWR0aCAvIHRoaXMuc2NyZWVuUmF0aW8ueCA8XG4gICAgICB3aW5kb3cuaW5uZXJIZWlnaHQgLyB0aGlzLnNjcmVlblJhdGlvLnlcbiAgICApIHtcbiAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGhcbiAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9XG4gICAgICAgICh3aW5kb3cuaW5uZXJXaWR0aCAqIHRoaXMuc2NyZWVuUmF0aW8ueSkgL1xuICAgICAgICB0aGlzLnNjcmVlblJhdGlvLnhcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jYW52YXMud2lkdGggPVxuICAgICAgICAod2luZG93LmlubmVySGVpZ2h0ICogdGhpcy5zY3JlZW5SYXRpby54KSAvXG4gICAgICAgIHRoaXMuc2NyZWVuUmF0aW8ueVxuICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0XG4gICAgfVxuXG4gICAgdGhpcy52Y3MgPSBuZXcgVmlydHVhbENvb3JkaW5hdGVTeXN0ZW0oXG4gICAgICB0aGlzLmNhbnZhcy53aWR0aCAvIHRoaXMud29ybGRTaXplLngsXG4gICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgLyB0aGlzLndvcmxkU2l6ZS55XG4gICAgKVxuICB9XG5cblxuICBhYnN0cmFjdCBjYW5UcmFuc2l0aW9uKG5leHRQYWdlOiBzdHJpbmcpOiBib29sZWFuXG5cbiAgYWJzdHJhY3QgbG9vcChzdGF0ZTogVCk6IEZyYW1lUmVxdWVzdENhbGxiYWNrO1xufSIsImV4cG9ydCBjbGFzcyBTb3VuZEVmZmVjdCB7XG4gIHByaXZhdGUgZWw6IEhUTUxBdWRpb0VsZW1lbnQ7XG4gIHByaXZhdGUgcmVhZHkgPSBmYWxzZTtcbiAgcHJpdmF0ZSBjb250aW51ZSA9IGZhbHNlO1xuICBwcml2YXRlIGxvb3AgPSBmYWxzZTtcbiAgcHJpdmF0ZSBfcGxheWluZyA9IGZhbHNlO1xuICBwcml2YXRlIGN1dG9mZiA9IDA7XG4gIGNvbnN0cnVjdG9yKHNvdXJjZTogc3RyaW5nLCBjdXRvZmY/OiBudW1iZXIpIHtcbiAgICB0aGlzLmVsID0gbmV3IEF1ZGlvKHNvdXJjZSk7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XG4gICAgICB0aGlzLnJlYWR5ID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBpZiAoY3V0b2ZmKSB7XG4gICAgICB0aGlzLmxvb3AgPSB0cnVlO1xuICAgICAgdGhpcy5jdXRvZmYgPSBjdXRvZmY7XG4gICAgfVxuICB9XG5cbiAgcGxheSgpOiB2b2lkIHtcbiAgICB0aGlzLmVsLnBsYXkoKTtcbiAgICB0aGlzLmNvbnRpbnVlID0gdHJ1ZTtcbiAgICB0aGlzLl9wbGF5aW5nID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5sb29wKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRpbnVlKSByZXR1cm47XG4gICAgICAgIHRoaXMuZWwuY3VycmVudFRpbWUgPSAwO1xuICAgICAgICB0aGlzLnBsYXlSZWMoKTtcbiAgICAgIH0sIHRoaXMuY3V0b2ZmICogMTAwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gKHRoaXMuX3BsYXlpbmcgPSBmYWxzZSksIHRoaXMuZWwuZHVyYXRpb24gKiAxMDAwKTtcbiAgICB9XG4gIH1cblxuICBwbGF5UmVjKCk6IHZvaWQge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLmNvbnRpbnVlKSByZXR1cm47XG4gICAgICB0aGlzLmVsLmN1cnJlbnRUaW1lID0gMDtcbiAgICAgIHRoaXMucGxheVJlYygpO1xuICAgIH0sIHRoaXMuY3V0b2ZmICogMTAwMCk7XG4gIH1cblxuICBzdG9wKCk6IHZvaWQge1xuICAgIHRoaXMuZWwucGF1c2UoKTtcbiAgICB0aGlzLmNvbnRpbnVlID0gZmFsc2U7XG4gICAgdGhpcy5fcGxheWluZyA9IGZhbHNlO1xuICAgIHRoaXMuZWwuY3VycmVudFRpbWUgPSAwO1xuICB9XG5cbiAgcHVibGljIGdldCBwbGF5aW5nKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9wbGF5aW5nO1xuICB9XG59XG4iLCJpbXBvcnQgeyBDb21tYW5kU2VydmljZSB9IGZyb20gXCIuL0NvbW1hbmRcIjtcblxuaW50ZXJmYWNlIE1vZGlmaWVycyB7XG4gIGFsdDogYm9vbGVhbjtcbiAgc2hpZnQ6IGJvb2xlYW47XG4gIGN0cmw6IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBLZXlSZXNwb25zZSB7XG4gIChwcmVzc2VkOiBib29sZWFuLCB0aW1lRGVsdGE6IG51bWJlciwgbW9kaWZpZXJzOiBNb2RpZmllcnMpOiB2b2lkO1xufVxuXG5jbGFzcyBLZXlIYW5kbGVyIHtcbiAgcHJpdmF0ZSBfd2FzUHJlc3NlZCA9IGZhbHNlO1xuICBwcml2YXRlIF9sYXN0UHJlc3NlZDogbnVtYmVyID0gRGF0ZS5ub3coKTtcbiAgcHJpdmF0ZSBfb25TdGF0ZUNoYW5nZWQ6IFNldDxLZXlSZXNwb25zZT4gPSBuZXcgU2V0KCk7XG4gIHByaXZhdGUgX29uS2V5VXA6IFNldDxLZXlSZXNwb25zZT4gPSBuZXcgU2V0KCk7XG4gIHByaXZhdGUgX29uS2V5RG93bjogU2V0PEtleVJlc3BvbnNlPiA9IG5ldyBTZXQoKTtcblxuICB1cGRhdGUocHJlc3NlZDogYm9vbGVhbiwgbW9kaWZpZXJzOiBNb2RpZmllcnMpIHtcbiAgICBpZiAodGhpcy5fd2FzUHJlc3NlZCAhPSBwcmVzc2VkKSB7XG4gICAgICAvLyBJbml0IHNldFxuICAgICAgbGV0IHNldDtcbiAgICAgIGlmIChwcmVzc2VkKSB7XG4gICAgICAgIHNldCA9IHRoaXMuX29uS2V5RG93bjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldCA9IHRoaXMuX29uS2V5VXA7XG4gICAgICB9XG5cbiAgICAgIC8vIFRpbWUgZGVsdGFcbiAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG5cbiAgICAgIC8vIEhhbmRsZXJzXG4gICAgICBmb3IgKGNvbnN0IHJlcyBvZiBzZXQpIHtcbiAgICAgICAgcmVzKHByZXNzZWQsIG5vdyAtIHRoaXMuX2xhc3RQcmVzc2VkLCBtb2RpZmllcnMpO1xuICAgICAgfVxuICAgICAgZm9yIChjb25zdCByZXMgb2YgdGhpcy5fb25TdGF0ZUNoYW5nZWQpIHtcbiAgICAgICAgcmVzKHByZXNzZWQsIG5vdyAtIHRoaXMuX2xhc3RQcmVzc2VkLCBtb2RpZmllcnMpO1xuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGVzXG4gICAgICB0aGlzLl9sYXN0UHJlc3NlZCA9IG5vdztcbiAgICAgIHRoaXMuX3dhc1ByZXNzZWQgPSAhdGhpcy5fd2FzUHJlc3NlZDtcbiAgICB9XG4gIH1cblxuICBhZGRVcChhY3Rpb246IEtleVJlc3BvbnNlKSB7XG4gICAgdGhpcy5fb25LZXlVcC5hZGQoYWN0aW9uKTtcbiAgfVxuICBhZGREb3duKGFjdGlvbjogS2V5UmVzcG9uc2UpIHtcbiAgICB0aGlzLl9vbktleURvd24uYWRkKGFjdGlvbik7XG4gIH1cbiAgYWRkQ2hhbmdlZChhY3Rpb246IEtleVJlc3BvbnNlKSB7XG4gICAgdGhpcy5fb25TdGF0ZUNoYW5nZWQuYWRkKGFjdGlvbik7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEtleU1hbmFnZXIge1xuICBwcml2YXRlIGhhbmRsZXJzOiBNYXA8c3RyaW5nLCBLZXlIYW5kbGVyPjtcbiAgcHJpdmF0ZSBkZXNjcmlwdGlvbnM6IE1hcDxzdHJpbmcsIHN0cmluZz47XG4gIHB1YmxpYyByZWdpc3RlckhhbmRsZXIoa2V5Q29kZTogc3RyaW5nLCBkZXNjcmlwdGlvbj86IHN0cmluZykge1xuICAgIGlmICghdGhpcy5oYW5kbGVycy5oYXMoa2V5Q29kZSkpIHtcbiAgICAgIHRoaXMuaGFuZGxlcnMuc2V0KGtleUNvZGUsIG5ldyBLZXlIYW5kbGVyKCkpO1xuICAgICAgdGhpcy5kZXNjcmlwdGlvbnM/LnNldChrZXlDb2RlLCBkZXNjcmlwdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybihgS2V5IGhhbmRsZXIgcmVnaXN0ZXJlZCB0d2ljZSBmb3Iga2V5Q29kZSAke2tleUNvZGV9YCk7XG4gICAgfVxuICB9XG4gIGJpbmRVcChrZXlDb2RlOiBzdHJpbmcsIHVwZGF0ZUZuOiBLZXlSZXNwb25zZSkge1xuICAgIHRoaXMuaGFuZGxlcnMuZ2V0KGtleUNvZGUpLmFkZFVwKHVwZGF0ZUZuKTtcbiAgfVxuICBiaW5kRG93bihrZXlDb2RlOiBzdHJpbmcsIHVwZGF0ZUZuOiBLZXlSZXNwb25zZSkge1xuICAgIHRoaXMuaGFuZGxlcnMuZ2V0KGtleUNvZGUpLmFkZERvd24odXBkYXRlRm4pO1xuICB9XG4gIGJpbmRDaGFuZ2VkKGtleUNvZGU6IHN0cmluZywgdXBkYXRlRm46IEtleVJlc3BvbnNlKSB7XG4gICAgdGhpcy5oYW5kbGVycy5nZXQoa2V5Q29kZSkuYWRkQ2hhbmdlZCh1cGRhdGVGbik7XG4gIH1cbiAgdXBkYXRlRG93bihldmVudDogS2V5Ym9hcmRFdmVudCkge1xuICAgIGlmICh0aGlzLmhhbmRsZXJzLmhhcyhldmVudC5rZXkpKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuaGFuZGxlcnMuZ2V0KGV2ZW50LmtleSk7XG4gICAgICBoYW5kbGVyLnVwZGF0ZSh0cnVlLCB7XG4gICAgICAgIGFsdDogZXZlbnQuYWx0S2V5LFxuICAgICAgICBzaGlmdDogZXZlbnQuc2hpZnRLZXksXG4gICAgICAgIGN0cmw6IGV2ZW50LmN0cmxLZXksXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVVcChldmVudDogS2V5Ym9hcmRFdmVudCkge1xuICAgIGlmICh0aGlzLmhhbmRsZXJzLmhhcyhldmVudC5rZXkpKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuaGFuZGxlcnMuZ2V0KGV2ZW50LmtleSk7XG4gICAgICBoYW5kbGVyLnVwZGF0ZShmYWxzZSwge1xuICAgICAgICBhbHQ6IGV2ZW50LmFsdEtleSxcbiAgICAgICAgc2hpZnQ6IGV2ZW50LnNoaWZ0S2V5LFxuICAgICAgICBjdHJsOiBldmVudC5jdHJsS2V5LFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGNsZWFyKCkge1xuICAgIHRoaXMuaGFuZGxlcnMgPSBuZXcgTWFwKCk7XG4gIH1cblxuICByZW1vdmUoa2V5Y29kZTogc3RyaW5nKSB7XG4gICAgdGhpcy5oYW5kbGVycy5kZWxldGUoa2V5Y29kZSk7XG4gIH1cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy51cGRhdGVEb3duLmJpbmQodGhpcykpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy51cGRhdGVVcC5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmhhbmRsZXJzID0gbmV3IE1hcDxzdHJpbmcsIEtleUhhbmRsZXI+KCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hcFRvQ29tbWFuZHM8VD4oXG4gIGtleU1hbmFnZXI6IEtleU1hbmFnZXIsXG4gIGNvbW1hbmRzOiBDb21tYW5kU2VydmljZTxUPixcbiAgY29tbWFuZE5hbWU6IHN0cmluZyxcbiAga2V5TmFtZTogc3RyaW5nLFxuICBzdGF0ZTogVFxuKSB7XG4gIGtleU1hbmFnZXIucmVnaXN0ZXJIYW5kbGVyKGtleU5hbWUsIGNvbW1hbmROYW1lKTtcbiAgaWYgKGNvbW1hbmRzLmhhcyhgYmVnaW4ke2NvbW1hbmROYW1lfWApKSB7XG4gICAga2V5TWFuYWdlci5iaW5kRG93bihrZXlOYW1lLCAoKSA9PlxuICAgICAgY29tbWFuZHMuZXhlY3V0ZShgYmVnaW4ke2NvbW1hbmROYW1lfWAsIHN0YXRlKVxuICAgICk7XG4gIH1cbiAgaWYgKGNvbW1hbmRzLmhhcyhgZW5kJHtjb21tYW5kTmFtZX1gKSkge1xuICAgIGtleU1hbmFnZXIuYmluZFVwKGtleU5hbWUsICgpID0+XG4gICAgICBjb21tYW5kcy5leGVjdXRlKGBlbmQke2NvbW1hbmROYW1lfWAsIHN0YXRlKVxuICAgICk7XG4gIH1cbiAgaWYgKGNvbW1hbmRzLmhhcyhgdG9nZ2xlJHtjb21tYW5kTmFtZX1gKSkge1xuICAgIGtleU1hbmFnZXIuYmluZENoYW5nZWQoa2V5TmFtZSwgKCkgPT5cbiAgICAgIGNvbW1hbmRzLmV4ZWN1dGUoYHRvZ2dsZSR7Y29tbWFuZE5hbWV9YCwgc3RhdGUpXG4gICAgKTtcbiAgfVxufVxuIiwiaW50ZXJmYWNlIENvbW1hbmRSdW5uYWJsZTxUPiB7XG4gIChzdGF0ZTogVCk6IHZvaWQ7XG59XG5cbmNsYXNzIENvbW1hbmQ8VD4ge1xuICBwcml2YXRlIF9uYW1lOiBzdHJpbmc7XG4gIHByaXZhdGUgX2FjdGlvbjogQ29tbWFuZFJ1bm5hYmxlPFQ+O1xuICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIGFjdGlvbjogQ29tbWFuZFJ1bm5hYmxlPFQ+KSB7XG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fYWN0aW9uID0gYWN0aW9uO1xuICB9XG5cbiAgcHVibGljIGdldCBuYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gIH1cblxuICBwdWJsaWMgaW52b2tlKHN0YXRlOiBUKTogdm9pZCB7XG4gICAgdGhpcy5fYWN0aW9uKHN0YXRlKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29tbWFuZFNlcnZpY2U8VD4ge1xuICBwcml2YXRlIGNvbW1hbmRzOiBNYXA8c3RyaW5nLCBDb21tYW5kPFQ+PjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNvbW1hbmRzID0gbmV3IE1hcDxzdHJpbmcsIENvbW1hbmQ8VD4+KCk7XG4gIH1cblxuICBwdWJsaWMgY3JlYXRlQ29tbWFuZChuYW1lOiBzdHJpbmcsIGFjdGlvbjogQ29tbWFuZFJ1bm5hYmxlPFQ+KTogdm9pZCB7XG4gICAgdGhpcy5jb21tYW5kcy5zZXQobmFtZSwgbmV3IENvbW1hbmQobmFtZSwgYWN0aW9uKSk7XG4gIH1cblxuICBwdWJsaWMgaGFzKG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNvbW1hbmRzLmhhcyhuYW1lKTtcbiAgfVxuXG4gIHB1YmxpYyBleGVjdXRlKG5hbWU6IHN0cmluZywgc3RhdGU6IFQpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5jb21tYW5kcy5oYXMobmFtZSkpIHtcbiAgICAgIHRoaXMuY29tbWFuZHMuZ2V0KG5hbWUpLmludm9rZShzdGF0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybihgQXR0ZW1wdGluZyB0byBpbnZva2Ugbm9uLWV4aXN0ZW50IGNvbW1hbmQgJHtuYW1lfWApO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgUGFnZSB9IGZyb20gXCIuLi9jb3JlL21lbnVzL1BhZ2VcIjtcbmltcG9ydCB7IEdsb2JhbFN0YXRlIH0gZnJvbSBcIi4uL2NvbnRlbnQvU3RhdGVcIjtcblxuZXhwb3J0IGNsYXNzIENyZWRpdHNQYWdlIGltcGxlbWVudHMgUGFnZTxHbG9iYWxTdGF0ZTx1bmtub3duPj4ge1xuICAgIGxvYWQoYmFzZTogSFRNTEVsZW1lbnQsIHN0YXRlOiBHbG9iYWxTdGF0ZTx1bmtub3duPik6IHZvaWQge1xuICAgICAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgaW1nLnNyYyA9ICdhc3NldHMvTGFuZGVyLnBuZyc7XG4gICAgICAgIGltZy53aWR0aCA9IDI1MDtcbiAgICAgICAgYmFzZS5hcHBlbmRDaGlsZChpbWcpO1xuICAgICAgICBjb25zdCBhdXRob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgIGF1dGhvci5pbm5lclRleHQgPSBcIkx1bmFyIExhbmRlciBDbG9uZSBieSBIdW50ZXIgSGVucmljaHNlblwiXG4gICAgICAgIGNvbnN0IGZvbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgIGZvbnQuaW5uZXJUZXh0ID0gXCJNb250c2VycmF0IEZvbnQgZnJvbSBHb29nbGUgRm9udHNcIlxuICAgICAgICBiYXNlLmFwcGVuZENoaWxkKGF1dGhvcik7XG4gICAgICAgIGJhc2UuYXBwZW5kQ2hpbGQoZm9udCk7XG4gICAgICAgIGNvbnN0IGhvbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIGhvbWUuaHJlZiA9IFwiI1wiO1xuICAgICAgICBob21lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgc3RhdGUucm91dGVyLnJlcXVlc3RUcmFuc2l0aW9uKCdob21lJyk7XG4gICAgICAgIH0pXG4gICAgICAgIGhvbWUuaW5uZXJUZXh0ID0gXCJCYWNrXCI7XG4gICAgICAgIGJhc2UuYXBwZW5kQ2hpbGQoaG9tZSk7XG4gICAgfVxuXG4gICAgaW5pdChnbG9iYWxTdGF0ZTogR2xvYmFsU3RhdGU8dW5rbm93bj4pOiB2b2lkIHtcbiAgICAgICAgZ2xvYmFsU3RhdGUubG9jYWxTdGF0ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgY2FuVHJhbnNpdGlvbihfOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG59IiwiaW1wb3J0IHsgQ29tbWFuZFNlcnZpY2UgfSBmcm9tIFwiLi4vY29yZS9Db21tYW5kXCI7XG5pbXBvcnQgeyBHbG9iYWxTdGF0ZSwgUGxheVN0YXRlIH0gZnJvbSBcIi4vU3RhdGVcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkQ29tbWFuZHMoXG4gIHN0YXRlOiBHbG9iYWxTdGF0ZTxQbGF5U3RhdGU+XG4pOiBDb21tYW5kU2VydmljZTxHbG9iYWxTdGF0ZTxQbGF5U3RhdGU+PiB7XG4gIGNvbnN0IGNvbW1hbmRzID0gbmV3IENvbW1hbmRTZXJ2aWNlPEdsb2JhbFN0YXRlPFBsYXlTdGF0ZT4+KCk7XG4gIC8vIENvbW1hbmQgQ3JlYXRpb25cbiAgY29tbWFuZHMuY3JlYXRlQ29tbWFuZChcImJlZ2luVGhydXN0XCIsIChzdGF0ZSkgPT4ge1xuICAgIGlmIChzdGF0ZS5sb2NhbFN0YXRlLmxhbmRlci5mcm96ZW4pIHJldHVybjtcbiAgICBzdGF0ZS5sb2NhbFN0YXRlLmxhbmRlci50aHJ1c3RpbmcgPSB0cnVlO1xuICAgIGlmIChzdGF0ZS5sb2NhbFN0YXRlLmxhbmRlci5mdWVsID4gMCkge1xuICAgICAgc3RhdGUuc291bmRzLm1haW5UaHJ1c3Rlci5wbGF5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLnNvdW5kcy5ub0Z1ZWwucGxheSgpO1xuICAgIH1cbiAgfSk7XG5cbiAgY29tbWFuZHMuY3JlYXRlQ29tbWFuZChcImVuZFRocnVzdFwiLCAoc3RhdGUpID0+IHtcbiAgICBzdGF0ZS5sb2NhbFN0YXRlLmxhbmRlci50aHJ1c3RpbmcgPSBmYWxzZTtcbiAgICBzdGF0ZS5zb3VuZHMubWFpblRocnVzdGVyLnN0b3AoKTtcbiAgICBzdGF0ZS5zb3VuZHMubm9GdWVsLnN0b3AoKTtcbiAgfSk7XG5cbiAgY29tbWFuZHMuY3JlYXRlQ29tbWFuZChcImZ1ZWxFeHBpcmVkXCIsIChzdGF0ZSkgPT4ge1xuICAgIGlmIChzdGF0ZS5sb2NhbFN0YXRlLmxhbmRlci5mcm96ZW4pIHJldHVybjtcbiAgICBpZiAoc3RhdGUuc291bmRzLm1haW5UaHJ1c3Rlci5wbGF5aW5nKSB7XG4gICAgICBzdGF0ZS5zb3VuZHMubWFpblRocnVzdGVyLnN0b3AoKTtcbiAgICAgIHN0YXRlLnNvdW5kcy5ub0Z1ZWwucGxheSgpO1xuICAgIH1cbiAgICBpZiAoc3RhdGUuc291bmRzLnN1YlRocnVzdGVyLnBsYXlpbmcpIHtcbiAgICAgIHN0YXRlLnNvdW5kcy5zdWJUaHJ1c3Rlci5zdG9wKCk7XG4gICAgICBzdGF0ZS5zb3VuZHMubm9GdWVsLnBsYXkoKTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbW1hbmRzLmNyZWF0ZUNvbW1hbmQoXCJiZWdpblR1cm5MZWZ0XCIsIChzdGF0ZSkgPT4ge1xuICAgIGlmIChzdGF0ZS5sb2NhbFN0YXRlLmxhbmRlci5mcm96ZW4pIHJldHVybjtcbiAgICBzdGF0ZS5sb2NhbFN0YXRlLmxhbmRlci50dXJuaW5nTGVmdCA9IHRydWU7XG4gICAgaWYgKHN0YXRlLmxvY2FsU3RhdGUubGFuZGVyLmZ1ZWwgPiAwKSB7XG4gICAgICBzdGF0ZS5zb3VuZHMuc3ViVGhydXN0ZXIucGxheSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5zb3VuZHMubm9GdWVsLnBsYXkoKTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbW1hbmRzLmNyZWF0ZUNvbW1hbmQoXCJlbmRUdXJuTGVmdFwiLCAoc3RhdGUpID0+IHtcbiAgICBpZiAoc3RhdGUubG9jYWxTdGF0ZS5sYW5kZXIuZnJvemVuKSByZXR1cm47XG4gICAgc3RhdGUuc291bmRzLnN1YlRocnVzdGVyLnN0b3AoKTtcbiAgICBzdGF0ZS5zb3VuZHMubm9GdWVsLnN0b3AoKTtcbiAgICBzdGF0ZS5sb2NhbFN0YXRlLmxhbmRlci50dXJuaW5nTGVmdCA9IGZhbHNlO1xuICB9KTtcblxuICBjb21tYW5kcy5jcmVhdGVDb21tYW5kKFwiYmVnaW5UdXJuUmlnaHRcIiwgKHN0YXRlKSA9PiB7XG4gICAgaWYgKHN0YXRlLmxvY2FsU3RhdGUubGFuZGVyLmZyb3plbikgcmV0dXJuO1xuICAgIGlmIChzdGF0ZS5sb2NhbFN0YXRlLmxhbmRlci5mdWVsID4gMCkge1xuICAgICAgc3RhdGUuc291bmRzLnN1YlRocnVzdGVyLnBsYXkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUuc291bmRzLm5vRnVlbC5wbGF5KCk7XG4gICAgfVxuICAgIHN0YXRlLmxvY2FsU3RhdGUubGFuZGVyLnR1cm5pbmdSaWdodCA9IHRydWU7XG4gIH0pO1xuXG4gIGNvbW1hbmRzLmNyZWF0ZUNvbW1hbmQoXCJlbmRUdXJuUmlnaHRcIiwgKHN0YXRlKSA9PiB7XG4gICAgaWYgKHN0YXRlLmxvY2FsU3RhdGUubGFuZGVyLmZyb3plbikgcmV0dXJuO1xuICAgIHN0YXRlLnNvdW5kcy5zdWJUaHJ1c3Rlci5zdG9wKCk7XG4gICAgc3RhdGUuc291bmRzLm5vRnVlbC5zdG9wKCk7XG4gICAgc3RhdGUubG9jYWxTdGF0ZS5sYW5kZXIudHVybmluZ1JpZ2h0ID0gZmFsc2U7XG4gIH0pO1xuXG4gIGNvbW1hbmRzLmNyZWF0ZUNvbW1hbmQoXCJzYWZlTGFuZGluZ1wiLCAoc3RhdGUpID0+IHtcbiAgICBzdGF0ZS5zb3VuZHMubGFuZGluZy5wbGF5KCk7XG4gICAgc3RhdGUubG9jYWxTdGF0ZS5sYW5kZXIuZnJlZXplKCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzdGF0ZS5sb2NhbFN0YXRlLnJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgIHN0YXRlLnJvdXRlci5yZXF1ZXN0VHJhbnNpdGlvbigncGxheScsIHtsZXZlbDogMn0pO1xuICAgIH0sIDMwMDApO1xuICB9KTtcblxuICBjb21tYW5kcy5jcmVhdGVDb21tYW5kKFwiY3Jhc2hMYW5kaW5nXCIsIChzdGF0ZSkgPT4ge1xuICAgIHN0YXRlLnNvdW5kcy5tYWluVGhydXN0ZXIuc3RvcCgpO1xuICAgIHN0YXRlLnNvdW5kcy5zdWJUaHJ1c3Rlci5zdG9wKCk7XG4gICAgc3RhdGUuc291bmRzLm5vRnVlbC5zdG9wKCk7XG4gICAgc3RhdGUuc291bmRzLmV4cGxvc2lvbi5wbGF5KCk7XG4gICAgc3RhdGUubG9jYWxTdGF0ZS5sYW5kZXIuY3Jhc2hlZCA9IHRydWU7XG4gICAgc3RhdGUubG9jYWxTdGF0ZS5sYW5kZXIuZnJlZXplKCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzdGF0ZS5sb2NhbFN0YXRlLnJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgIHN0YXRlLnJvdXRlci5yZXF1ZXN0VHJhbnNpdGlvbignaG9tZScpO1xuICAgIH0sIDMwMDApO1xuICB9KTtcblxuICByZXR1cm4gY29tbWFuZHM7XG59IiwiaW1wb3J0IHsgQ29tbWFuZFNlcnZpY2UgfSBmcm9tIFwiLi9jb3JlL0NvbW1hbmRcIjtcbmltcG9ydCB7IEtleU1hbmFnZXIgfSBmcm9tIFwiLi9jb3JlL0tleU1hbmFnZXJcIjtcbmltcG9ydCB7IFBhZ2UgfSBmcm9tIFwiLi9jb3JlL21lbnVzL1BhZ2VcIjtcbmltcG9ydCB7IE1haW5NZW51IH0gZnJvbSBcIi4vcGFnZXMvTWFpbk1lbnVcIjtcbmltcG9ydCB7IFBsYXlQYWdlIH0gZnJvbSBcIi4vcGFnZXMvUGxheVBhZ2VcIjtcbmltcG9ydCB7IFNvdW5kRWZmZWN0IH0gZnJvbSBcIi4vY29yZS9Tb3VuZEVmZmVjdFwiO1xuaW1wb3J0IHsgR2xvYmFsU3RhdGUsIFBsYXlTdGF0ZSB9IGZyb20gXCIuL2NvbnRlbnQvU3RhdGVcIjtcbmltcG9ydCBWZWN0b3IyIGZyb20gXCIuL2NvcmUvZ2VvbWV0cnkvVmVjdG9yMlwiO1xuaW1wb3J0IHsgYnVpbGREZWZhdWx0S2V5cyB9IGZyb20gXCIuL2NvbnRlbnQvRGVmYXVsdEtleXNcIjtcbmltcG9ydCB7IGJ1aWxkQ29tbWFuZHMgfSBmcm9tICcuL2NvbnRlbnQvQ29tbWFuZHMnO1xuaW1wb3J0IHsgQ3JlZGl0c1BhZ2UgfSBmcm9tIFwiLi9wYWdlcy9DcmVkaXRzUGFnZVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRTdGF0ZSgpOiBHbG9iYWxTdGF0ZTxQbGF5U3RhdGU+IHtcbiAgY29uc3QgcmF0aW8gPSBuZXcgVmVjdG9yMig0IC8gMywgMSk7XG4gIGNvbnN0IHdvcmxkU2l6ZSA9IHJhdGlvLnNjYWxlKDEwMCk7XG4gIGNvbnN0IHN0YXRlID0ge1xuICAgIGNvbW1hbmRzOiB1bmRlZmluZWQgYXMgQ29tbWFuZFNlcnZpY2U8R2xvYmFsU3RhdGU8UGxheVN0YXRlPj4sXG4gICAgbG9jYWxTdGF0ZTogbnVsbCBhcyBQbGF5U3RhdGUsXG4gICAga2V5czogdW5kZWZpbmVkIGFzIEtleU1hbmFnZXIsXG4gICAgY29uZmlnOiB7XG4gICAgICBmdWVsQ29uc3VtcHRpb246IDIwLFxuICAgICAgdGhydXN0Q29lZmZpY2llbnQ6IDEwLFxuICAgICAgdGhldGE6IDkwLFxuICAgICAgZ3Jhdml0eTogbmV3IFZlY3RvcjIoMCwgMSksXG4gICAgICB3b3JsZFNpemUsXG4gICAgICBzY3JlZW5SYXRpbzogcmF0aW8sXG4gICAgfSxcbiAgICBzb3VuZHM6IHtcbiAgICAgIG1haW5UaHJ1c3RlcjogbmV3IFNvdW5kRWZmZWN0KFwiYXNzZXRzL21haW50aHJ1c3Rlci53YXZcIiwgNCksXG4gICAgICBzdWJUaHJ1c3RlcjogbmV3IFNvdW5kRWZmZWN0KFwiYXNzZXRzL3N1YnRocnVzdGVyLndhdlwiLCA0KSxcbiAgICAgIGV4cGxvc2lvbjogbmV3IFNvdW5kRWZmZWN0KFwiYXNzZXRzL2V4cGxvc2lvbi53YXZcIiksXG4gICAgICBsYW5kaW5nOiBuZXcgU291bmRFZmZlY3QoXCJhc3NldHMvbGFuZGluZy53YXZcIiksXG4gICAgICBub0Z1ZWw6IG5ldyBTb3VuZEVmZmVjdChcImFzc2V0cy9ub2Z1ZWwud2F2XCIsIDEpLFxuICAgIH0sXG4gICAgcm91dGVyOiB7XG4gICAgICBjdXJyZW50UGFnZTogdW5kZWZpbmVkIGFzIFBhZ2UsXG4gICAgICB0cmFuc2l0aW9uRGF0YToge30sXG4gICAgICByZXF1ZXN0VHJhbnNpdGlvbihpZDogc3RyaW5nLCBkYXRhPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pIHtcbiAgICAgICAgaWYgKHRoaXMucm91dGVyLnBhZ2VzW2lkXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJvdXRlci5jdXJyZW50UGFnZSA9PT0gdW5kZWZpbmVkIHx8IHRoaXMucm91dGVyLmN1cnJlbnRQYWdlLmNhblRyYW5zaXRpb24oaWQpKSB7XG4gICAgICAgICAgdGhpcy5yb3V0ZXIuY3VycmVudFBhZ2UgPSB0aGlzLnJvdXRlci5wYWdlc1tpZF07XG4gICAgICAgICAgdGhpcy5yb3V0ZXIudHJhbnNpdGlvbkRhdGEgPSBkYXRhO1xuICAgICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4nKTtcbiAgICAgICAgICBlbC5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICAgIGVsLmNsYXNzTGlzdC5mb3JFYWNoKGl0ID0+IGVsLmNsYXNzTGlzdC5yZW1vdmUoaXQpKVxuICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoaWQpO1xuICAgICAgICAgIHRoaXMucm91dGVyLmN1cnJlbnRQYWdlLmxvYWQoZWwsIHRoaXMpO1xuICAgICAgICAgIHRoaXMubG9jYWxTdGF0ZSA9IG51bGw7XG4gICAgICAgICAgdGhpcy5yb3V0ZXIuY3VycmVudFBhZ2UuaW5pdCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHBhZ2VzOiB7J2hvbWUnOiBuZXcgTWFpbk1lbnUoKSwgJ3BsYXknOiBuZXcgUGxheVBhZ2UoKSwgJ2NyZWRpdHMnOiBuZXcgQ3JlZGl0c1BhZ2UoKX0sXG4gICAgfVxuICB9O1xuICBzdGF0ZS5yb3V0ZXIucmVxdWVzdFRyYW5zaXRpb24gPSBzdGF0ZS5yb3V0ZXIucmVxdWVzdFRyYW5zaXRpb24uYmluZChzdGF0ZSk7XG4gIHN0YXRlLmNvbW1hbmRzID0gYnVpbGRDb21tYW5kcyhzdGF0ZSk7XG4gIHN0YXRlLmtleXMgPSBidWlsZERlZmF1bHRLZXlzKHN0YXRlKTtcbiAgcmV0dXJuIHN0YXRlO1xufSIsImltcG9ydCB7IEtleU1hbmFnZXIsIG1hcFRvQ29tbWFuZHMgfSBmcm9tIFwiLi4vY29yZS9LZXlNYW5hZ2VyXCI7XG5pbXBvcnQgeyBHbG9iYWxTdGF0ZSwgUGxheVN0YXRlIH0gZnJvbSBcIi4vU3RhdGVcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkRGVmYXVsdEtleXMoc3RhdGU6IEdsb2JhbFN0YXRlPFBsYXlTdGF0ZT4pOiBLZXlNYW5hZ2VyIHtcbiAgLy8gRGVmYXVsdCBLZXliaW5kaW5nc1xuICBjb25zdCBrZXlzID0gbmV3IEtleU1hbmFnZXIoKTtcbiAgbWFwVG9Db21tYW5kcyhrZXlzLCBzdGF0ZS5jb21tYW5kcywgXCJUaHJ1c3RcIiwgXCJBcnJvd1VwXCIsIHN0YXRlKTtcbiAgbWFwVG9Db21tYW5kcyhrZXlzLCBzdGF0ZS5jb21tYW5kcywgXCJUdXJuTGVmdFwiLCBcIkFycm93TGVmdFwiLCBzdGF0ZSk7XG4gIG1hcFRvQ29tbWFuZHMoa2V5cywgc3RhdGUuY29tbWFuZHMsIFwiVHVyblJpZ2h0XCIsIFwiQXJyb3dSaWdodFwiLCBzdGF0ZSk7XG4gIHJldHVybiBrZXlzO1xufSIsImltcG9ydCB7IGJ1aWxkU3RhdGUgfSBmcm9tICcuL2luaXQnO1xuXG5jb25zdCBnbG9iYWxTdGF0ZSA9IGJ1aWxkU3RhdGUoKTtcbmdsb2JhbFN0YXRlLnJvdXRlci5yZXF1ZXN0VHJhbnNpdGlvbignaG9tZScpOyJdLCJzb3VyY2VSb290IjoiIn0=