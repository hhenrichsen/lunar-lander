(()=>{"use strict";function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var n=function(){function n(t,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e(this,"_x",0),e(this,"_y",0),this._x=t,this._y=i}var i,r,o;return i=n,o=[{key:"random",value:function(){return new n(Math.random(),Math.random()).normalize()}},{key:"distance",value:function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}}],(r=[{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"sqrMagnitude",value:function(){return Math.pow(this.x,2)+Math.pow(this.y,2)}},{key:"magnitude",value:function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}},{key:"normalize",value:function(){var t=this.magnitude();return new n(this.x/t,this.y/t)}},{key:"scale",value:function(t){return new n(this.x*t,this.y*t)}},{key:"add",value:function(t){return new n(this.x+t.x,this.y+t.y)}},{key:"rotate",value:function(t){var e=t*Math.PI/180;return new n(this.x*Math.cos(e)-Math.sin(e)*this.y,this.x*Math.sin(e)+this.y*Math.cos(e))}},{key:"toString",value:function(){return"Vector2(x: ".concat(this.x,", y: ").concat(this.y,")")}}])&&t(i.prototype,r),o&&t(i,o),n}();e(n,"ZERO",new n(0,0));const i=n;function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;e.ready&&(t.save(),t.translate(n.x,n.y),t.rotate(r*Math.PI/180),t.translate(-n.x,-n.y),t.drawImage(e.texture,n.x-i.x/2,n.y-i.y/2,i.x,i.y),t.restore())}var s=function(){function t(e,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,"size",void 0),o(this,"el",void 0),o(this,"ready",!1),this.el=new Image,this.el.src=e,this.el.addEventListener("load",(function(){i.ready=!0}))}var e,n;return e=t,(n=[{key:"texture",get:function(){return this.el}}])&&r(e.prototype,n),t}();function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,"scaleX",void 0),l(this,"scaleY",void 0),this.scaleX=e,this.scaleY=n}var e,n;return e=t,(n=[{key:"translate",value:function(t){return new i(t.x*this.scaleX,t.y*this.scaleY)}},{key:"translateValueX",value:function(t){return t*this.scaleX}},{key:"translateValueY",value:function(t){return t*this.scaleY}}])&&u(e.prototype,n),t}();function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=function(){function t(){c(this,t),y(this,"particles",void 0),this.particles=[]}return d(t,[{key:"update",value:function(t,e){this.particles=this.particles.filter((function(n){return n.update(t,e),n.remainingTime>0}))}},{key:"add",value:function(t){this.particles.push(t)}}]),t}(),p=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;c(this,t),y(this,"position",void 0),y(this,"_rate",.1),y(this,"_elapsed",0),y(this,"_count",10),y(this,"_container",void 0),y(this,"_particleGenerator",void 0),y(this,"_predicate",void 0),this._container=new v,this._particleGenerator=e,this._predicate=n,this._count=r,this._rate=i}return d(t,[{key:"draw",value:function(t,e,n){this._container.particles.forEach((function(i){i.draw(t,e,n)}))}},{key:"update",value:function(t,e){if(this._predicate(e)&&(this._elapsed+=t,this._elapsed>this._rate)){this._elapsed-=this._rate;for(var n=0;n<this._count;n++)this._container.add(new g(this.position,this._particleGenerator.velocity(e),this._particleGenerator.lifetime(e),this._particleGenerator.rotation(e),this._particleGenerator.texture(e),this._particleGenerator.size(e)))}this._container.update(t,e)}}]),t}(),g=function(){function t(e,n,i,r,o,a){c(this,t),y(this,"_center",void 0),y(this,"_direction",void 0),y(this,"_velocity",void 0),y(this,"_lifetime",void 0),y(this,"_rotation",void 0),y(this,"_elapsedLifetime",void 0),y(this,"_texture",void 0),y(this,"_size",void 0),this._center=e,this._velocity=n,this._lifetime=i,this._rotation=r,this._texture=o,this._size=a,this._elapsedLifetime=0}return d(t,[{key:"draw",value:function(t,e,n){t.globalAlpha=1-this._elapsedLifetime/this._lifetime,a(t,this._texture,n.translate(this._center),n.translate(this._size),this._rotation),t.globalAlpha=1}},{key:"velocity",get:function(){return this._velocity}},{key:"direction",get:function(){return this._direction}},{key:"center",get:function(){return this._center}},{key:"remainingTime",get:function(){return this._lifetime-this._elapsedLifetime}},{key:"update",value:function(t,e){this._elapsedLifetime+=t,this._center=this._center.add(this._velocity.scale(t))}}]),t}();function m(t,e,n){var r=new i(n.x-e.x,n.y-e.y),o=new i(e.x-t.center.x,e.y-t.center.y),a=-2*(r.x*o.x+r.y*o.y),s=2*(r.x*r.x+r.y*r.y),u=Math.sqrt(a*a-2*s*(o.x*o.x+o.y*o.y-t.radius*t.radius));if(isNaN(u))return!1;var l=(a-u)/s,h=(a+u)/s;return l<=1&&l>=0||h<=1&&h>=0}function w(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var _=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"gaussian",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,e=0,n=0;n<t;n++)e+=Math.random();return e/t}}])&&w(e.prototype,n),t}());function b(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),x(this,"_center",void 0),x(this,"_radius",void 0),this._center=e,this._radius=n}var e,n;return e=t,(n=[{key:"center",get:function(){return this._center}},{key:"radius",get:function(){return this._radius}}])&&b(e.prototype,n),t}();function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function C(t,e,n){return e&&E(t.prototype,e),n&&E(t,n),t}function P(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var M=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;T(this,t),P(this,"_rotationOffset",void 0),P(this,"tex",new s("assets/Smoke.png",new i(32,32))),P(this,"_size",new i(.75,.75)),this._rotationOffset=e}return C(t,[{key:"texture",value:function(t){return this.tex}},{key:"size",value:function(t){return this._size}},{key:"velocity",value:function(t){var e=t.lander.rotationVector,n=100*_.gaussian(12)-50;return(e=e.rotate(n+this._rotationOffset)).scale(-5*_.gaussian(12))}},{key:"lifetime",value:function(t){return 5+_.gaussian(12)}},{key:"rotation",value:function(t){return 0}}]),t}(),O=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;T(this,t),P(this,"tex",new s("assets/Fire.png",new i(32,32))),P(this,"_size",new i(1,1)),this._rotationOffset=e}return C(t,[{key:"texture",value:function(t){return this.tex}},{key:"size",value:function(t){return this._size}},{key:"velocity",value:function(t){var e=t.lander.rotationVector,n=360*Math.random();return(e=e.rotate(n)).scale(-20*_.gaussian(12))}},{key:"lifetime",value:function(t){return 5+_.gaussian(12)}},{key:"rotation",value:function(t){return 0}}]),t}(),S=function(){function t(e,n,r){var o=this;T(this,t),P(this,"size",void 0),P(this,"texture",void 0),P(this,"frozen",void 0),P(this,"thrustEmitter",void 0),P(this,"leftRotationEmitter",void 0),P(this,"rightRotationEmitter",void 0),P(this,"explosionEmitter",void 0),P(this,"_position",void 0),P(this,"_velocity",void 0),P(this,"_rotationVector",void 0),P(this,"_rotation",void 0),P(this,"_explosionCount",0),P(this,"_isExploding",!1),P(this,"fuel",100),P(this,"crashed",!1),P(this,"thrusting",!1),P(this,"turningLeft",!1),P(this,"turningRight",!1),this.texture=n,this.size=r,this.frozen=!1,this._position=e,this._velocity=new i(0,0),this._rotationVector=new i(0,-1),this._rotation=0,this.thrustEmitter=new p(new M,(function(t){return t.lander.thrusting&&t.lander.fuel>0}),.05,10),this.leftRotationEmitter=new p(new M(90),(function(t){return t.lander.turningLeft&&t.lander.fuel>0}),.05,5),this.rightRotationEmitter=new p(new M(-90),(function(t){return t.lander.turningRight&&t.lander.fuel>0}),.05,5),this.explosionEmitter=new p(new O,(function(t){return o._isExploding}),.1,400),this.positionEmitters()}return C(t,[{key:"draw",value:function(t,e,n){e.lander.crashed||a(t,this.texture,n.translate(this._position),n.translate(this.size),this._rotation),this.thrustEmitter.draw(t,e,n),this.leftRotationEmitter.draw(t,e,n),this.rightRotationEmitter.draw(t,e,n),this.explosionEmitter.draw(t,e,n)}},{key:"debugDraw",value:function(t,e,n){t.beginPath(),t.strokeStyle="#ffffff";var r=n.translate(this._position);t.arc(r.x,r.y,n.translate(new i(4,0)).x,0,2*Math.PI),t.stroke();var o=n.translate(this._position),a=n.translate(this._rotationVector.scale(5));t.beginPath(),this._rotation%360<5&&this._rotation%360>-5?t.strokeStyle="#00ff00":t.strokeStyle="#ff0000",t.lineTo(o.x,o.y),t.lineTo(o.x+a.x,o.y+a.y),t.stroke();var s=n.translate(this._velocity.normalize().scale(5));t.beginPath(),this._velocity.sqrMagnitude()<4?t.strokeStyle="#0000ff":t.strokeStyle="#ff0000",t.lineTo(o.x,o.y),t.lineTo(o.x+s.x,o.y+s.y),t.stroke()}},{key:"positionEmitters",value:function(){this.thrustEmitter.position=this._position.add(this._rotationVector.scale(-3)),this.leftRotationEmitter.position=this._position.add(this._rotationVector.rotate(70).scale(-3.5)),this.rightRotationEmitter.position=this._position.add(this._rotationVector.rotate(-70).scale(-3.5)),this.explosionEmitter.position=this._position}},{key:"update",value:function(t,e){if(this._isExploding&&this._explosionCount++,this._explosionCount>5&&(this._isExploding=!1),this.thrustEmitter.update(t,e),this.leftRotationEmitter.update(t,e),this.rightRotationEmitter.update(t,e),this.explosionEmitter.update(t,e),!this.frozen){this.turningLeft&&this.fuel>0&&this.rotate(t,e,-1),this.turningRight&&this.fuel>0&&this.rotate(t,e,1),this._velocity=this._velocity.add(e.config.gravity.scale(t)),this.thrusting&&this.fuel>0&&(this._velocity=this._velocity.add(this._rotationVector.scale(t*e.config.thrustCoefficient)),this.fuel-=e.config.fuelConsumption*t),this.fuel<0&&(this.fuel=0,e.commands.execute("fuelExpired",e)),this._position=this._position.add(this._velocity.scale(t)),this.positionEmitters();for(var n=0;n<e.terrain.points.length-1;n++)if(m(new k(this._position,4),e.terrain.points[n],e.terrain.points[n+1])){if(this.velocity.sqrMagnitude()<=4&&(this.rotation<5||this.rotation>355))for(var i=0;i<e.safeZones.length;i++)if(e.terrain.points[n]==e.safeZones[i][0]&&e.terrain.points[n+1]==e.safeZones[i][1])return void e.commands.execute("safeLanding",e);e.commands.execute("crashLanding",e),this._isExploding=!0}(this.position.x>110||this.position.x<-10)&&(e.commands.execute("crashLanding",e),this._isExploding=!0)}}},{key:"rotate",value:function(t,e,n){this.fuel-=e.config.fuelConsumption*t*.5,this._rotation+=n*e.config.theta*t,this._rotationVector=this._rotationVector.rotate(n*e.config.theta*t)}},{key:"velocity",get:function(){return this._velocity}},{key:"rotation",get:function(){return(this._rotation%360+360)%360}},{key:"rotationVector",get:function(){return this._rotationVector}},{key:"position",get:function(){return this._position}},{key:"freeze",value:function(){this.frozen=!0,this._velocity=i.ZERO}}]),t}();function z(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return L(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function V(t,e,n){return e&&j(t.prototype,e),n&&j(t,n),t}function A(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var D=function(){function t(){R(this,t),A(this,"_wasPressed",!1),A(this,"_lastPressed",Date.now()),A(this,"_onStateChanged",new Set),A(this,"_onKeyUp",new Set),A(this,"_onKeyDown",new Set)}return V(t,[{key:"update",value:function(t,e){if(this._wasPressed!=t){var n;n=t?this._onKeyDown:this._onKeyUp;var i,r=Date.now(),o=z(n);try{for(o.s();!(i=o.n()).done;)(0,i.value)(t,r-this._lastPressed,e)}catch(t){o.e(t)}finally{o.f()}var a,s=z(this._onStateChanged);try{for(s.s();!(a=s.n()).done;)(0,a.value)(t,r-this._lastPressed,e)}catch(t){s.e(t)}finally{s.f()}this._lastPressed=r,this._wasPressed=!this._wasPressed}}},{key:"addUp",value:function(t){this._onKeyUp.add(t)}},{key:"addDown",value:function(t){this._onKeyDown.add(t)}},{key:"addChanged",value:function(t){this._onStateChanged.add(t)}}]),t}(),F=function(){function t(){R(this,t),A(this,"handlers",void 0),A(this,"descriptions",void 0),window.addEventListener("keydown",this.updateDown.bind(this)),window.addEventListener("keyup",this.updateUp.bind(this)),this.handlers=new Map}return V(t,[{key:"registerHandler",value:function(t,e){var n;this.handlers.has(t)?console.warn("Key handler registered twice for keyCode ".concat(t)):(this.handlers.set(t,new D),null===(n=this.descriptions)||void 0===n||n.set(t,e))}},{key:"bindUp",value:function(t,e){this.handlers.get(t).addUp(e)}},{key:"bindDown",value:function(t,e){this.handlers.get(t).addDown(e)}},{key:"bindChanged",value:function(t,e){this.handlers.get(t).addChanged(e)}},{key:"updateDown",value:function(t){this.handlers.has(t.key)&&(t.preventDefault(),this.handlers.get(t.key).update(!0,{alt:t.altKey,shift:t.shiftKey,ctrl:t.ctrlKey}))}},{key:"updateUp",value:function(t){this.handlers.has(t.key)&&(t.preventDefault(),this.handlers.get(t.key).update(!1,{alt:t.altKey,shift:t.shiftKey,ctrl:t.ctrlKey}))}},{key:"clear",value:function(){this.handlers=new Map}},{key:"remove",value:function(t){this.handlers.delete(t)}}]),t}();function K(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function q(t,e,n){return e&&U(t.prototype,e),n&&U(t,n),t}function I(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Z=function(){function t(e,n){K(this,t),I(this,"_name",void 0),I(this,"_action",void 0),this._name=e,this._action=n}return q(t,[{key:"name",get:function(){return this._name}},{key:"invoke",value:function(t){this._action(t)}}]),t}(),X=function(){function t(){K(this,t),I(this,"commands",void 0),this.commands=new Map}return q(t,[{key:"createCommand",value:function(t,e){this.commands.set(t,new Z(t,e))}},{key:"execute",value:function(t,e){this.commands.has(t)?this.commands.get(t).invoke(e):console.warn("Attempting to invoke non-existent command ".concat(t))}}]),t}();function G(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Y=function(){function t(e,n,r,o){var a,s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),s=void 0,(a="points")in this?Object.defineProperty(this,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):this[a]=s,this.points=[r,o];for(var u=0;u<e;u++)for(var l=this.points.length,h=0;h<l-1;h++){var c=new i((this.points[2*h].x+this.points[2*h+1].x)/2,(this.points[2*h].y+this.points[2*h+1].y)/2);c=c.add(new i(0,_.gaussian(12)*n)),this.points.splice(2*h+1,0,c)}}var e,n;return e=t,(n=[{key:"insertSafeZone",value:function(t,e,n){for(var r=t+n/2,o=r+(e-n/2-r)*Math.random(),a=0,s=this.points[0];s.x<o;)s=this.points[++a];var u=s;a++,s=this.points[a];for(var l=0;s.x<o+n;)l=s.x,this.points.splice(a,1),s=this.points[a];return this.points[a]=new i(l,u.y),[u,this.points[a]]}}])&&G(e.prototype,n),t}();function H(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function N(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var W=function(){function t(e,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),N(this,"el",void 0),N(this,"ready",!1),N(this,"continue",!1),N(this,"loop",!1),N(this,"_playing",!1),N(this,"cutoff",0),this.el=new Audio(e),this.el.addEventListener("load",(function(){i.ready=!0})),n&&(this.loop=!0,this.cutoff=n)}var e,n;return e=t,(n=[{key:"play",value:function(){var t=this;this.el.play(),this.continue=!0,this._playing=!0,this.loop?setTimeout((function(){t.continue&&(t.el.currentTime=0,t.playRec())}),1e3*this.cutoff):setTimeout((function(){return t._playing=!1}),1e3*this.el.duration)}},{key:"playRec",value:function(){var t=this;setTimeout((function(){t.continue&&(t.el.currentTime=0,t.playRec())}),1e3*this.cutoff)}},{key:"stop",value:function(){this.el.pause(),this.continue=!1,this._playing=!1,this.el.currentTime=0}},{key:"playing",get:function(){return this._playing}}])&&H(e.prototype,n),t}(),B=document.getElementById("canvas"),$=B.getContext("2d"),J=new i(100,100),Q=new s("assets/Lander.png",new i(500,500)),tt=Math.min(window.innerWidth,window.innerHeight);B.width=tt,B.height=tt;var et=new h(tt/J.x,tt/J.y);window.addEventListener("resize",(function(){tt=Math.min(window.innerWidth,window.innerHeight),B.width=tt,B.height=tt,et=new h(tt/J.x,tt/J.y),console.log("Resizing to ".concat(tt,"px."))}));var nt,it,rt,ot,at=new Array,st=new Array,ut=new i(5,5),lt=new i(5,7.5),ht=new i(5,10),ct=0;function ft(t){return function e(n){var i=n-ct;ct=n,function(t,e){for(var n=0;n<st.length;n++)st[n].update(t,e)}(i/1e3,t),function(t){$.clearRect(0,0,tt,tt),function(t,e,n){t.beginPath(),t.lineTo(n.translateValueX(0),n.translateValueY(100)),t.strokeStyle="#ffffff",t.fillStyle="#ffffff";for(var i=1;i<e.points.length;i++){var r=n.translate(e.points[i]);t.lineTo(r.x,r.y)}t.lineTo(n.translateValueX(100),n.translateValueY(100)),t.fill()}($,t.terrain,et);for(var e=0;e<at.length;e++)at[e].draw($,t,et);!function(t,e){var n=et.translateValueX(2);t.font="".concat(n,"px Arial");var i=e.lander.fuel;t.fillStyle=i>0?"#00ff00":"#ffffff";var r=et.translate(ut);t.fillText("Fuel: ".concat(i.toFixed(2),"L"),r.x,r.y);var o=e.lander.rotation;t.fillStyle=o<5||o>355?"#00ff00":"#ffffff";var a=et.translate(lt);t.fillText("Angle: ".concat(o.toFixed(2),"Â°"),a.x,a.y);var s=e.lander.velocity.magnitude();t.fillStyle=s<2?"#00ff00":"#ffffff";var u=et.translate(ht);t.fillText("Velocity: ".concat(s.toFixed(2)," m/s"),u.x,u.y),t.fillStyle="#ffffff"}($,t)}(t),requestAnimationFrame(e)}}!function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=new S(new i(J.x/2,0),Q,new i(10,10));t.lander=n,at.push(n),st.push(n);for(var r=new Y(5,15,new i(0,70),new i(100,70)),o=[],a=3-e,s=10,u=90,l=(u-s)/a,h=0;h<a;h++)o.push(r.insertSafeZone(s+l*h,s+l*(h+1),10*a));t.terrain=r,t.safeZones=o,requestAnimationFrame(ft(t))}((ot={terrain:void 0,lander:void 0,safeZones:void 0,commands:void 0,keys:void 0,config:{fuelConsumption:20,thrustCoefficient:10,theta:90,gravity:new i(0,1)},sounds:{mainThruster:new W("assets/mainthruster.wav",4),subThruster:new W("assets/subthruster.wav",4),explosion:new W("assets/explosion.wav"),landing:new W("assets/landing.wav"),noFuel:new W("assets/nofuel.wav",1)}},ot.commands=((nt=new X).createCommand("enableThrust",(function(t){t.lander.thrusting=!0,t.lander.fuel>0?t.sounds.mainThruster.play():t.sounds.noFuel.play()})),nt.createCommand("disableThrust",(function(t){t.lander.thrusting=!1,t.sounds.mainThruster.stop(),t.sounds.noFuel.stop()})),nt.createCommand("fuelExpired",(function(t){t.sounds.mainThruster.playing&&(t.sounds.mainThruster.stop(),t.sounds.noFuel.play()),t.sounds.subThruster.playing&&(t.sounds.subThruster.stop(),t.sounds.noFuel.play())})),nt.createCommand("beginTurnLeft",(function(t){t.lander.turningLeft=!0,t.lander.fuel>0?t.sounds.subThruster.play():t.sounds.noFuel.play()})),nt.createCommand("endTurnLeft",(function(t){t.sounds.subThruster.stop(),t.sounds.noFuel.stop(),t.lander.turningLeft=!1})),nt.createCommand("beginTurnRight",(function(t){t.lander.fuel>0?t.sounds.subThruster.play():t.sounds.noFuel.play(),t.lander.turningRight=!0})),nt.createCommand("endTurnRight",(function(t){t.sounds.subThruster.stop(),t.sounds.noFuel.stop(),t.lander.turningRight=!1})),nt.createCommand("safeLanding",(function(t){t.sounds.landing.play(),t.lander.freeze()})),nt.createCommand("crashLanding",(function(t){t.sounds.explosion.play(),t.lander.crashed=!0,t.lander.freeze()})),nt),ot.keys=(it=ot,(rt=new F).registerHandler(" "),rt.registerHandler("q"),rt.registerHandler("e"),rt.bindDown(" ",(function(){return it.commands.execute("enableThrust",it)})),rt.bindUp(" ",(function(){return it.commands.execute("disableThrust",it)})),rt.bindDown("q",(function(){return it.commands.execute("beginTurnLeft",it)})),rt.bindUp("q",(function(){return it.commands.execute("endTurnLeft",it)})),rt.bindDown("e",(function(){return it.commands.execute("beginTurnRight",it)})),rt.bindUp("e",(function(){return it.commands.execute("endTurnRight",it)})),rt),ot))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sdW5hcmxhbmRlci8uL3NyYy92ZWN0b3IyLnRzIiwid2VicGFjazovL2x1bmFybGFuZGVyLy4vc3JjL3RleHR1cmUudHMiLCJ3ZWJwYWNrOi8vbHVuYXJsYW5kZXIvLi9zcmMvY29vcmRpbmF0ZS50cyIsIndlYnBhY2s6Ly9sdW5hcmxhbmRlci8uL3NyYy9wYXJ0aWNsZS50cyIsIndlYnBhY2s6Ly9sdW5hcmxhbmRlci8uL3NyYy9jb2xsaXNpb24udHMiLCJ3ZWJwYWNrOi8vbHVuYXJsYW5kZXIvLi9zcmMvcmFuZG9tLnRzIiwid2VicGFjazovL2x1bmFybGFuZGVyLy4vc3JjL2NpcmNsZS50cyIsIndlYnBhY2s6Ly9sdW5hcmxhbmRlci8uL3NyYy9sYW5kZXIudHMiLCJ3ZWJwYWNrOi8vbHVuYXJsYW5kZXIvLi9zcmMva2V5LnRzIiwid2VicGFjazovL2x1bmFybGFuZGVyLy4vc3JjL2NvbW1hbmQudHMiLCJ3ZWJwYWNrOi8vbHVuYXJsYW5kZXIvLi9zcmMvdGVycmFpbi50cyIsIndlYnBhY2s6Ly9sdW5hcmxhbmRlci8uL3NyYy9zb3VuZC50cyIsIndlYnBhY2s6Ly9sdW5hcmxhbmRlci8uL3NyYy9nYW1lLnRzIiwid2VicGFjazovL2x1bmFybGFuZGVyLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbIlZlY3RvcjIiLCJ4IiwieSIsInRoaXMiLCJfeCIsIl95IiwiTWF0aCIsInJhbmRvbSIsIm5vcm1hbGl6ZSIsInBvczEiLCJwb3MyIiwic3FydCIsInBvdyIsIm1hZ25pdHVkZSIsInNjYWxhciIsIm90aGVyIiwiZGVncmVlcyIsInJhZCIsIlBJIiwiY29zIiwic2luIiwiZHJhd1RleHR1cmUiLCJjb250ZXh0IiwidGV4dHVyZSIsInBvc2l0aW9uIiwic2l6ZSIsInJvdGF0aW9uIiwicmVhZHkiLCJzYXZlIiwidHJhbnNsYXRlIiwicm90YXRlIiwiZHJhd0ltYWdlIiwicmVzdG9yZSIsIlRleHR1cmUiLCJlbCIsIkltYWdlIiwic3JjIiwiYWRkRXZlbnRMaXN0ZW5lciIsIlZpcnR1YWxDb29yZGluYXRlU3lzdGVtIiwic2NhbGVYIiwic2NhbGVZIiwidjEiLCJwIiwiUGFydGljbGVDb250YWluZXIiLCJwYXJ0aWNsZXMiLCJkZWx0YSIsInN0YXRlIiwiZmlsdGVyIiwidXBkYXRlIiwicmVtYWluaW5nVGltZSIsInBhcnRpY2xlIiwicHVzaCIsIlBhcnRpY2xlRW1pdHRlciIsImdlbmVyYXRvciIsInByZWRpY2F0ZSIsInJhdGUiLCJjb3VudCIsIl9jb250YWluZXIiLCJfcGFydGljbGVHZW5lcmF0b3IiLCJfcHJlZGljYXRlIiwiX2NvdW50IiwiX3JhdGUiLCJjb29yZGluYXRlcyIsImZvckVhY2giLCJkcmF3IiwiX2VsYXBzZWQiLCJpIiwiYWRkIiwiUGFydGljbGVFZmZlY3QiLCJ2ZWxvY2l0eSIsImxpZmV0aW1lIiwiY2VudGVyIiwiX2NlbnRlciIsIl92ZWxvY2l0eSIsIl9saWZldGltZSIsIl9yb3RhdGlvbiIsIl90ZXh0dXJlIiwiX3NpemUiLCJfZWxhcHNlZExpZmV0aW1lIiwiZ2xvYmFsQWxwaGEiLCJfZGlyZWN0aW9uIiwiXyIsInNjYWxlIiwiaXNDb2xsaWRpbmciLCJjaXJjbGUiLCJwdDEiLCJwdDIiLCJ2MiIsImIiLCJjIiwiZCIsInJhZGl1cyIsImlzTmFOIiwidTEiLCJ1MiIsInJhbmQiLCJDaXJjbGUiLCJfcmFkaXVzIiwiVGhydXN0R2VuZXJhdG9yIiwicm90YXRpb25PZmZzZXQiLCJfcm90YXRpb25PZmZzZXQiLCJ0ZXgiLCJ2IiwibGFuZGVyIiwicm90YXRpb25WZWN0b3IiLCJnYXVzc2lhbiIsIkV4cGxvc2lvbkdlbmVyYXRvciIsIkxhbmRlciIsImZyb3plbiIsIl9wb3NpdGlvbiIsIl9yb3RhdGlvblZlY3RvciIsInRocnVzdEVtaXR0ZXIiLCJ0aHJ1c3RpbmciLCJmdWVsIiwibGVmdFJvdGF0aW9uRW1pdHRlciIsInR1cm5pbmdMZWZ0IiwicmlnaHRSb3RhdGlvbkVtaXR0ZXIiLCJ0dXJuaW5nUmlnaHQiLCJleHBsb3Npb25FbWl0dGVyIiwiX2lzRXhwbG9kaW5nIiwicG9zaXRpb25FbWl0dGVycyIsImNyYXNoZWQiLCJiZWdpblBhdGgiLCJzdHJva2VTdHlsZSIsImNpcmNsZXBvcyIsImFyYyIsInN0cm9rZSIsImFkalBvcyIsImFkalZlYyIsImxpbmVUbyIsInNxck1hZ25pdHVkZSIsIl9leHBsb3Npb25Db3VudCIsImNvbmZpZyIsImdyYXZpdHkiLCJ0aHJ1c3RDb2VmZmljaWVudCIsImZ1ZWxDb25zdW1wdGlvbiIsImNvbW1hbmRzIiwiZXhlY3V0ZSIsInRlcnJhaW4iLCJwb2ludHMiLCJsZW5ndGgiLCJqIiwic2FmZVpvbmVzIiwiZGlyZWN0aW9uIiwidGhldGEiLCJLZXlIYW5kbGVyIiwiRGF0ZSIsIm5vdyIsIlNldCIsInByZXNzZWQiLCJtb2RpZmllcnMiLCJfd2FzUHJlc3NlZCIsInNldCIsIl9vbktleURvd24iLCJfb25LZXlVcCIsInJlcyIsIl9sYXN0UHJlc3NlZCIsIl9vblN0YXRlQ2hhbmdlZCIsImFjdGlvbiIsIktleU1hbmFnZXIiLCJ3aW5kb3ciLCJ1cGRhdGVEb3duIiwiYmluZCIsInVwZGF0ZVVwIiwiaGFuZGxlcnMiLCJNYXAiLCJrZXlDb2RlIiwiZGVzY3JpcHRpb24iLCJoYXMiLCJjb25zb2xlIiwid2FybiIsImRlc2NyaXB0aW9ucyIsInVwZGF0ZUZuIiwiZ2V0IiwiYWRkVXAiLCJhZGREb3duIiwiYWRkQ2hhbmdlZCIsImV2ZW50Iiwia2V5IiwicHJldmVudERlZmF1bHQiLCJhbHQiLCJhbHRLZXkiLCJzaGlmdCIsInNoaWZ0S2V5IiwiY3RybCIsImN0cmxLZXkiLCJrZXljb2RlIiwiQ29tbWFuZCIsIm5hbWUiLCJfbmFtZSIsIl9hY3Rpb24iLCJDb21tYW5kU2VydmljZSIsImludm9rZSIsIlRlcnJhaW4iLCJpdGVyYXRpb25zIiwicm91Z2huZXNzIiwicDEiLCJwMiIsInNhdmVkTGVuZ3RoIiwibWlkIiwic3BsaWNlIiwibWluWCIsIm1heFgiLCJ3aWR0aCIsInRhcmdldFhNaW4iLCJvZmZzZXQiLCJwb2ludCIsInNhdmVkIiwiU291bmRFZmZlY3QiLCJzb3VyY2UiLCJjdXRvZmYiLCJBdWRpbyIsImxvb3AiLCJwbGF5IiwiX3BsYXlpbmciLCJzZXRUaW1lb3V0IiwiY3VycmVudFRpbWUiLCJwbGF5UmVjIiwiZHVyYXRpb24iLCJwYXVzZSIsImNhbnZhcyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRDb250ZXh0Iiwid29ybGRTaXplIiwibGFuZGVyVGV4dHVyZSIsIm1heENvb3JkIiwibWluIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiaGVpZ2h0IiwidmNzIiwibG9nIiwia2V5cyIsImdsb2JhbFN0YXRlIiwiZHJhd2FibGVzIiwiQXJyYXkiLCJ0aWNraW5nIiwiZnVlbFBvc2l0aW9uIiwiYW5nbGVQb3NpdGlvbiIsInZlbG9jaXR5UG9zaXRpb24iLCJsYXN0VGltZSIsImZuIiwiY2xlYXJSZWN0IiwiY3R4IiwidHJhbnNsYXRlVmFsdWVYIiwidHJhbnNsYXRlVmFsdWVZIiwiZmlsbFN0eWxlIiwicHQiLCJmaWxsIiwiZHJhd1RlcnJhaW4iLCJmb250U2l6ZSIsImZvbnQiLCJhZGp1c3RlZEZ1ZWxQb3NpdGlvbiIsImZpbGxUZXh0IiwidG9GaXhlZCIsImFuZ2xlIiwiYWRqdXN0ZWRBbmdsZVBvc2l0aW9uIiwibWFnbiIsImFkanVzdGVkVmVsb2NpdHlQb3NpdGlvbiIsImRyYXdUZXh0IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZGlmZmljdWx0eSIsIm1heCIsInZhbGlkUG9ydGlvbnMiLCJpbnNlcnRTYWZlWm9uZSIsInN0YXJ0IiwidW5kZWZpbmVkIiwic291bmRzIiwibWFpblRocnVzdGVyIiwic3ViVGhydXN0ZXIiLCJleHBsb3Npb24iLCJsYW5kaW5nIiwibm9GdWVsIiwiY3JlYXRlQ29tbWFuZCIsInN0b3AiLCJwbGF5aW5nIiwiZnJlZXplIiwicmVnaXN0ZXJIYW5kbGVyIiwiYmluZERvd24iLCJiaW5kVXAiXSwibWFwcGluZ3Mi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QmlILEVBQVluSSxPQUFPOEssWUFHZDdJLElBd0NQa0csR0FBWUQsTUFyQ00zTCxHQXFDVzRMLElBbkN2QkQsR0FBTyxJQUFJMUUsR0FDWnVILGdCQUFnQixLQUNyQjdDLEdBQUs2QyxnQkFBZ0IsS0FDckI3QyxHQUFLNkMsZ0JBQWdCLEtBQ3JCN0MsR0FBSzhDLFNBQVMsS0FBSyxrQkFBTXpPLEdBQU0wRixTQUFTQyxRQUFRLGVBQWdCM0YsT0FDaEUyTCxHQUFLK0MsT0FBTyxLQUFLLGtCQUFNMU8sR0FBTTBGLFNBQVNDLFFBQVEsZ0JBQWlCM0YsT0FDL0QyTCxHQUFLOEMsU0FBUyxLQUFLLGtCQUFNek8sR0FBTTBGLFNBQVNDLFFBQVEsZ0JBQWlCM0YsT0FDakUyTCxHQUFLK0MsT0FBTyxLQUFLLGtCQUFNMU8sR0FBTTBGLFNBQVNDLFFBQVEsY0FBZTNGLE9BQzdEMkwsR0FBSzhDLFNBQVMsS0FBSyxrQkFBTXpPLEdBQU0wRixTQUFTQyxRQUFRLGlCQUFrQjNGLE9BQ2xFMkwsR0FBSytDLE9BQU8sS0FBSyxrQkFBTTFPLEdBQU0wRixTQUFTQyxRQUFRLGVBQWdCM0YsT0FDdkQyTCxJQTBCQUMsTSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVmVjdG9yMiB7XG4gIHN0YXRpYyBaRVJPOiBWZWN0b3IyID0gbmV3IFZlY3RvcjIoMCwgMCk7XG5cbiAgcHJpdmF0ZSBfeDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBfeTogbnVtYmVyID0gMDtcblxuICBzdGF0aWMgcmFuZG9tKCk6IFZlY3RvcjIge1xuICAgIHJldHVybiBuZXcgVmVjdG9yMihNYXRoLnJhbmRvbSgpLCBNYXRoLnJhbmRvbSgpKS5ub3JtYWxpemUoKTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgdGhpcy5feCA9IHg7XG4gICAgdGhpcy5feSA9IHk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGRpc3RhbmNlKHBvczE6IFZlY3RvcjIsIHBvczI6IFZlY3RvcjIpIHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KFxuICAgICAgTWF0aC5wb3cocG9zMS54IC0gcG9zMi54LCAyKSArIE1hdGgucG93KHBvczEueSAtIHBvczIueSwgMilcbiAgICApO1xuICB9XG5cbiAgZ2V0IHgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5feDtcbiAgfVxuXG4gIGdldCB5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX3k7XG4gIH1cblxuICBzcXJNYWduaXR1ZGUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTWF0aC5wb3codGhpcy54LCAyKSArIE1hdGgucG93KHRoaXMueSwgMik7XG4gIH1cblxuICBtYWduaXR1ZGUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KHRoaXMueCwgMikgKyBNYXRoLnBvdyh0aGlzLnksIDIpKTtcbiAgfVxuXG4gIG5vcm1hbGl6ZSgpOiBWZWN0b3IyIHtcbiAgICBjb25zdCBtYWduaXR1ZGUgPSB0aGlzLm1hZ25pdHVkZSgpO1xuICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLnggLyBtYWduaXR1ZGUsIHRoaXMueSAvIG1hZ25pdHVkZSk7XG4gIH1cblxuICBzY2FsZShzY2FsYXI6IG51bWJlcik6IFZlY3RvcjIge1xuICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLnggKiBzY2FsYXIsIHRoaXMueSAqIHNjYWxhcik7XG4gIH1cblxuICBhZGQob3RoZXI6IFZlY3RvcjIpOiBWZWN0b3IyIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjIodGhpcy54ICsgb3RoZXIueCwgdGhpcy55ICsgb3RoZXIueSk7XG4gIH1cblxuICByb3RhdGUoZGVncmVlczogbnVtYmVyKTogVmVjdG9yMiB7XG4gICAgY29uc3QgcmFkID0gKGRlZ3JlZXMgKiBNYXRoLlBJKSAvIDE4MDtcbiAgICBsZXQgdmFsID0gbmV3IFZlY3RvcjIoXG4gICAgICB0aGlzLnggKiBNYXRoLmNvcyhyYWQpIC0gTWF0aC5zaW4ocmFkKSAqIHRoaXMueSxcbiAgICAgIHRoaXMueCAqIE1hdGguc2luKHJhZCkgKyB0aGlzLnkgKiBNYXRoLmNvcyhyYWQpXG4gICAgKTtcbiAgICByZXR1cm4gdmFsO1xuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYFZlY3RvcjIoeDogJHt0aGlzLnh9LCB5OiAke3RoaXMueX0pYDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWZWN0b3IyO1xuIiwiaW1wb3J0IFZlY3RvcjIgZnJvbSBcIi4vdmVjdG9yMlwiO1xuXG5leHBvcnQgZnVuY3Rpb24gZHJhd1RleHR1cmUoXG4gIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgdGV4dHVyZTogVGV4dHVyZSxcbiAgcG9zaXRpb246IFZlY3RvcjIsXG4gIHNpemU6IFZlY3RvcjIsXG4gIHJvdGF0aW9uOiBudW1iZXIgPSAwXG4pIHtcbiAgaWYgKCF0ZXh0dXJlLnJlYWR5KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnRleHQuc2F2ZSgpO1xuICBjb250ZXh0LnRyYW5zbGF0ZShwb3NpdGlvbi54LCBwb3NpdGlvbi55KTtcbiAgY29udGV4dC5yb3RhdGUoKHJvdGF0aW9uICogTWF0aC5QSSkgLyAxODApO1xuICBjb250ZXh0LnRyYW5zbGF0ZSgtcG9zaXRpb24ueCwgLXBvc2l0aW9uLnkpO1xuICBjb250ZXh0LmRyYXdJbWFnZShcbiAgICB0ZXh0dXJlLnRleHR1cmUsXG4gICAgcG9zaXRpb24ueCAtIHNpemUueCAvIDIsXG4gICAgcG9zaXRpb24ueSAtIHNpemUueSAvIDIsXG4gICAgc2l6ZS54LFxuICAgIHNpemUueVxuICApO1xuICBjb250ZXh0LnJlc3RvcmUoKTtcbn1cblxuZXhwb3J0IGNsYXNzIFRleHR1cmUge1xuICBzaXplOiBWZWN0b3IyO1xuICBlbDogSFRNTEltYWdlRWxlbWVudDtcbiAgcmVhZHk6IGJvb2xlYW4gPSBmYWxzZTtcbiAgY29uc3RydWN0b3IodGV4dHVyZTogc3RyaW5nLCBzaXplOiBWZWN0b3IyKSB7XG4gICAgdGhpcy5lbCA9IG5ldyBJbWFnZSgpO1xuICAgIHRoaXMuZWwuc3JjID0gdGV4dHVyZTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgICAgIHRoaXMucmVhZHkgPSB0cnVlO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0IHRleHR1cmUoKTogQ2FudmFzSW1hZ2VTb3VyY2Uge1xuICAgIHJldHVybiB0aGlzLmVsO1xuICB9XG59XG5gYDtcbiIsImltcG9ydCBWZWN0b3IyIGZyb20gXCIuL3ZlY3RvcjJcIjtcblxuZXhwb3J0IGNsYXNzIFZpcnR1YWxDb29yZGluYXRlU3lzdGVtIHtcbiAgcHJpdmF0ZSBzY2FsZVg6IG51bWJlcjtcbiAgcHJpdmF0ZSBzY2FsZVk6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihzY2FsZVg6IG51bWJlciwgc2NhbGVZOiBudW1iZXIpIHtcbiAgICB0aGlzLnNjYWxlWCA9IHNjYWxlWDtcbiAgICB0aGlzLnNjYWxlWSA9IHNjYWxlWTtcbiAgfVxuXG4gIHRyYW5zbGF0ZSh2MTogVmVjdG9yMik6IFZlY3RvcjIge1xuICAgIHJldHVybiBuZXcgVmVjdG9yMih2MS54ICogdGhpcy5zY2FsZVgsIHYxLnkgKiB0aGlzLnNjYWxlWSk7XG4gIH1cblxuICB0cmFuc2xhdGVWYWx1ZVgocDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gcCAqIHRoaXMuc2NhbGVYO1xuICB9XG5cbiAgdHJhbnNsYXRlVmFsdWVZKHA6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIHAgKiB0aGlzLnNjYWxlWTtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvb3JkaW5hdGVUcmFuc2xhdGFibGUge1xuICB0cmFuc2xhdGUodjE6IFZlY3RvcjIpOiBWZWN0b3IyO1xuICB0cmFuc2xhdGVWYWx1ZVgocDogbnVtYmVyKTogbnVtYmVyO1xuICB0cmFuc2xhdGVWYWx1ZVkocDogbnVtYmVyKTogbnVtYmVyO1xufVxuIiwiaW1wb3J0IFRpY2tpbmcgZnJvbSBcIi4vdGlja2luZ1wiO1xuaW1wb3J0IFZlY3RvcjIgZnJvbSBcIi4vdmVjdG9yMlwiO1xuaW1wb3J0IERyYXdhYmxlIGZyb20gXCIuL2RyYXdhYmxlXCI7XG5pbXBvcnQgeyBQcmVkaWNhdGUgfSBmcm9tIFwiLi9mdW5jdGlvbmFsXCI7XG5pbXBvcnQgeyBkcmF3VGV4dHVyZSwgVGV4dHVyZSB9IGZyb20gXCIuL3RleHR1cmVcIjtcbmltcG9ydCB7IENvb3JkaW5hdGVUcmFuc2xhdGFibGUgfSBmcm9tIFwiLi9jb29yZGluYXRlXCI7XG5cbmV4cG9ydCBjbGFzcyBQYXJ0aWNsZUNvbnRhaW5lcjxUPiBpbXBsZW1lbnRzIFRpY2tpbmc8VD4ge1xuICBwYXJ0aWNsZXM6IEFycmF5PFBhcnRpY2xlRWZmZWN0PFQ+PjtcbiAgdXBkYXRlKGRlbHRhOiBudW1iZXIsIHN0YXRlOiBUKSB7XG4gICAgLy8gVE9ETzogQ2hlY2sgb24gdGhlIGVmZmljaWVuY3kgb2YgdGhpcy5cbiAgICB0aGlzLnBhcnRpY2xlcyA9IHRoaXMucGFydGljbGVzLmZpbHRlcigocCkgPT4ge1xuICAgICAgcC51cGRhdGUoZGVsdGEsIHN0YXRlKTtcbiAgICAgIHJldHVybiBwLnJlbWFpbmluZ1RpbWUgPiAwO1xuICAgIH0pO1xuICB9XG4gIGFkZChwYXJ0aWNsZTogUGFydGljbGVFZmZlY3Q8VD4pIHtcbiAgICB0aGlzLnBhcnRpY2xlcy5wdXNoKHBhcnRpY2xlKTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucGFydGljbGVzID0gW107XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBhcnRpY2xlRW1pdHRlcjxUPiBpbXBsZW1lbnRzIFRpY2tpbmc8VD4sIERyYXdhYmxlPFQ+IHtcbiAgcG9zaXRpb246IFZlY3RvcjI7XG4gIHByaXZhdGUgX3JhdGU6IG51bWJlciA9IDAuMTtcbiAgcHJpdmF0ZSBfZWxhcHNlZDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBfY291bnQ6IG51bWJlciA9IDEwO1xuICBwcml2YXRlIF9jb250YWluZXI6IFBhcnRpY2xlQ29udGFpbmVyPFQ+O1xuICBwcml2YXRlIF9wYXJ0aWNsZUdlbmVyYXRvcjogUGFydGljbGVHZW5lcmF0b3I8VD47XG4gIHByaXZhdGUgX3ByZWRpY2F0ZTogUHJlZGljYXRlPFQ+O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGdlbmVyYXRvcjogUGFydGljbGVHZW5lcmF0b3I8VD4sXG4gICAgcHJlZGljYXRlOiBQcmVkaWNhdGU8VD4sXG4gICAgcmF0ZTogbnVtYmVyID0gMC4xLFxuICAgIGNvdW50OiBudW1iZXIgPSAxMFxuICApIHtcbiAgICB0aGlzLl9jb250YWluZXIgPSBuZXcgUGFydGljbGVDb250YWluZXI8VD4oKTtcbiAgICB0aGlzLl9wYXJ0aWNsZUdlbmVyYXRvciA9IGdlbmVyYXRvcjtcbiAgICB0aGlzLl9wcmVkaWNhdGUgPSBwcmVkaWNhdGU7XG4gICAgdGhpcy5fY291bnQgPSBjb3VudDtcbiAgICB0aGlzLl9yYXRlID0gcmF0ZTtcbiAgfVxuICBkcmF3KFxuICAgIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgICBzdGF0ZTogVCxcbiAgICBjb29yZGluYXRlcz86IENvb3JkaW5hdGVUcmFuc2xhdGFibGVcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5fY29udGFpbmVyLnBhcnRpY2xlcy5mb3JFYWNoKChwKSA9PiB7XG4gICAgICBwLmRyYXcoY29udGV4dCwgc3RhdGUsIGNvb3JkaW5hdGVzKTtcbiAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZShkZWx0YTogbnVtYmVyLCBzdGF0ZTogVCkge1xuICAgIGlmICh0aGlzLl9wcmVkaWNhdGUoc3RhdGUpKSB7XG4gICAgICB0aGlzLl9lbGFwc2VkICs9IGRlbHRhO1xuICAgICAgaWYgKHRoaXMuX2VsYXBzZWQgPiB0aGlzLl9yYXRlKSB7XG4gICAgICAgIHRoaXMuX2VsYXBzZWQgLT0gdGhpcy5fcmF0ZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9jb3VudDsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5fY29udGFpbmVyLmFkZChcbiAgICAgICAgICAgIG5ldyBQYXJ0aWNsZUVmZmVjdDxUPihcbiAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvbixcbiAgICAgICAgICAgICAgdGhpcy5fcGFydGljbGVHZW5lcmF0b3IudmVsb2NpdHkoc3RhdGUpLFxuICAgICAgICAgICAgICB0aGlzLl9wYXJ0aWNsZUdlbmVyYXRvci5saWZldGltZShzdGF0ZSksXG4gICAgICAgICAgICAgIHRoaXMuX3BhcnRpY2xlR2VuZXJhdG9yLnJvdGF0aW9uKHN0YXRlKSxcbiAgICAgICAgICAgICAgdGhpcy5fcGFydGljbGVHZW5lcmF0b3IudGV4dHVyZShzdGF0ZSksXG4gICAgICAgICAgICAgIHRoaXMuX3BhcnRpY2xlR2VuZXJhdG9yLnNpemUoc3RhdGUpXG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl9jb250YWluZXIudXBkYXRlKGRlbHRhLCBzdGF0ZSk7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXJ0aWNsZUdlbmVyYXRvcjxUPiB7XG4gIHRleHR1cmUoc3RhdGU6IFQpOiBUZXh0dXJlO1xuICBzaXplKHN0YXRlOiBUKTogVmVjdG9yMjtcbiAgdmVsb2NpdHkoc3RhdGU6IFQpOiBWZWN0b3IyO1xuICBsaWZldGltZShzdGF0ZTogVCk6IG51bWJlcjtcbiAgcm90YXRpb24oc3RhdGU6IFQpOiBudW1iZXI7XG59XG5cbmV4cG9ydCBjbGFzcyBQYXJ0aWNsZUVmZmVjdDxUPiBpbXBsZW1lbnRzIERyYXdhYmxlPFQ+LCBUaWNraW5nPFQ+IHtcbiAgcHJpdmF0ZSBfY2VudGVyOiBWZWN0b3IyO1xuICBwcml2YXRlIF9kaXJlY3Rpb246IFZlY3RvcjI7XG4gIHByaXZhdGUgX3ZlbG9jaXR5OiBWZWN0b3IyO1xuICBwcml2YXRlIF9saWZldGltZTogbnVtYmVyO1xuICBwcml2YXRlIF9yb3RhdGlvbjogbnVtYmVyO1xuICBwcml2YXRlIF9lbGFwc2VkTGlmZXRpbWU6IG51bWJlcjtcbiAgcHJpdmF0ZSBfdGV4dHVyZTogVGV4dHVyZTtcbiAgcHJpdmF0ZSBfc2l6ZTogVmVjdG9yMjtcbiAgY29uc3RydWN0b3IoXG4gICAgY2VudGVyOiBWZWN0b3IyLFxuICAgIHZlbG9jaXR5OiBWZWN0b3IyLFxuICAgIGxpZmV0aW1lOiBudW1iZXIsXG4gICAgcm90YXRpb246IG51bWJlcixcbiAgICB0ZXh0dXJlOiBUZXh0dXJlLFxuICAgIHNpemU6IFZlY3RvcjJcbiAgKSB7XG4gICAgdGhpcy5fY2VudGVyID0gY2VudGVyO1xuICAgIHRoaXMuX3ZlbG9jaXR5ID0gdmVsb2NpdHk7XG4gICAgdGhpcy5fbGlmZXRpbWUgPSBsaWZldGltZTtcbiAgICB0aGlzLl9yb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgIHRoaXMuX3RleHR1cmUgPSB0ZXh0dXJlO1xuICAgIHRoaXMuX3NpemUgPSBzaXplO1xuICAgIHRoaXMuX2VsYXBzZWRMaWZldGltZSA9IDA7XG4gIH1cblxuICBkcmF3KFxuICAgIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgICBzdGF0ZTogVCxcbiAgICBjb29yZGluYXRlczogQ29vcmRpbmF0ZVRyYW5zbGF0YWJsZVxuICApIHtcbiAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gMSAtIHRoaXMuX2VsYXBzZWRMaWZldGltZSAvIHRoaXMuX2xpZmV0aW1lO1xuICAgIGRyYXdUZXh0dXJlKFxuICAgICAgY29udGV4dCxcbiAgICAgIHRoaXMuX3RleHR1cmUsXG4gICAgICBjb29yZGluYXRlcy50cmFuc2xhdGUodGhpcy5fY2VudGVyKSxcbiAgICAgIGNvb3JkaW5hdGVzLnRyYW5zbGF0ZSh0aGlzLl9zaXplKSxcbiAgICAgIHRoaXMuX3JvdGF0aW9uXG4gICAgKTtcbiAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gMTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgdmVsb2NpdHkoKTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIHRoaXMuX3ZlbG9jaXR5O1xuICB9XG5cbiAgcHVibGljIGdldCBkaXJlY3Rpb24oKTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIHRoaXMuX2RpcmVjdGlvbjtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgY2VudGVyKCk6IFZlY3RvcjIge1xuICAgIHJldHVybiB0aGlzLl9jZW50ZXI7XG4gIH1cblxuICBwdWJsaWMgZ2V0IHJlbWFpbmluZ1RpbWUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fbGlmZXRpbWUgLSB0aGlzLl9lbGFwc2VkTGlmZXRpbWU7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlKGRlbHRhOiBudW1iZXIsIF86IFQpIHtcbiAgICB0aGlzLl9lbGFwc2VkTGlmZXRpbWUgKz0gZGVsdGE7XG4gICAgdGhpcy5fY2VudGVyID0gdGhpcy5fY2VudGVyLmFkZCh0aGlzLl92ZWxvY2l0eS5zY2FsZShkZWx0YSkpO1xuICB9XG59XG4iLCJpbXBvcnQgVmVjdG9yMiBmcm9tIFwiLi92ZWN0b3IyXCI7XG5pbXBvcnQgQ2lyY2xlIGZyb20gXCIuL2NpcmNsZVwiO1xuXG4vKipcbiAqIExpbmUtQ2lyY2xlIEludGVyc2VjdGlvblxuICogQHNvdXJjZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNzIyNDkxMi9jaXJjbGUtbGluZS1zZWdtZW50LWNvbGxpc2lvblxuICpcbiAqIEBwYXJhbSBjaXJjbGUgVGhlIGNpcmNsZSB0byB0ZXN0IGZvciBpbnRlcnNlY3Rpb24uXG4gKiBAcGFyYW0gcHQxIFRoZSBmaXJzdCBwb2ludCBvZiB0aGUgbGluZS5cbiAqIEBwYXJhbSBwdDIgVGhlIHNlY29uZCBwb2ludCBvZiB0aGUgbGluZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQ29sbGlkaW5nKFxuICBjaXJjbGU6IENpcmNsZSxcbiAgcHQxOiBWZWN0b3IyLFxuICBwdDI6IFZlY3RvcjJcbik6IGJvb2xlYW4ge1xuICBsZXQgdjEgPSBuZXcgVmVjdG9yMihwdDIueCAtIHB0MS54LCBwdDIueSAtIHB0MS55KTtcbiAgbGV0IHYyID0gbmV3IFZlY3RvcjIocHQxLnggLSBjaXJjbGUuY2VudGVyLngsIHB0MS55IC0gY2lyY2xlLmNlbnRlci55KTtcbiAgbGV0IGIgPSAtMiAqICh2MS54ICogdjIueCArIHYxLnkgKiB2Mi55KTtcbiAgbGV0IGMgPSAyICogKHYxLnggKiB2MS54ICsgdjEueSAqIHYxLnkpO1xuICBsZXQgZCA9IE1hdGguc3FydChcbiAgICBiICogYiAtIDIgKiBjICogKHYyLnggKiB2Mi54ICsgdjIueSAqIHYyLnkgLSBjaXJjbGUucmFkaXVzICogY2lyY2xlLnJhZGl1cylcbiAgKTtcbiAgaWYgKGlzTmFOKGQpKSB7XG4gICAgLy8gbm8gaW50ZXJjZXB0XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIFRoZXNlIHJlcHJlc2VudCB0aGUgdW5pdCBkaXN0YW5jZSBvZiBwb2ludCBvbmUgYW5kIHR3byBvbiB0aGUgbGluZVxuICBsZXQgdTEgPSAoYiAtIGQpIC8gYztcbiAgbGV0IHUyID0gKGIgKyBkKSAvIGM7XG4gIGlmICh1MSA8PSAxICYmIHUxID49IDApIHtcbiAgICAvLyBJZiBwb2ludCBvbiB0aGUgbGluZSBzZWdtZW50XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHUyIDw9IDEgJiYgdTIgPj0gMCkge1xuICAgIC8vIElmIHBvaW50IG9uIHRoZSBsaW5lIHNlZ21lbnRcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG4iLCJjbGFzcyBSYW5kb20ge1xuICBnYXVzc2lhbihjb3VudDogbnVtYmVyID0gNikge1xuICAgIGxldCByYW5kID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgcmFuZCArPSBNYXRoLnJhbmRvbSgpO1xuICAgIH1cblxuICAgIHJldHVybiByYW5kIC8gY291bnQ7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHJhbmRvbSA9IG5ldyBSYW5kb20oKTtcbiIsImltcG9ydCBWZWN0b3IyIGZyb20gXCIuL3ZlY3RvcjJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2lyY2xlIHtcbiAgcHJpdmF0ZSBfY2VudGVyOiBWZWN0b3IyO1xuICBwcml2YXRlIF9yYWRpdXM6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihjZW50ZXI6IFZlY3RvcjIsIHJhZGl1czogbnVtYmVyKSB7XG4gICAgdGhpcy5fY2VudGVyID0gY2VudGVyO1xuICAgIHRoaXMuX3JhZGl1cyA9IHJhZGl1cztcbiAgfVxuXG4gIHB1YmxpYyBnZXQgY2VudGVyKCk6IFZlY3RvcjIge1xuICAgIHJldHVybiB0aGlzLl9jZW50ZXI7XG4gIH1cblxuICBwdWJsaWMgZ2V0IHJhZGl1cygpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9yYWRpdXM7XG4gIH1cbn1cbiIsImltcG9ydCBWZWN0b3IyIGZyb20gXCIuL3ZlY3RvcjJcIjtcbmltcG9ydCBEcmF3YWJsZSBmcm9tIFwiLi9kcmF3YWJsZVwiO1xuaW1wb3J0IFRpY2tpbmcgZnJvbSBcIi4vdGlja2luZ1wiO1xuaW1wb3J0IHsgQ29vcmRpbmF0ZVRyYW5zbGF0YWJsZSB9IGZyb20gXCIuL2Nvb3JkaW5hdGVcIjtcbmltcG9ydCB7IGRyYXdUZXh0dXJlLCBUZXh0dXJlIH0gZnJvbSBcIi4vdGV4dHVyZVwiO1xuaW1wb3J0IHsgR2xvYmFsU3RhdGUgfSBmcm9tIFwiLi9zdGF0ZVwiO1xuaW1wb3J0IHsgUGFydGljbGVFbWl0dGVyLCBQYXJ0aWNsZUdlbmVyYXRvciB9IGZyb20gXCIuL3BhcnRpY2xlXCI7XG5pbXBvcnQgeyBpc0NvbGxpZGluZyB9IGZyb20gXCIuL2NvbGxpc2lvblwiO1xuaW1wb3J0IHsgcmFuZG9tIH0gZnJvbSBcIi4vcmFuZG9tXCI7XG5pbXBvcnQgQ2lyY2xlIGZyb20gXCIuL2NpcmNsZVwiO1xuXG5jbGFzcyBUaHJ1c3RHZW5lcmF0b3IgaW1wbGVtZW50cyBQYXJ0aWNsZUdlbmVyYXRvcjxHbG9iYWxTdGF0ZT4ge1xuICBwcml2YXRlIF9yb3RhdGlvbk9mZnNldDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKHJvdGF0aW9uT2Zmc2V0OiBudW1iZXIgPSAwKSB7XG4gICAgdGhpcy5fcm90YXRpb25PZmZzZXQgPSByb3RhdGlvbk9mZnNldDtcbiAgfVxuXG4gIHByaXZhdGUgdGV4OiBUZXh0dXJlID0gbmV3IFRleHR1cmUoXCJhc3NldHMvU21va2UucG5nXCIsIG5ldyBWZWN0b3IyKDMyLCAzMikpO1xuICBwcml2YXRlIF9zaXplOiBWZWN0b3IyID0gbmV3IFZlY3RvcjIoMC43NSwgMC43NSk7XG4gIHRleHR1cmUoXzogR2xvYmFsU3RhdGUpOiBUZXh0dXJlIHtcbiAgICByZXR1cm4gdGhpcy50ZXg7XG4gIH1cbiAgc2l6ZShzdGF0ZTogR2xvYmFsU3RhdGUpOiBWZWN0b3IyIHtcbiAgICByZXR1cm4gdGhpcy5fc2l6ZTtcbiAgfVxuICB2ZWxvY2l0eShzdGF0ZTogR2xvYmFsU3RhdGUpOiBWZWN0b3IyIHtcbiAgICBsZXQgdiA9IHN0YXRlLmxhbmRlci5yb3RhdGlvblZlY3RvcjtcbiAgICBsZXQgcm90YXRpb24gPSByYW5kb20uZ2F1c3NpYW4oMTIpICogMTAwIC0gNTA7XG4gICAgdiA9IHYucm90YXRlKHJvdGF0aW9uICsgdGhpcy5fcm90YXRpb25PZmZzZXQpO1xuICAgIHYgPSB2LnNjYWxlKC01ICogcmFuZG9tLmdhdXNzaWFuKDEyKSk7XG4gICAgcmV0dXJuIHY7XG4gIH1cbiAgbGlmZXRpbWUoc3RhdGU6IEdsb2JhbFN0YXRlKTogbnVtYmVyIHtcbiAgICByZXR1cm4gNSArIHJhbmRvbS5nYXVzc2lhbigxMik7XG4gIH1cbiAgcm90YXRpb24oc3RhdGU6IEdsb2JhbFN0YXRlKTogbnVtYmVyIHtcbiAgICByZXR1cm4gMDtcbiAgfVxufVxuY2xhc3MgRXhwbG9zaW9uR2VuZXJhdG9yIGltcGxlbWVudHMgUGFydGljbGVHZW5lcmF0b3I8R2xvYmFsU3RhdGU+IHtcbiAgY29uc3RydWN0b3Iocm90YXRpb25PZmZzZXQ6IG51bWJlciA9IDApIHtcbiAgICB0aGlzLl9yb3RhdGlvbk9mZnNldCA9IHJvdGF0aW9uT2Zmc2V0O1xuICB9XG5cbiAgcHJpdmF0ZSB0ZXg6IFRleHR1cmUgPSBuZXcgVGV4dHVyZShcImFzc2V0cy9GaXJlLnBuZ1wiLCBuZXcgVmVjdG9yMigzMiwgMzIpKTtcbiAgcHJpdmF0ZSBfc2l6ZTogVmVjdG9yMiA9IG5ldyBWZWN0b3IyKDEsIDEpO1xuICB0ZXh0dXJlKF86IEdsb2JhbFN0YXRlKTogVGV4dHVyZSB7XG4gICAgcmV0dXJuIHRoaXMudGV4O1xuICB9XG4gIHNpemUoc3RhdGU6IEdsb2JhbFN0YXRlKTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIHRoaXMuX3NpemU7XG4gIH1cbiAgdmVsb2NpdHkoc3RhdGU6IEdsb2JhbFN0YXRlKTogVmVjdG9yMiB7XG4gICAgbGV0IHYgPSBzdGF0ZS5sYW5kZXIucm90YXRpb25WZWN0b3I7XG4gICAgbGV0IHJvdGF0aW9uID0gTWF0aC5yYW5kb20oKSAqIDM2MDtcbiAgICB2ID0gdi5yb3RhdGUocm90YXRpb24pO1xuICAgIHYgPSB2LnNjYWxlKC0yMCAqIHJhbmRvbS5nYXVzc2lhbigxMikpO1xuICAgIHJldHVybiB2O1xuICB9XG4gIGxpZmV0aW1lKHN0YXRlOiBHbG9iYWxTdGF0ZSk6IG51bWJlciB7XG4gICAgcmV0dXJuIDUgKyByYW5kb20uZ2F1c3NpYW4oMTIpO1xuICB9XG4gIHJvdGF0aW9uKHN0YXRlOiBHbG9iYWxTdGF0ZSk6IG51bWJlciB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExhbmRlciBpbXBsZW1lbnRzIERyYXdhYmxlPEdsb2JhbFN0YXRlPiwgVGlja2luZzxHbG9iYWxTdGF0ZT4ge1xuICBwcml2YXRlIHNpemU6IFZlY3RvcjI7XG4gIHByaXZhdGUgdGV4dHVyZTogVGV4dHVyZTtcbiAgcHJpdmF0ZSBmcm96ZW46IGJvb2xlYW47XG4gIHByaXZhdGUgdGhydXN0RW1pdHRlcjogUGFydGljbGVFbWl0dGVyPEdsb2JhbFN0YXRlPjtcbiAgcHJpdmF0ZSBsZWZ0Um90YXRpb25FbWl0dGVyOiBQYXJ0aWNsZUVtaXR0ZXI8R2xvYmFsU3RhdGU+O1xuICBwcml2YXRlIHJpZ2h0Um90YXRpb25FbWl0dGVyOiBQYXJ0aWNsZUVtaXR0ZXI8R2xvYmFsU3RhdGU+O1xuICBwcml2YXRlIGV4cGxvc2lvbkVtaXR0ZXI6IFBhcnRpY2xlRW1pdHRlcjxHbG9iYWxTdGF0ZT47XG4gIHByaXZhdGUgX3Bvc2l0aW9uOiBWZWN0b3IyO1xuICBwcml2YXRlIF92ZWxvY2l0eTogVmVjdG9yMjtcbiAgcHJpdmF0ZSBfcm90YXRpb25WZWN0b3I6IFZlY3RvcjI7XG4gIHByaXZhdGUgX3JvdGF0aW9uOiBudW1iZXI7XG4gIHByaXZhdGUgX2V4cGxvc2lvbkNvdW50OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIF9pc0V4cGxvZGluZzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGZ1ZWw6IG51bWJlciA9IDEwMDtcbiAgY3Jhc2hlZDogYm9vbGVhbiA9IGZhbHNlO1xuICB0aHJ1c3Rpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgdHVybmluZ0xlZnQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgdHVybmluZ1JpZ2h0OiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IocG9zaXRpb246IFZlY3RvcjIsIHRleHR1cmU6IFRleHR1cmUsIHNpemU6IFZlY3RvcjIpIHtcbiAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlO1xuICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgdGhpcy5mcm96ZW4gPSBmYWxzZTtcbiAgICB0aGlzLl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgIHRoaXMuX3ZlbG9jaXR5ID0gbmV3IFZlY3RvcjIoMCwgMCk7XG4gICAgdGhpcy5fcm90YXRpb25WZWN0b3IgPSBuZXcgVmVjdG9yMigwLCAtMSk7XG4gICAgdGhpcy5fcm90YXRpb24gPSAwO1xuICAgIHRoaXMudGhydXN0RW1pdHRlciA9IG5ldyBQYXJ0aWNsZUVtaXR0ZXIoXG4gICAgICBuZXcgVGhydXN0R2VuZXJhdG9yKCksXG4gICAgICAoc3RhdGUpID0+IHN0YXRlLmxhbmRlci50aHJ1c3RpbmcgJiYgc3RhdGUubGFuZGVyLmZ1ZWwgPiAwLFxuICAgICAgMC4wNSxcbiAgICAgIDEwXG4gICAgKTtcbiAgICB0aGlzLmxlZnRSb3RhdGlvbkVtaXR0ZXIgPSBuZXcgUGFydGljbGVFbWl0dGVyKFxuICAgICAgbmV3IFRocnVzdEdlbmVyYXRvcig5MCksXG4gICAgICAoc3RhdGUpID0+IHN0YXRlLmxhbmRlci50dXJuaW5nTGVmdCAmJiBzdGF0ZS5sYW5kZXIuZnVlbCA+IDAsXG4gICAgICAwLjA1LFxuICAgICAgNVxuICAgICk7XG4gICAgdGhpcy5yaWdodFJvdGF0aW9uRW1pdHRlciA9IG5ldyBQYXJ0aWNsZUVtaXR0ZXIoXG4gICAgICBuZXcgVGhydXN0R2VuZXJhdG9yKC05MCksXG4gICAgICAoc3RhdGUpID0+IHN0YXRlLmxhbmRlci50dXJuaW5nUmlnaHQgJiYgc3RhdGUubGFuZGVyLmZ1ZWwgPiAwLFxuICAgICAgMC4wNSxcbiAgICAgIDVcbiAgICApO1xuICAgIHRoaXMuZXhwbG9zaW9uRW1pdHRlciA9IG5ldyBQYXJ0aWNsZUVtaXR0ZXIoXG4gICAgICBuZXcgRXhwbG9zaW9uR2VuZXJhdG9yKCksXG4gICAgICAoc3RhdGUpID0+IHRoaXMuX2lzRXhwbG9kaW5nLFxuICAgICAgMC4xLFxuICAgICAgNDAwXG4gICAgKTtcbiAgICB0aGlzLnBvc2l0aW9uRW1pdHRlcnMoKTtcbiAgfVxuXG4gIGRyYXcoXG4gICAgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxuICAgIHN0YXRlOiBHbG9iYWxTdGF0ZSxcbiAgICBjb29yZGluYXRlczogQ29vcmRpbmF0ZVRyYW5zbGF0YWJsZVxuICApIHtcbiAgICBpZiAoIXN0YXRlLmxhbmRlci5jcmFzaGVkKSB7XG4gICAgICBkcmF3VGV4dHVyZShcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgdGhpcy50ZXh0dXJlLFxuICAgICAgICBjb29yZGluYXRlcy50cmFuc2xhdGUodGhpcy5fcG9zaXRpb24pLFxuICAgICAgICBjb29yZGluYXRlcy50cmFuc2xhdGUodGhpcy5zaXplKSxcbiAgICAgICAgdGhpcy5fcm90YXRpb25cbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMudGhydXN0RW1pdHRlci5kcmF3KGNvbnRleHQsIHN0YXRlLCBjb29yZGluYXRlcyk7XG4gICAgdGhpcy5sZWZ0Um90YXRpb25FbWl0dGVyLmRyYXcoY29udGV4dCwgc3RhdGUsIGNvb3JkaW5hdGVzKTtcbiAgICB0aGlzLnJpZ2h0Um90YXRpb25FbWl0dGVyLmRyYXcoY29udGV4dCwgc3RhdGUsIGNvb3JkaW5hdGVzKTtcbiAgICB0aGlzLmV4cGxvc2lvbkVtaXR0ZXIuZHJhdyhjb250ZXh0LCBzdGF0ZSwgY29vcmRpbmF0ZXMpO1xuICAgIC8vIHRoaXMuZGVidWdEcmF3KGNvbnRleHQsIHN0YXRlLCBjb29yZGluYXRlcyk7XG4gIH1cblxuICBwcml2YXRlIGRlYnVnRHJhdyhcbiAgICBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXG4gICAgc3RhdGU6IEdsb2JhbFN0YXRlLFxuICAgIGNvb3JkaW5hdGVzOiBDb29yZGluYXRlVHJhbnNsYXRhYmxlXG4gICkge1xuICAgIC8vIERlYnVnIGNvbGxpc2lvblxuICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgY29udGV4dC5zdHJva2VTdHlsZSA9IFwiI2ZmZmZmZlwiO1xuICAgIGxldCBjaXJjbGVwb3MgPSBjb29yZGluYXRlcy50cmFuc2xhdGUodGhpcy5fcG9zaXRpb24pO1xuICAgIGNvbnRleHQuYXJjKFxuICAgICAgY2lyY2xlcG9zLngsXG4gICAgICBjaXJjbGVwb3MueSxcbiAgICAgIGNvb3JkaW5hdGVzLnRyYW5zbGF0ZShuZXcgVmVjdG9yMig0LCAwKSkueCxcbiAgICAgIDAsXG4gICAgICBNYXRoLlBJICogMlxuICAgICk7XG4gICAgY29udGV4dC5zdHJva2UoKTtcbiAgICBsZXQgYWRqUG9zID0gY29vcmRpbmF0ZXMudHJhbnNsYXRlKHRoaXMuX3Bvc2l0aW9uKTtcblxuICAgIC8vIERlYnVnIHJvdGF0aW9uXG4gICAgbGV0IGFkalZlYyA9IGNvb3JkaW5hdGVzLnRyYW5zbGF0ZSh0aGlzLl9yb3RhdGlvblZlY3Rvci5zY2FsZSg1KSk7XG4gICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICBpZiAodGhpcy5fcm90YXRpb24gJSAzNjAgPCA1ICYmIHRoaXMuX3JvdGF0aW9uICUgMzYwID4gLTUpIHtcbiAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBcIiMwMGZmMDBcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IFwiI2ZmMDAwMFwiO1xuICAgIH1cbiAgICBjb250ZXh0LmxpbmVUbyhhZGpQb3MueCwgYWRqUG9zLnkpO1xuICAgIGNvbnRleHQubGluZVRvKGFkalBvcy54ICsgYWRqVmVjLngsIGFkalBvcy55ICsgYWRqVmVjLnkpO1xuICAgIGNvbnRleHQuc3Ryb2tlKCk7XG5cbiAgICAvLyBEZWJ1ZyB2ZWxvY2l0eVxuICAgIGxldCB2ZWxvY2l0eSA9IGNvb3JkaW5hdGVzLnRyYW5zbGF0ZSh0aGlzLl92ZWxvY2l0eS5ub3JtYWxpemUoKS5zY2FsZSg1KSk7XG4gICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICBpZiAodGhpcy5fdmVsb2NpdHkuc3FyTWFnbml0dWRlKCkgPCA0KSB7XG4gICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gXCIjMDAwMGZmXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBcIiNmZjAwMDBcIjtcbiAgICB9XG4gICAgY29udGV4dC5saW5lVG8oYWRqUG9zLngsIGFkalBvcy55KTtcbiAgICBjb250ZXh0LmxpbmVUbyhhZGpQb3MueCArIHZlbG9jaXR5LngsIGFkalBvcy55ICsgdmVsb2NpdHkueSk7XG4gICAgY29udGV4dC5zdHJva2UoKTtcbiAgfVxuXG4gIHBvc2l0aW9uRW1pdHRlcnMoKTogdm9pZCB7XG4gICAgdGhpcy50aHJ1c3RFbWl0dGVyLnBvc2l0aW9uID0gdGhpcy5fcG9zaXRpb24uYWRkKFxuICAgICAgdGhpcy5fcm90YXRpb25WZWN0b3Iuc2NhbGUoLTMpXG4gICAgKTtcbiAgICB0aGlzLmxlZnRSb3RhdGlvbkVtaXR0ZXIucG9zaXRpb24gPSB0aGlzLl9wb3NpdGlvbi5hZGQoXG4gICAgICB0aGlzLl9yb3RhdGlvblZlY3Rvci5yb3RhdGUoNzApLnNjYWxlKC0zLjUpXG4gICAgKTtcbiAgICB0aGlzLnJpZ2h0Um90YXRpb25FbWl0dGVyLnBvc2l0aW9uID0gdGhpcy5fcG9zaXRpb24uYWRkKFxuICAgICAgdGhpcy5fcm90YXRpb25WZWN0b3Iucm90YXRlKC03MCkuc2NhbGUoLTMuNSlcbiAgICApO1xuICAgIHRoaXMuZXhwbG9zaW9uRW1pdHRlci5wb3NpdGlvbiA9IHRoaXMuX3Bvc2l0aW9uO1xuICB9XG5cbiAgdXBkYXRlKGRlbHRhOiBudW1iZXIsIHN0YXRlOiBHbG9iYWxTdGF0ZSk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9pc0V4cGxvZGluZykge1xuICAgICAgdGhpcy5fZXhwbG9zaW9uQ291bnQrKztcbiAgICB9XG4gICAgaWYgKHRoaXMuX2V4cGxvc2lvbkNvdW50ID4gNSkge1xuICAgICAgdGhpcy5faXNFeHBsb2RpbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy50aHJ1c3RFbWl0dGVyLnVwZGF0ZShkZWx0YSwgc3RhdGUpO1xuICAgIHRoaXMubGVmdFJvdGF0aW9uRW1pdHRlci51cGRhdGUoZGVsdGEsIHN0YXRlKTtcbiAgICB0aGlzLnJpZ2h0Um90YXRpb25FbWl0dGVyLnVwZGF0ZShkZWx0YSwgc3RhdGUpO1xuICAgIHRoaXMuZXhwbG9zaW9uRW1pdHRlci51cGRhdGUoZGVsdGEsIHN0YXRlKTtcbiAgICBpZiAoIXRoaXMuZnJvemVuKSB7XG4gICAgICBpZiAodGhpcy50dXJuaW5nTGVmdCAmJiB0aGlzLmZ1ZWwgPiAwKSB7XG4gICAgICAgIHRoaXMucm90YXRlKGRlbHRhLCBzdGF0ZSwgLTEpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMudHVybmluZ1JpZ2h0ICYmIHRoaXMuZnVlbCA+IDApIHtcbiAgICAgICAgdGhpcy5yb3RhdGUoZGVsdGEsIHN0YXRlLCAxKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3ZlbG9jaXR5ID0gdGhpcy5fdmVsb2NpdHkuYWRkKHN0YXRlLmNvbmZpZy5ncmF2aXR5LnNjYWxlKGRlbHRhKSk7XG4gICAgICBpZiAodGhpcy50aHJ1c3RpbmcgJiYgdGhpcy5mdWVsID4gMCkge1xuICAgICAgICB0aGlzLl92ZWxvY2l0eSA9IHRoaXMuX3ZlbG9jaXR5LmFkZChcbiAgICAgICAgICB0aGlzLl9yb3RhdGlvblZlY3Rvci5zY2FsZShkZWx0YSAqIHN0YXRlLmNvbmZpZy50aHJ1c3RDb2VmZmljaWVudClcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5mdWVsIC09IHN0YXRlLmNvbmZpZy5mdWVsQ29uc3VtcHRpb24gKiBkZWx0YTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmZ1ZWwgPCAwKSB7XG4gICAgICAgIHRoaXMuZnVlbCA9IDA7XG4gICAgICAgIHN0YXRlLmNvbW1hbmRzLmV4ZWN1dGUoJ2Z1ZWxFeHBpcmVkJywgc3RhdGUpO1xuICAgICAgfVxuICAgICAgdGhpcy5fcG9zaXRpb24gPSB0aGlzLl9wb3NpdGlvbi5hZGQodGhpcy5fdmVsb2NpdHkuc2NhbGUoZGVsdGEpKTtcbiAgICAgIHRoaXMucG9zaXRpb25FbWl0dGVycygpO1xuICAgICAgLy8gdGhpcy50aHJ1c3RFbWl0dGVyLnVwZGF0ZShkZWx0YSwgc3RhdGUpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGF0ZS50ZXJyYWluLnBvaW50cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGlzQ29sbGlkaW5nKFxuICAgICAgICAgICAgbmV3IENpcmNsZSh0aGlzLl9wb3NpdGlvbiwgNCksXG4gICAgICAgICAgICBzdGF0ZS50ZXJyYWluLnBvaW50c1tpXSxcbiAgICAgICAgICAgIHN0YXRlLnRlcnJhaW4ucG9pbnRzW2kgKyAxXVxuICAgICAgICAgIClcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGhpcy52ZWxvY2l0eS5zcXJNYWduaXR1ZGUoKSA8PSA0ICYmXG4gICAgICAgICAgICAodGhpcy5yb3RhdGlvbiA8IDUgfHwgdGhpcy5yb3RhdGlvbiA+IDM1NSlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgc3RhdGUuc2FmZVpvbmVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBzdGF0ZS50ZXJyYWluLnBvaW50c1tpXSA9PSBzdGF0ZS5zYWZlWm9uZXNbal1bMF0gJiZcbiAgICAgICAgICAgICAgICBzdGF0ZS50ZXJyYWluLnBvaW50c1tpICsgMV0gPT0gc3RhdGUuc2FmZVpvbmVzW2pdWzFdXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHN0YXRlLmNvbW1hbmRzLmV4ZWN1dGUoXCJzYWZlTGFuZGluZ1wiLCBzdGF0ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0YXRlLmNvbW1hbmRzLmV4ZWN1dGUoXCJjcmFzaExhbmRpbmdcIiwgc3RhdGUpO1xuICAgICAgICAgIHRoaXMuX2lzRXhwbG9kaW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5wb3NpdGlvbi54ID4gMTEwIHx8IHRoaXMucG9zaXRpb24ueCA8IC0xMCkge1xuICAgICAgICBzdGF0ZS5jb21tYW5kcy5leGVjdXRlKFwiY3Jhc2hMYW5kaW5nXCIsIHN0YXRlKTtcbiAgICAgICAgdGhpcy5faXNFeHBsb2RpbmcgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcm90YXRlKGRlbHRhOiBudW1iZXIsIHN0YXRlOiBHbG9iYWxTdGF0ZSwgZGlyZWN0aW9uOiBudW1iZXIpIHtcbiAgICB0aGlzLmZ1ZWwgLT0gc3RhdGUuY29uZmlnLmZ1ZWxDb25zdW1wdGlvbiAqIGRlbHRhICogMC41O1xuICAgIHRoaXMuX3JvdGF0aW9uICs9IGRpcmVjdGlvbiAqIHN0YXRlLmNvbmZpZy50aGV0YSAqIGRlbHRhO1xuICAgIHRoaXMuX3JvdGF0aW9uVmVjdG9yID0gdGhpcy5fcm90YXRpb25WZWN0b3Iucm90YXRlKFxuICAgICAgZGlyZWN0aW9uICogc3RhdGUuY29uZmlnLnRoZXRhICogZGVsdGFcbiAgICApO1xuICB9XG5cbiAgZ2V0IHZlbG9jaXR5KCk6IFZlY3RvcjIge1xuICAgIHJldHVybiB0aGlzLl92ZWxvY2l0eTtcbiAgfVxuXG4gIGdldCByb3RhdGlvbigpOiBudW1iZXIge1xuICAgIHJldHVybiAoKHRoaXMuX3JvdGF0aW9uICUgMzYwKSArIDM2MCkgJSAzNjA7XG4gIH1cblxuICBnZXQgcm90YXRpb25WZWN0b3IoKTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIHRoaXMuX3JvdGF0aW9uVmVjdG9yO1xuICB9XG5cbiAgZ2V0IHBvc2l0aW9uKCk6IFZlY3RvcjIge1xuICAgIHJldHVybiB0aGlzLl9wb3NpdGlvbjtcbiAgfVxuXG4gIHB1YmxpYyBmcmVlemUoKSB7XG4gICAgdGhpcy5mcm96ZW4gPSB0cnVlO1xuICAgIHRoaXMuX3ZlbG9jaXR5ID0gVmVjdG9yMi5aRVJPO1xuICB9XG59XG4iLCJpbnRlcmZhY2UgTW9kaWZpZXJzIHtcbiAgYWx0OiBib29sZWFuO1xuICBzaGlmdDogYm9vbGVhbjtcbiAgY3RybDogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIEtleVJlc3BvbnNlIHtcbiAgKHByZXNzZWQ6IGJvb2xlYW4sIHRpbWVEZWx0YTogbnVtYmVyLCBtb2RpZmllcnM6IE1vZGlmaWVycyk6IHZvaWQ7XG59XG5cbmNsYXNzIEtleUhhbmRsZXIge1xuICBwcml2YXRlIF93YXNQcmVzc2VkOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgX2xhc3RQcmVzc2VkOiBudW1iZXIgPSBEYXRlLm5vdygpO1xuICBwcml2YXRlIF9vblN0YXRlQ2hhbmdlZDogU2V0PEtleVJlc3BvbnNlPiA9IG5ldyBTZXQoKTtcbiAgcHJpdmF0ZSBfb25LZXlVcDogU2V0PEtleVJlc3BvbnNlPiA9IG5ldyBTZXQoKTtcbiAgcHJpdmF0ZSBfb25LZXlEb3duOiBTZXQ8S2V5UmVzcG9uc2U+ID0gbmV3IFNldCgpO1xuXG4gIHVwZGF0ZShwcmVzc2VkOiBib29sZWFuLCBtb2RpZmllcnM6IE1vZGlmaWVycykge1xuICAgIGlmICh0aGlzLl93YXNQcmVzc2VkICE9IHByZXNzZWQpIHtcbiAgICAgIC8vIEluaXQgc2V0XG4gICAgICBsZXQgc2V0O1xuICAgICAgaWYgKHByZXNzZWQpIHtcbiAgICAgICAgc2V0ID0gdGhpcy5fb25LZXlEb3duO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0ID0gdGhpcy5fb25LZXlVcDtcbiAgICAgIH1cblxuICAgICAgLy8gVGltZSBkZWx0YVxuICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblxuICAgICAgLy8gSGFuZGxlcnNcbiAgICAgIGZvciAobGV0IHJlcyBvZiBzZXQpIHtcbiAgICAgICAgcmVzKHByZXNzZWQsIG5vdyAtIHRoaXMuX2xhc3RQcmVzc2VkLCBtb2RpZmllcnMpO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgcmVzIG9mIHRoaXMuX29uU3RhdGVDaGFuZ2VkKSB7XG4gICAgICAgIHJlcyhwcmVzc2VkLCBub3cgLSB0aGlzLl9sYXN0UHJlc3NlZCwgbW9kaWZpZXJzKTtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlc1xuICAgICAgdGhpcy5fbGFzdFByZXNzZWQgPSBub3c7XG4gICAgICB0aGlzLl93YXNQcmVzc2VkID0gIXRoaXMuX3dhc1ByZXNzZWQ7XG4gICAgfVxuICB9XG5cbiAgYWRkVXAoYWN0aW9uOiBLZXlSZXNwb25zZSkge1xuICAgIHRoaXMuX29uS2V5VXAuYWRkKGFjdGlvbik7XG4gIH1cbiAgYWRkRG93bihhY3Rpb246IEtleVJlc3BvbnNlKSB7XG4gICAgdGhpcy5fb25LZXlEb3duLmFkZChhY3Rpb24pO1xuICB9XG4gIGFkZENoYW5nZWQoYWN0aW9uOiBLZXlSZXNwb25zZSkge1xuICAgIHRoaXMuX29uU3RhdGVDaGFuZ2VkLmFkZChhY3Rpb24pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBLZXlNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBoYW5kbGVyczogTWFwPHN0cmluZywgS2V5SGFuZGxlcj47XG4gIHByaXZhdGUgZGVzY3JpcHRpb25zOiBNYXA8c3RyaW5nLCBzdHJpbmc+O1xuICBwdWJsaWMgcmVnaXN0ZXJIYW5kbGVyKGtleUNvZGU6IHN0cmluZywgZGVzY3JpcHRpb24/OiBzdHJpbmcpIHtcbiAgICBpZiAoIXRoaXMuaGFuZGxlcnMuaGFzKGtleUNvZGUpKSB7XG4gICAgICB0aGlzLmhhbmRsZXJzLnNldChrZXlDb2RlLCBuZXcgS2V5SGFuZGxlcigpKTtcbiAgICAgIHRoaXMuZGVzY3JpcHRpb25zPy5zZXQoa2V5Q29kZSwgZGVzY3JpcHRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oYEtleSBoYW5kbGVyIHJlZ2lzdGVyZWQgdHdpY2UgZm9yIGtleUNvZGUgJHtrZXlDb2RlfWApO1xuICAgIH1cbiAgfVxuICBiaW5kVXAoa2V5Q29kZTogc3RyaW5nLCB1cGRhdGVGbjogS2V5UmVzcG9uc2UpIHtcbiAgICB0aGlzLmhhbmRsZXJzLmdldChrZXlDb2RlKS5hZGRVcCh1cGRhdGVGbik7XG4gIH1cbiAgYmluZERvd24oa2V5Q29kZTogc3RyaW5nLCB1cGRhdGVGbjogS2V5UmVzcG9uc2UpIHtcbiAgICB0aGlzLmhhbmRsZXJzLmdldChrZXlDb2RlKS5hZGREb3duKHVwZGF0ZUZuKTtcbiAgfVxuICBiaW5kQ2hhbmdlZChrZXlDb2RlOiBzdHJpbmcsIHVwZGF0ZUZuOiBLZXlSZXNwb25zZSkge1xuICAgIHRoaXMuaGFuZGxlcnMuZ2V0KGtleUNvZGUpLmFkZENoYW5nZWQodXBkYXRlRm4pO1xuICB9XG4gIHVwZGF0ZURvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICBpZiAodGhpcy5oYW5kbGVycy5oYXMoZXZlbnQua2V5KSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLmhhbmRsZXJzLmdldChldmVudC5rZXkpO1xuICAgICAgaGFuZGxlci51cGRhdGUodHJ1ZSwge1xuICAgICAgICBhbHQ6IGV2ZW50LmFsdEtleSxcbiAgICAgICAgc2hpZnQ6IGV2ZW50LnNoaWZ0S2V5LFxuICAgICAgICBjdHJsOiBldmVudC5jdHJsS2V5LFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlVXAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICBpZiAodGhpcy5oYW5kbGVycy5oYXMoZXZlbnQua2V5KSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLmhhbmRsZXJzLmdldChldmVudC5rZXkpO1xuICAgICAgaGFuZGxlci51cGRhdGUoZmFsc2UsIHtcbiAgICAgICAgYWx0OiBldmVudC5hbHRLZXksXG4gICAgICAgIHNoaWZ0OiBldmVudC5zaGlmdEtleSxcbiAgICAgICAgY3RybDogZXZlbnQuY3RybEtleSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBjbGVhcigpIHtcbiAgICB0aGlzLmhhbmRsZXJzID0gbmV3IE1hcCgpO1xuICB9XG5cbiAgcmVtb3ZlKGtleWNvZGU6IHN0cmluZykge1xuICAgIHRoaXMuaGFuZGxlcnMuZGVsZXRlKGtleWNvZGUpO1xuICB9XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMudXBkYXRlRG93bi5iaW5kKHRoaXMpKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMudXBkYXRlVXAuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5oYW5kbGVycyA9IG5ldyBNYXA8c3RyaW5nLCBLZXlIYW5kbGVyPigpO1xuICB9XG59XG4iLCJpbnRlcmZhY2UgQ29tbWFuZFJ1bm5hYmxlPFQ+IHtcbiAgKHN0YXRlOiBUKTogdm9pZDtcbn1cblxuY2xhc3MgQ29tbWFuZDxUPiB7XG4gIHByaXZhdGUgX25hbWU6IHN0cmluZztcbiAgcHJpdmF0ZSBfYWN0aW9uOiBDb21tYW5kUnVubmFibGU8VD47XG4gIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgYWN0aW9uOiBDb21tYW5kUnVubmFibGU8VD4pIHtcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICB0aGlzLl9hY3Rpb24gPSBhY3Rpb247XG4gIH1cblxuICBwdWJsaWMgZ2V0IG5hbWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgfVxuXG4gIHB1YmxpYyBpbnZva2Uoc3RhdGU6IFQpOiB2b2lkIHtcbiAgICB0aGlzLl9hY3Rpb24oc3RhdGUpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb21tYW5kU2VydmljZTxUPiB7XG4gIHByaXZhdGUgY29tbWFuZHM6IE1hcDxzdHJpbmcsIENvbW1hbmQ8VD4+O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuY29tbWFuZHMgPSBuZXcgTWFwPHN0cmluZywgQ29tbWFuZDxUPj4oKTtcbiAgfVxuXG4gIHB1YmxpYyBjcmVhdGVDb21tYW5kKG5hbWU6IHN0cmluZywgYWN0aW9uOiBDb21tYW5kUnVubmFibGU8VD4pOiB2b2lkIHtcbiAgICB0aGlzLmNvbW1hbmRzLnNldChuYW1lLCBuZXcgQ29tbWFuZChuYW1lLCBhY3Rpb24pKTtcbiAgfVxuXG4gIHB1YmxpYyBleGVjdXRlKG5hbWU6IHN0cmluZywgc3RhdGU6IFQpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5jb21tYW5kcy5oYXMobmFtZSkpIHtcbiAgICAgIHRoaXMuY29tbWFuZHMuZ2V0KG5hbWUpLmludm9rZShzdGF0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybihgQXR0ZW1wdGluZyB0byBpbnZva2Ugbm9uLWV4aXN0ZW50IGNvbW1hbmQgJHtuYW1lfWApO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IFZlY3RvcjIgZnJvbSBcIi4vdmVjdG9yMlwiO1xuaW1wb3J0IHsgcmFuZG9tIH0gZnJvbSBcIi4vcmFuZG9tXCI7XG5pbXBvcnQgeyBDb29yZGluYXRlVHJhbnNsYXRhYmxlIH0gZnJvbSBcIi4vY29vcmRpbmF0ZVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gZHJhd1RlcnJhaW4oXG4gIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxuICB0ZXJyYWluOiBUZXJyYWluLFxuICB2Y3M6IENvb3JkaW5hdGVUcmFuc2xhdGFibGVcbikge1xuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5saW5lVG8odmNzLnRyYW5zbGF0ZVZhbHVlWCgwKSwgdmNzLnRyYW5zbGF0ZVZhbHVlWSgxMDApKTtcbiAgY3R4LnN0cm9rZVN0eWxlID0gXCIjZmZmZmZmXCI7XG4gIGN0eC5maWxsU3R5bGUgPSBcIiNmZmZmZmZcIjtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCB0ZXJyYWluLnBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgIGxldCBwdCA9IHZjcy50cmFuc2xhdGUodGVycmFpbi5wb2ludHNbaV0pO1xuICAgIGN0eC5saW5lVG8ocHQueCwgcHQueSk7XG4gIH1cbiAgY3R4LmxpbmVUbyh2Y3MudHJhbnNsYXRlVmFsdWVYKDEwMCksIHZjcy50cmFuc2xhdGVWYWx1ZVkoMTAwKSk7XG4gIGN0eC5maWxsKCk7XG59XG5cbmV4cG9ydCBjbGFzcyBUZXJyYWluIHtcbiAgcG9pbnRzOiBBcnJheTxWZWN0b3IyPjtcbiAgY29uc3RydWN0b3IoaXRlcmF0aW9uczogbnVtYmVyLCByb3VnaG5lc3M6IG51bWJlciwgcDE6IFZlY3RvcjIsIHAyOiBWZWN0b3IyKSB7XG4gICAgdGhpcy5wb2ludHMgPSBbcDEsIHAyXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZXJhdGlvbnM7IGkrKykge1xuICAgICAgbGV0IHNhdmVkTGVuZ3RoID0gdGhpcy5wb2ludHMubGVuZ3RoO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzYXZlZExlbmd0aCAtIDE7IGorKykge1xuICAgICAgICBsZXQgbWlkID0gbmV3IFZlY3RvcjIoXG4gICAgICAgICAgKHRoaXMucG9pbnRzW2ogKiAyXS54ICsgdGhpcy5wb2ludHNbaiAqIDIgKyAxXS54KSAvIDIsXG4gICAgICAgICAgKHRoaXMucG9pbnRzW2ogKiAyXS55ICsgdGhpcy5wb2ludHNbaiAqIDIgKyAxXS55KSAvIDJcbiAgICAgICAgKTtcbiAgICAgICAgbWlkID0gbWlkLmFkZChuZXcgVmVjdG9yMigwLCByYW5kb20uZ2F1c3NpYW4oMTIpICogcm91Z2huZXNzKSk7XG4gICAgICAgIHRoaXMucG9pbnRzLnNwbGljZShqICogMiArIDEsIDAsIG1pZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaW5zZXJ0U2FmZVpvbmUobWluWDogbnVtYmVyLCBtYXhYOiBudW1iZXIsIHdpZHRoOiBudW1iZXIpIHtcbiAgICBsZXQgdGFyZ2V0WE1pbiA9IG1pblggKyB3aWR0aCAvIDI7XG4gICAgbGV0IHRhcmdldFhNYXggPSBtYXhYIC0gd2lkdGggLyAyO1xuICAgIGxldCBkaWZmID0gdGFyZ2V0WE1heCAtIHRhcmdldFhNaW47XG4gICAgbGV0IG9mZnNldCA9IHRhcmdldFhNaW4gKyBkaWZmICogTWF0aC5yYW5kb20oKTtcbiAgICBsZXQgaSA9IDA7XG4gICAgbGV0IHBvaW50ID0gdGhpcy5wb2ludHNbMF07XG4gICAgd2hpbGUgKHBvaW50LnggPCBvZmZzZXQpIHtcbiAgICAgIHBvaW50ID0gdGhpcy5wb2ludHNbKytpXTtcbiAgICB9XG4gICAgbGV0IHNhdmVkID0gcG9pbnQ7XG4gICAgaSsrO1xuICAgIHBvaW50ID0gdGhpcy5wb2ludHNbaV07XG4gICAgbGV0IHggPSAwO1xuICAgIHdoaWxlIChwb2ludC54IDwgb2Zmc2V0ICsgd2lkdGgpIHtcbiAgICAgIHggPSBwb2ludC54O1xuICAgICAgdGhpcy5wb2ludHMuc3BsaWNlKGksIDEpO1xuICAgICAgcG9pbnQgPSB0aGlzLnBvaW50c1tpXTtcbiAgICB9XG4gICAgdGhpcy5wb2ludHNbaV0gPSBuZXcgVmVjdG9yMih4LCBzYXZlZC55KTtcbiAgICByZXR1cm4gW3NhdmVkLCB0aGlzLnBvaW50c1tpXV07XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBTb3VuZEVmZmVjdCB7XG4gICAgcHJpdmF0ZSBlbDogSFRNTEF1ZGlvRWxlbWVudDtcbiAgICBwcml2YXRlIHJlYWR5ID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBjb250aW51ZSA9IGZhbHNlO1xuICAgIHByaXZhdGUgbG9vcCA9IGZhbHNlO1xuICAgIHByaXZhdGUgX3BsYXlpbmcgPSBmYWxzZTtcbiAgICBwcml2YXRlIGN1dG9mZiA9IDA7XG4gICAgY29uc3RydWN0b3Ioc291cmNlOiBzdHJpbmcsIGN1dG9mZj86IG51bWJlcikge1xuICAgICAgICB0aGlzLmVsID0gbmV3IEF1ZGlvKHNvdXJjZSk7XG4gICAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVhZHkgPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGN1dG9mZikge1xuICAgICAgICAgICAgdGhpcy5sb29wID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuY3V0b2ZmID0gY3V0b2ZmO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGxheSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5lbC5wbGF5KCk7XG4gICAgICAgIHRoaXMuY29udGludWUgPSB0cnVlO1xuICAgICAgICB0aGlzLl9wbGF5aW5nID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMubG9vcCkge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7aWYoIXRoaXMuY29udGludWUpIHJldHVybjsgdGhpcy5lbC5jdXJyZW50VGltZSA9IDA7IHRoaXMucGxheVJlYygpfSwgdGhpcy5jdXRvZmYgKiAxMDAwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5fcGxheWluZyA9IGZhbHNlLCB0aGlzLmVsLmR1cmF0aW9uICogMTAwMClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBsYXlSZWMoKTogdm9pZCB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge2lmKCF0aGlzLmNvbnRpbnVlKSByZXR1cm47IHRoaXMuZWwuY3VycmVudFRpbWUgPSAwOyB0aGlzLnBsYXlSZWMoKX0sIHRoaXMuY3V0b2ZmICogMTAwMCk7XG4gICAgfVxuXG4gICAgc3RvcCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5lbC5wYXVzZSgpO1xuICAgICAgICB0aGlzLmNvbnRpbnVlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3BsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5lbC5jdXJyZW50VGltZSA9IDA7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBwbGF5aW5nKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGxheWluZztcbiAgICB9XG59IiwiaW1wb3J0IFZlY3RvcjIgZnJvbSAnLi92ZWN0b3IyJ1xuaW1wb3J0IHsgZHJhd1RleHR1cmUsIFRleHR1cmUgfSBmcm9tICcuL3RleHR1cmUnXG5pbXBvcnQgRHJhd2FibGUgZnJvbSAnLi9kcmF3YWJsZSdcbmltcG9ydCBUaWNraW5nIGZyb20gJy4vdGlja2luZydcbmltcG9ydCB7IFZpcnR1YWxDb29yZGluYXRlU3lzdGVtIH0gZnJvbSAnLi9jb29yZGluYXRlJ1xuaW1wb3J0IHsgR2xvYmFsU3RhdGUgfSBmcm9tICcuL3N0YXRlJ1xuaW1wb3J0IHsgTGFuZGVyIH0gZnJvbSAnLi9sYW5kZXInXG5pbXBvcnQgeyBLZXlNYW5hZ2VyIH0gZnJvbSAnLi9rZXknXG5pbXBvcnQgeyBDb21tYW5kU2VydmljZSB9IGZyb20gJy4vY29tbWFuZCdcbmltcG9ydCB7IGRyYXdUZXJyYWluLCBUZXJyYWluIH0gZnJvbSAnLi90ZXJyYWluJ1xuaW1wb3J0IHsgQ29uZGl0aW9uYWxEcmF3YWJsZSB9IGZyb20gJy4vY29uZGl0aW9uYWxEcmF3YWJsZSdcbmltcG9ydCB7IFNvdW5kRWZmZWN0IH0gZnJvbSAnLi9zb3VuZCdcblxuLy8gR2VuZXJhbCBTZXR1cFxuY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcycpIGFzIEhUTUxDYW52YXNFbGVtZW50XG5jb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJylcbmNvbnN0IHdvcmxkRGltZW5zaW9uID0gMTAwXG5jb25zdCB3b3JsZFNpemUgPSBuZXcgVmVjdG9yMih3b3JsZERpbWVuc2lvbiwgd29ybGREaW1lbnNpb24pXG5jb25zdCBsYW5kZXJUZXh0dXJlID0gbmV3IFRleHR1cmUoJ2Fzc2V0cy9MYW5kZXIucG5nJywgbmV3IFZlY3RvcjIoNTAwLCA1MDApKVxuXG4vLyBWaXJ0dWFsIFNpemluZ1xubGV0IG1heENvb3JkID0gTWF0aC5taW4od2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodClcbmNhbnZhcy53aWR0aCA9IG1heENvb3JkXG5jYW52YXMuaGVpZ2h0ID0gbWF4Q29vcmRcbmxldCB2Y3MgPSBuZXcgVmlydHVhbENvb3JkaW5hdGVTeXN0ZW0oXG4gIG1heENvb3JkIC8gd29ybGRTaXplLngsXG4gIG1heENvb3JkIC8gd29ybGRTaXplLnlcbilcblxuLy8gUmVzaXplXG5mdW5jdGlvbiByZXNpemUgKCkge1xuICBtYXhDb29yZCA9IE1hdGgubWluKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpXG5cbiAgY2FudmFzLndpZHRoID0gbWF4Q29vcmRcbiAgY2FudmFzLmhlaWdodCA9IG1heENvb3JkXG5cbiAgdmNzID0gbmV3IFZpcnR1YWxDb29yZGluYXRlU3lzdGVtKFxuICAgIG1heENvb3JkIC8gd29ybGRTaXplLngsXG4gICAgbWF4Q29vcmQgLyB3b3JsZFNpemUueVxuICApXG4gIGNvbnNvbGUubG9nKGBSZXNpemluZyB0byAke21heENvb3JkfXB4LmApXG59XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemUpO1xuXG5jb25zdCBkcmF3YWJsZXMgPSBuZXcgQXJyYXk8RHJhd2FibGU8R2xvYmFsU3RhdGU+PigpXG5jb25zdCB0aWNraW5nID0gbmV3IEFycmF5PFRpY2tpbmc8R2xvYmFsU3RhdGU+PigpXG5cbmxldCBmdWVsUG9zaXRpb24gPSBuZXcgVmVjdG9yMig1LCA1KVxubGV0IGFuZ2xlUG9zaXRpb24gPSBuZXcgVmVjdG9yMig1LCA3LjUpXG5sZXQgdmVsb2NpdHlQb3NpdGlvbiA9IG5ldyBWZWN0b3IyKDUsIDEwKVxuXG4vLyBHYW1lIGxvb3BcbmxldCBsYXN0VGltZTogbnVtYmVyID0gMFxuZnVuY3Rpb24gbG9vcCAoZ2xvYmFsU3RhdGU6IEdsb2JhbFN0YXRlKSA6IEZyYW1lUmVxdWVzdENhbGxiYWNrIHtcbiAgICBsZXQgZm4gPSBmdW5jdGlvbihjdXJyZW50VGltZTogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGRlbHRhID0gY3VycmVudFRpbWUgLSBsYXN0VGltZVxuICAgICAgICBsYXN0VGltZSA9IGN1cnJlbnRUaW1lXG5cbiAgICAgICAgdXBkYXRlKGRlbHRhIC8gMTAwMCwgZ2xvYmFsU3RhdGUpXG4gICAgICAgIGRyYXcoZ2xvYmFsU3RhdGUpXG5cbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZuKTtcbiAgICB9XG4gICAgcmV0dXJuIGZuXG59XG5cbmZ1bmN0aW9uIHVwZGF0ZSAoZGVsdGE6IG51bWJlciwgZ2xvYmFsU3RhdGU6IEdsb2JhbFN0YXRlKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGlja2luZy5sZW5ndGg7IGkrKykge1xuICAgIHRpY2tpbmdbaV0udXBkYXRlKGRlbHRhLCBnbG9iYWxTdGF0ZSlcbiAgfVxufVxuZnVuY3Rpb24gZHJhdyAoZ2xvYmFsU3RhdGU6IEdsb2JhbFN0YXRlKSB7XG4gIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIG1heENvb3JkLCBtYXhDb29yZClcbiAgZHJhd1RlcnJhaW4oY29udGV4dCwgZ2xvYmFsU3RhdGUudGVycmFpbiwgdmNzKVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGRyYXdhYmxlcy5sZW5ndGg7IGkrKykge1xuICAgIGRyYXdhYmxlc1tpXS5kcmF3KGNvbnRleHQsIGdsb2JhbFN0YXRlLCB2Y3MpXG4gIH1cbiAgZHJhd1RleHQoY29udGV4dCwgZ2xvYmFsU3RhdGUpXG59XG5cbmZ1bmN0aW9uIGRyYXdUZXh0IChjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGdsb2JhbFN0YXRlOiBHbG9iYWxTdGF0ZSkge1xuICBsZXQgZm9udFNpemUgPSB2Y3MudHJhbnNsYXRlVmFsdWVYKDIpXG4gIGNvbnRleHQuZm9udCA9IGAke2ZvbnRTaXplfXB4IEFyaWFsYFxuXG4gIC8vIEZ1ZWxcbiAgbGV0IGZ1ZWwgPSBnbG9iYWxTdGF0ZS5sYW5kZXIuZnVlbFxuICBpZiAoZnVlbCA+IDApIHtcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjMDBmZjAwJ1xuICB9IGVsc2Uge1xuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyNmZmZmZmYnXG4gIH1cbiAgbGV0IGFkanVzdGVkRnVlbFBvc2l0aW9uID0gdmNzLnRyYW5zbGF0ZShmdWVsUG9zaXRpb24pXG4gIGNvbnRleHQuZmlsbFRleHQoXG4gICAgYEZ1ZWw6ICR7ZnVlbC50b0ZpeGVkKDIpfUxgLFxuICAgIGFkanVzdGVkRnVlbFBvc2l0aW9uLngsXG4gICAgYWRqdXN0ZWRGdWVsUG9zaXRpb24ueVxuICApXG5cbiAgLy8gQW5nbGVcbiAgbGV0IGFuZ2xlID0gZ2xvYmFsU3RhdGUubGFuZGVyLnJvdGF0aW9uXG4gIGlmIChhbmdsZSA8IDUgfHwgYW5nbGUgPiAzNTUpIHtcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjMDBmZjAwJ1xuICB9IGVsc2Uge1xuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyNmZmZmZmYnXG4gIH1cbiAgbGV0IGFkanVzdGVkQW5nbGVQb3NpdGlvbiA9IHZjcy50cmFuc2xhdGUoYW5nbGVQb3NpdGlvbilcbiAgY29udGV4dC5maWxsVGV4dChcbiAgICBgQW5nbGU6ICR7YW5nbGUudG9GaXhlZCgyKX3CsGAsXG4gICAgYWRqdXN0ZWRBbmdsZVBvc2l0aW9uLngsXG4gICAgYWRqdXN0ZWRBbmdsZVBvc2l0aW9uLnlcbiAgKVxuXG4gIC8vIFZlbG9jaXR5XG4gIGxldCBtYWduID0gZ2xvYmFsU3RhdGUubGFuZGVyLnZlbG9jaXR5Lm1hZ25pdHVkZSgpXG4gIGlmIChtYWduIDwgMikge1xuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyMwMGZmMDAnXG4gIH0gZWxzZSB7XG4gICAgY29udGV4dC5maWxsU3R5bGUgPSAnI2ZmZmZmZidcbiAgfVxuICBsZXQgYWRqdXN0ZWRWZWxvY2l0eVBvc2l0aW9uID0gdmNzLnRyYW5zbGF0ZSh2ZWxvY2l0eVBvc2l0aW9uKVxuICBjb250ZXh0LmZpbGxUZXh0KFxuICAgIGBWZWxvY2l0eTogJHttYWduLnRvRml4ZWQoMil9IG0vc2AsXG4gICAgYWRqdXN0ZWRWZWxvY2l0eVBvc2l0aW9uLngsXG4gICAgYWRqdXN0ZWRWZWxvY2l0eVBvc2l0aW9uLnlcbiAgKVxuICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjZmZmZmZmJ1xufVxuXG5mdW5jdGlvbiBidWlsZENvbW1hbmRzIChzdGF0ZTogR2xvYmFsU3RhdGUpOiBDb21tYW5kU2VydmljZTxHbG9iYWxTdGF0ZT4ge1xuICBjb25zdCBjb21tYW5kcyA9IG5ldyBDb21tYW5kU2VydmljZTxHbG9iYWxTdGF0ZT4oKVxuICAvLyBDb21tYW5kIENyZWF0aW9uXG4gIGNvbW1hbmRzLmNyZWF0ZUNvbW1hbmQoJ2VuYWJsZVRocnVzdCcsIGdsb2JhbFN0YXRlID0+IHtcbiAgICBnbG9iYWxTdGF0ZS5sYW5kZXIudGhydXN0aW5nID0gdHJ1ZVxuICAgIGlmIChnbG9iYWxTdGF0ZS5sYW5kZXIuZnVlbCA+IDApIHtcbiAgICAgIGdsb2JhbFN0YXRlLnNvdW5kcy5tYWluVGhydXN0ZXIucGxheSgpXG4gICAgfSBlbHNlIHtcbiAgICAgIGdsb2JhbFN0YXRlLnNvdW5kcy5ub0Z1ZWwucGxheSgpXG4gICAgfVxuICB9KVxuXG4gIGNvbW1hbmRzLmNyZWF0ZUNvbW1hbmQoJ2Rpc2FibGVUaHJ1c3QnLCBnbG9iYWxTdGF0ZSA9PiB7XG4gICAgZ2xvYmFsU3RhdGUubGFuZGVyLnRocnVzdGluZyA9IGZhbHNlXG4gICAgZ2xvYmFsU3RhdGUuc291bmRzLm1haW5UaHJ1c3Rlci5zdG9wKClcbiAgICBnbG9iYWxTdGF0ZS5zb3VuZHMubm9GdWVsLnN0b3AoKVxuICB9KVxuXG4gIGNvbW1hbmRzLmNyZWF0ZUNvbW1hbmQoJ2Z1ZWxFeHBpcmVkJywgZ2xvYmFsU3RhdGUgPT4ge1xuICAgIGlmIChnbG9iYWxTdGF0ZS5zb3VuZHMubWFpblRocnVzdGVyLnBsYXlpbmcpIHtcbiAgICAgIGdsb2JhbFN0YXRlLnNvdW5kcy5tYWluVGhydXN0ZXIuc3RvcCgpXG4gICAgICBnbG9iYWxTdGF0ZS5zb3VuZHMubm9GdWVsLnBsYXkoKVxuICAgIH1cbiAgICBpZiAoZ2xvYmFsU3RhdGUuc291bmRzLnN1YlRocnVzdGVyLnBsYXlpbmcpIHtcbiAgICAgIGdsb2JhbFN0YXRlLnNvdW5kcy5zdWJUaHJ1c3Rlci5zdG9wKClcbiAgICAgIGdsb2JhbFN0YXRlLnNvdW5kcy5ub0Z1ZWwucGxheSgpXG4gICAgfVxuICB9KVxuXG4gIGNvbW1hbmRzLmNyZWF0ZUNvbW1hbmQoJ2JlZ2luVHVybkxlZnQnLCBnbG9iYWxTdGF0ZSA9PiB7XG4gICAgZ2xvYmFsU3RhdGUubGFuZGVyLnR1cm5pbmdMZWZ0ID0gdHJ1ZVxuICAgIGlmIChnbG9iYWxTdGF0ZS5sYW5kZXIuZnVlbCA+IDApIHtcbiAgICAgIGdsb2JhbFN0YXRlLnNvdW5kcy5zdWJUaHJ1c3Rlci5wbGF5KClcbiAgICB9IGVsc2Uge1xuICAgICAgZ2xvYmFsU3RhdGUuc291bmRzLm5vRnVlbC5wbGF5KClcbiAgICB9XG4gIH0pXG5cbiAgY29tbWFuZHMuY3JlYXRlQ29tbWFuZCgnZW5kVHVybkxlZnQnLCBnbG9iYWxTdGF0ZSA9PiB7XG4gICAgZ2xvYmFsU3RhdGUuc291bmRzLnN1YlRocnVzdGVyLnN0b3AoKVxuICAgIGdsb2JhbFN0YXRlLnNvdW5kcy5ub0Z1ZWwuc3RvcCgpXG4gICAgZ2xvYmFsU3RhdGUubGFuZGVyLnR1cm5pbmdMZWZ0ID0gZmFsc2VcbiAgfSlcblxuICBjb21tYW5kcy5jcmVhdGVDb21tYW5kKCdiZWdpblR1cm5SaWdodCcsIGdsb2JhbFN0YXRlID0+IHtcbiAgICBpZiAoZ2xvYmFsU3RhdGUubGFuZGVyLmZ1ZWwgPiAwKSB7XG4gICAgICBnbG9iYWxTdGF0ZS5zb3VuZHMuc3ViVGhydXN0ZXIucGxheSgpXG4gICAgfSBlbHNlIHtcbiAgICAgIGdsb2JhbFN0YXRlLnNvdW5kcy5ub0Z1ZWwucGxheSgpXG4gICAgfVxuICAgIGdsb2JhbFN0YXRlLmxhbmRlci50dXJuaW5nUmlnaHQgPSB0cnVlXG4gIH0pXG5cbiAgY29tbWFuZHMuY3JlYXRlQ29tbWFuZCgnZW5kVHVyblJpZ2h0JywgZ2xvYmFsU3RhdGUgPT4ge1xuICAgIGdsb2JhbFN0YXRlLnNvdW5kcy5zdWJUaHJ1c3Rlci5zdG9wKClcbiAgICBnbG9iYWxTdGF0ZS5zb3VuZHMubm9GdWVsLnN0b3AoKVxuICAgIGdsb2JhbFN0YXRlLmxhbmRlci50dXJuaW5nUmlnaHQgPSBmYWxzZVxuICB9KVxuXG4gIGNvbW1hbmRzLmNyZWF0ZUNvbW1hbmQoJ3NhZmVMYW5kaW5nJywgZ2xvYmFsU3RhdGUgPT4ge1xuICAgIGdsb2JhbFN0YXRlLnNvdW5kcy5sYW5kaW5nLnBsYXkoKVxuICAgIGdsb2JhbFN0YXRlLmxhbmRlci5mcmVlemUoKVxuICB9KVxuXG4gIGNvbW1hbmRzLmNyZWF0ZUNvbW1hbmQoJ2NyYXNoTGFuZGluZycsIGdsb2JhbFN0YXRlID0+IHtcbiAgICBnbG9iYWxTdGF0ZS5zb3VuZHMuZXhwbG9zaW9uLnBsYXkoKVxuICAgIGdsb2JhbFN0YXRlLmxhbmRlci5jcmFzaGVkID0gdHJ1ZVxuICAgIGdsb2JhbFN0YXRlLmxhbmRlci5mcmVlemUoKVxuICB9KVxuXG4gIHJldHVybiBjb21tYW5kcztcbn1cblxuZnVuY3Rpb24gYnVpbGRLZXlzIChzdGF0ZTogR2xvYmFsU3RhdGUpOiBLZXlNYW5hZ2VyIHtcbiAgLy8gRGVmYXVsdCBLZXliaW5kaW5nc1xuICBjb25zdCBrZXlzID0gbmV3IEtleU1hbmFnZXIoKVxuICBrZXlzLnJlZ2lzdGVySGFuZGxlcignICcpXG4gIGtleXMucmVnaXN0ZXJIYW5kbGVyKCdxJylcbiAga2V5cy5yZWdpc3RlckhhbmRsZXIoJ2UnKVxuICBrZXlzLmJpbmREb3duKCcgJywgKCkgPT4gc3RhdGUuY29tbWFuZHMuZXhlY3V0ZSgnZW5hYmxlVGhydXN0Jywgc3RhdGUpKVxuICBrZXlzLmJpbmRVcCgnICcsICgpID0+IHN0YXRlLmNvbW1hbmRzLmV4ZWN1dGUoJ2Rpc2FibGVUaHJ1c3QnLCBzdGF0ZSkpXG4gIGtleXMuYmluZERvd24oJ3EnLCAoKSA9PiBzdGF0ZS5jb21tYW5kcy5leGVjdXRlKCdiZWdpblR1cm5MZWZ0Jywgc3RhdGUpKVxuICBrZXlzLmJpbmRVcCgncScsICgpID0+IHN0YXRlLmNvbW1hbmRzLmV4ZWN1dGUoJ2VuZFR1cm5MZWZ0Jywgc3RhdGUpKVxuICBrZXlzLmJpbmREb3duKCdlJywgKCkgPT4gc3RhdGUuY29tbWFuZHMuZXhlY3V0ZSgnYmVnaW5UdXJuUmlnaHQnLCBzdGF0ZSkpXG4gIGtleXMuYmluZFVwKCdlJywgKCkgPT4gc3RhdGUuY29tbWFuZHMuZXhlY3V0ZSgnZW5kVHVyblJpZ2h0Jywgc3RhdGUpKVxuICByZXR1cm4ga2V5c1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRTdGF0ZSAoKTogR2xvYmFsU3RhdGUge1xuICBsZXQgZ2xvYmFsU3RhdGU6IEdsb2JhbFN0YXRlID0ge1xuICAgIHRlcnJhaW46IHVuZGVmaW5lZCxcbiAgICBsYW5kZXI6IHVuZGVmaW5lZCxcbiAgICBzYWZlWm9uZXM6IHVuZGVmaW5lZCxcbiAgICBjb21tYW5kczogdW5kZWZpbmVkLFxuICAgIGtleXM6IHVuZGVmaW5lZCxcbiAgICBjb25maWc6IHtcbiAgICAgIGZ1ZWxDb25zdW1wdGlvbjogMjAsXG4gICAgICB0aHJ1c3RDb2VmZmljaWVudDogMTAsXG4gICAgICB0aGV0YTogOTAsXG4gICAgICBncmF2aXR5OiBuZXcgVmVjdG9yMigwLCAxKVxuICAgIH0sXG4gICAgc291bmRzOiB7XG4gICAgICBtYWluVGhydXN0ZXI6IG5ldyBTb3VuZEVmZmVjdCgnYXNzZXRzL21haW50aHJ1c3Rlci53YXYnLCA0KSxcbiAgICAgIHN1YlRocnVzdGVyOiBuZXcgU291bmRFZmZlY3QoJ2Fzc2V0cy9zdWJ0aHJ1c3Rlci53YXYnLCA0KSxcbiAgICAgIGV4cGxvc2lvbjogbmV3IFNvdW5kRWZmZWN0KCdhc3NldHMvZXhwbG9zaW9uLndhdicpLFxuICAgICAgbGFuZGluZzogbmV3IFNvdW5kRWZmZWN0KCdhc3NldHMvbGFuZGluZy53YXYnKSxcbiAgICAgIG5vRnVlbDogbmV3IFNvdW5kRWZmZWN0KCdhc3NldHMvbm9mdWVsLndhdicsIDEpXG4gICAgfVxuICB9XG4gIGdsb2JhbFN0YXRlLmNvbW1hbmRzID0gYnVpbGRDb21tYW5kcyhnbG9iYWxTdGF0ZSlcbiAgZ2xvYmFsU3RhdGUua2V5cyA9IGJ1aWxkS2V5cyhnbG9iYWxTdGF0ZSlcbiAgcmV0dXJuIGdsb2JhbFN0YXRlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydCAoZ2xvYmFsU3RhdGU6IEdsb2JhbFN0YXRlLCBkaWZmaWN1bHR5OiBudW1iZXIgPSAxKSB7XG4gIGNvbnN0IGxhbmRlciA9IG5ldyBMYW5kZXIoXG4gICAgbmV3IFZlY3RvcjIod29ybGRTaXplLnggLyAyLCAwKSxcbiAgICBsYW5kZXJUZXh0dXJlLFxuICAgIG5ldyBWZWN0b3IyKDEwLCAxMClcbiAgKVxuICBnbG9iYWxTdGF0ZS5sYW5kZXIgPSBsYW5kZXJcbiAgZHJhd2FibGVzLnB1c2gobGFuZGVyKVxuICB0aWNraW5nLnB1c2gobGFuZGVyKVxuICBjb25zdCB0ZXJyYWluID0gbmV3IFRlcnJhaW4oNSwgMTUsIG5ldyBWZWN0b3IyKDAsIDcwKSwgbmV3IFZlY3RvcjIoMTAwLCA3MCkpXG4gIGNvbnN0IHNhZmVab25lczogQXJyYXk8QXJyYXk8VmVjdG9yMj4+ID0gW11cbiAgY29uc3QgY291bnQgPSAzIC0gZGlmZmljdWx0eTtcbiAgY29uc3QgbWluID0gMTA7XG4gIGNvbnN0IG1heCA9IDkwO1xuICBjb25zdCB2YWxpZFBvcnRpb25zID0gKG1heCAtIG1pbikgLyBjb3VudDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgc2FmZVpvbmVzLnB1c2godGVycmFpbi5pbnNlcnRTYWZlWm9uZShtaW4gKyB2YWxpZFBvcnRpb25zICogaSwgbWluICsgdmFsaWRQb3J0aW9ucyAqIChpICsgMSksIGNvdW50ICogMTApKTtcbiAgfVxuXG4gIGdsb2JhbFN0YXRlLnRlcnJhaW4gPSB0ZXJyYWluO1xuICBnbG9iYWxTdGF0ZS5zYWZlWm9uZXMgPSBzYWZlWm9uZXM7XG5cbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3AoZ2xvYmFsU3RhdGUpKVxufVxuIiwiaW1wb3J0IHsgYnVpbGRTdGF0ZSwgc3RhcnQgfSBmcm9tICcuL2dhbWUnO1xuXG52YXIgZ2xvYmFsU3RhdGUgPSBidWlsZFN0YXRlKCk7XG5zdGFydChnbG9iYWxTdGF0ZSk7XG4iXSwic291cmNlUm9vdCI6IiJ9